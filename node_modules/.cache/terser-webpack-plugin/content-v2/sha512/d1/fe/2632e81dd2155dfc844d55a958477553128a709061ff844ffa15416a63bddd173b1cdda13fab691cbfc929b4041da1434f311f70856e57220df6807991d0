{"code":"(this[\"webpackJsonp@minimal/minimal-kit-react\"]=this[\"webpackJsonp@minimal/minimal-kit-react\"]||[]).push([[15],{1297:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return b}));var a=n(3),r=n(36),i=n(35),c=n(614),o=n(198),s=n(1267),l=n(37),d=n(0),u=[\"links\",\"action\",\"heading\",\"moreLink\",\"sx\"];function b(e){var t=e.links,n=e.action,b=e.heading,j=e.moreLink,p=void 0===j?[]:j,h=e.sx,f=Object(r.a)(e,u);return Object(d.jsxs)(c.a,{sx:Object(a.a)({mb:5},h),children:[Object(d.jsxs)(c.a,{sx:{display:\"flex\",alignItems:\"center\"},children:[Object(d.jsxs)(c.a,{sx:{flexGrow:1},children:[Object(d.jsx)(o.a,{variant:\"h4\",gutterBottom:!0,children:b}),Object(d.jsx)(l.b,Object(a.a)({links:t},f))]}),n&&Object(d.jsx)(c.a,{sx:{flexShrink:0},children:n})]}),Object(d.jsx)(c.a,{sx:{mt:2},children:Object(i.isString)(p)?Object(d.jsx)(s.a,{href:p,target:\"_blank\",variant:\"body2\",children:p}):p.map((function(e){return Object(d.jsx)(s.a,{noWrap:!0,href:e,variant:\"body2\",target:\"_blank\",sx:{display:\"table\"},children:e},e)}))})]})}},1299:function(e,t,n){\"use strict\";function a(e){return new Promise((function(t){return setTimeout(t,e)}))}n.d(t,\"a\",(function(){return a}))},1305:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var a=n(3),r=n(36),i=n(1269),c=n(198),o=n(0),s=[\"searchQuery\"];function l(e){var t=e.searchQuery,n=void 0===t?\"\":t,l=Object(r.a)(e,s);return Object(o.jsxs)(i.a,Object(a.a)(Object(a.a)({},l),{},{children:[Object(o.jsx)(c.a,{gutterBottom:!0,align:\"center\",variant:\"subtitle1\",children:\"Not found\"}),Object(o.jsxs)(c.a,{variant:\"body2\",align:\"center\",children:[\"No results found for \\xa0\",Object(o.jsxs)(\"strong\",{children:['\"',n,'\"']}),\". Try checking for typos or using complete words.\"]})]}))}},1347:function(e,t,n){\"use strict\";n.d(t,\"d\",(function(){return f})),n.d(t,\"b\",(function(){return m})),n.d(t,\"a\",(function(){return g})),n.d(t,\"c\",(function(){return x}));var a=n(614),r=n(23),i=n(400),c=n.n(i),o=n(0),s=[\"jpg\",\"jpeg\",\"gif\",\"bmp\",\"png\"],l=[\"m4v\",\"avi\",\"mpg\",\"mp4\",\"webm\"],d=[\"doc\",\"docx\"],u=[\"xls\",\"xlsx\"],b=[\"ppt\",\"pptx\"],j=[\"pdf\"],p=[\"psd\"],h=[\"ai\",\"esp\"];function f(e){return e.split(\".\").pop()}function m(e){return e.substring(e.lastIndexOf(\"/\")+1).replace(/\\.[^/.]+$/,\"\")}function g(e){return e.split(\"/\").pop()}var O=function(e){return Object(o.jsx)(a.a,{component:\"img\",src:\"/static/icons/file/\".concat(e,\".svg\"),alt:e,sx:{width:28,height:28}})};function x(e){var t;switch(function(e){var t;switch(e.includes(f(e))){case s.includes(f(e)):t=\"image\";break;case l.includes(f(e)):t=\"video\";break;case d.includes(f(e)):t=\"word\";break;case u.includes(f(e)):t=\"excel\";break;case b.includes(f(e)):t=\"powerpoint\";break;case j.includes(f(e)):t=\"pdf\";break;case p.includes(f(e)):t=\"photoshop\";break;case h.includes(f(e)):t=\"illustrator\";break;default:t=f(e)}return t}(e)){case\"image\":t=Object(o.jsx)(a.a,{component:\"img\",src:e,alt:e,sx:{width:1,height:1}});break;case\"video\":t=O(\"file_type_video\");break;case\"word\":t=O(\"file_type_word\");break;case\"excel\":t=O(\"file_type_excel\");break;case\"powerpoint\":t=O(\"file_type_powerpoint\");break;case\"pdf\":t=O(\"file_type_pdf\");break;case\"photoshop\":t=O(\"file_type_photoshop\");break;case\"illustrator\":t=O(\"file_type_ai\");break;default:t=Object(o.jsx)(a.a,{component:r.a,icon:c.a,sx:{width:28,height:28}})}return t}},1399:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return x}));var a=n(16),r=n(36),i=n(3),c=(n(1464),n(1494)),o=n(23),s=n(1),l=n(1465),d=n.n(l),u=n(7),b=n(73),j=n(52),p=n(263),h=n(1271),f=n(0),m=[\"disabled\",\"value\",\"setValue\",\"alignRight\"],g=Object(u.a)(\"div\")({position:\"relative\"}),O=Object(u.a)(\"div\")((function(e){var t=e.theme;return{bottom:40,overflow:\"hidden\",position:\"absolute\",left:t.spacing(-2),boxShadow:t.customShadows.z20,borderRadius:t.shape.borderRadiusMd,\"& .emoji-mart\":{border:\"none\",backgroundColor:t.palette.background.paper},\"& .emoji-mart-anchor\":{color:t.palette.text.disabled,\"&:hover, &:focus, &.emoji-mart-anchor-selected\":{color:t.palette.text.primary}},\"& .emoji-mart-bar\":{borderColor:t.palette.divider},\"& .emoji-mart-search input\":{backgroundColor:\"transparent\",color:t.palette.text.primary,borderColor:t.palette.grey[50032],\"&::placeholder\":Object(i.a)(Object(i.a)({},t.typography.body2),{},{color:t.palette.text.disabled})},\"& .emoji-mart-search-icon svg\":{opacity:1,fill:t.palette.text.disabled},\"& .emoji-mart-category-label span\":Object(i.a)(Object(i.a)({},t.typography.subtitle2),{},{backdropFilter:\"blur(8px)\",WebkitBackdropFilter:\"blur(8px)\",color:t.palette.text.primary,backgroundColor:Object(b.a)(t.palette.background.paper,.8)}),\"& .emoji-mart-title-label\":{color:t.palette.text.primary},\"& .emoji-mart-category .emoji-mart-emoji:hover:before\":{backgroundColor:t.palette.action.selected},\"& .emoji-mart-emoji\":{outline:\"none\"},\"& .emoji-mart-preview-name\":{color:t.palette.text.primary},\"& .emoji-mart-preview-shortname, .emoji-mart-preview-emoticon\":{color:t.palette.text.secondary}}}));function x(e){var t,n=e.disabled,l=e.value,u=e.setValue,b=e.alignRight,x=void 0!==b&&b,v=Object(r.a)(e,m),y=Object(j.a)(),w=Object(s.useState)(!1),k=Object(a.a)(w,2),_=k[0],S=k[1];_&&(t=Object(f.jsx)(c.a,{color:y.palette.primary.main,title:\"Pick your emoji\\u2026\",emoji:\"point_up\",onSelect:function(e){return u(l+e.native)}}));return Object(f.jsx)(p.a,{onClickAway:function(){S(!1)},children:Object(f.jsxs)(g,Object(i.a)(Object(i.a)({},v),{},{children:[Object(f.jsx)(O,{sx:Object(i.a)({},x&&{right:-2,left:\"auto !important\"}),children:t}),Object(f.jsx)(h.a,{disabled:n,size:\"small\",onClick:function(e){e.preventDefault(),S(!_)},children:Object(f.jsx)(o.a,{icon:d.a,width:20,height:20})})]}))})}},1401:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return p}));var a=n(36),r=n(3),i=n(1),c=n(1466),o=n(1186),s=n(1232),l=n(73),d=n(198),u=n(0),b=[\"images\",\"photoIndex\",\"setPhotoIndex\",\"isOpen\",\"onClose\"],j=Object(o.a)((function(e){var t=\"rtl\"===e.direction,n=function(t){return{backgroundSize:\"24px 24px\",backgroundPosition:\"center\",backgroundRepeat:\"no-repeat\",backgroundColor:Object(l.a)(e.palette.grey[900],.8),backgroundImage:'url(\"/static/icons/controls/'.concat(t,'.svg\")')}};return Object(s.a)({root:{backdropFilter:\"blur(8px)\",backgroundColor:Object(l.a)(e.palette.grey[900],.88),\"& .ril__toolbar\":{height:\"auto !important\",padding:e.spacing(2,3),backgroundColor:\"transparent\"},\"& .ril__toolbarLeftSide\":{display:\"none\"},\"& .ril__toolbarRightSide\":{height:\"auto !important\",padding:0,flexGrow:1,display:\"flex\",alignItems:\"center\",\"& li\":{display:\"flex\",alignItems:\"center\"},\"& li:first-of-type\":{flexGrow:1},\"& li:not(:first-of-type)\":{width:e.spacing(5),height:e.spacing(5),justifyContent:\"center\",marginLeft:e.spacing(1),borderRadius:e.shape.borderRadius}},\"& button:focus\":{outline:\"none\"},\"& .ril__toolbarRightSide button\":{width:\"100%\",height:\"100%\",\"&.ril__zoomInButton\":n(\"maximize-outline\"),\"&.ril__zoomOutButton\":n(\"minimize-outline\"),\"&.ril__closeButton\":n(\"close\")},\"& .ril__navButtons\":{padding:e.spacing(3),borderRadius:e.shape.borderRadiusSm,\"&.ril__navButtonPrev\":Object(r.a)({left:e.spacing(2),right:\"auto\"},n(t?\"arrow-ios-forward\":\"arrow-ios-back\")),\"&.ril__navButtonNext\":Object(r.a)({right:e.spacing(2),left:\"auto\"},n(t?\"arrow-ios-back\":\"arrow-ios-forward\"))}}})}));function p(e){var t=e.images,n=e.photoIndex,o=e.setPhotoIndex,s=e.isOpen,l=e.onClose,p=Object(a.a)(e,b),h=j();Object(i.useEffect)((function(){document.body.style.overflow=s?\"hidden\":\"unset\"}),[s]);var f=[Object(u.jsx)(d.a,{variant:\"subtitle2\",children:\"\".concat(n+1,\" / \").concat(t.length)})];return Object(u.jsx)(u.Fragment,{children:s&&Object(u.jsx)(c.a,Object(r.a)({mainSrc:t[n],nextSrc:t[(n+1)%t.length],prevSrc:t[(n+t.length-1)%t.length],onCloseRequest:l,onMovePrevRequest:function(){return o((n+t.length-1)%t.length)},onMoveNextRequest:function(){return o((n+1)%t.length)},toolbarButtons:f,reactModalStyle:{overlay:{zIndex:9999}},wrapperClassName:h.root},p))})}},1660:function(e,t){},1754:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return rt}));var a=n(12),r=n.n(a),i=n(20),c=n(16),o=n(1),s=n(32),l=n(1636),d=n.n(l),u=n(1281),b=n(1291),j=n(309),p=n(403),h=n(407),f=n(399),m=n(25),g=n(82),O=n(57),x=n(395),v=n(1297),y=n(23),w=n(1243),k=(n(414),n(1364),n(1459),n(614)),_=(n(1272),n(198)),S=(n(1286),n(1271)),C=n(1179),I=n(1273),R=(n(1275),n(1238),n(1239)),L=(n(1253),n(1237)),M=(n(211),n(401)),A=n(0);var P=n(3),T=n(36),U=n(311),W=n.n(U),F=n(7),z=n(1262),B=n(263),E=n(1288),N=n(1283),q=[\"query\",\"onChange\",\"onFocus\",\"onClickAway\"],D=Object(F.a)(\"div\")((function(e){return{marginTop:e.theme.spacing(2)}})),G=Object(F.a)(z.a)((function(e){var t=e.theme;return{transition:t.transitions.create(\"box-shadow\",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),\"&.Mui-focused\":{boxShadow:t.customShadows.z8},\"& fieldset\":{borderWidth:\"1px !important\",borderColor:\"\".concat(t.palette.grey[50032],\" !important\")}}}));function J(e){var t=e.query,n=e.onChange,a=e.onFocus,r=e.onClickAway,i=Object(T.a)(e,q);return Object(A.jsx)(B.a,{onClickAway:r,children:Object(A.jsx)(D,Object(P.a)(Object(P.a)({},i),{},{children:Object(A.jsx)(E.a,{fullWidth:!0,size:\"small\",children:Object(A.jsx)(G,{value:t,onFocus:a,onChange:n,placeholder:\"Search contacts...\",startAdornment:Object(A.jsx)(N.a,{position:\"start\",children:Object(A.jsx)(k.a,{component:y.a,icon:W.a,sx:{color:\"text.disabled\"}})})})})}))})}var V=n(27),H=n(35),Q=n(1780),Y=n(1285),Z=n(1259),K=n(1256),$=n(237),X=[\"isSelected\",\"opponent\",\"conversation\",\"onSelectConversation\",\"isOpenSidebar\"],ee=Object(F.a)(L.a)((function(e){var t=e.theme;return{padding:t.spacing(1.5,3),transition:t.transitions.create(\"all\")}})),te=Object(F.a)(\"div\")({position:\"relative\",width:48,height:48,\"& .MuiAvatar-img\":{borderRadius:\"50%\"},\"& .MuiAvatar-root\":{width:\"100%\",height:\"100%\"}});function ne(e){var t=e.isSelected,n=e.opponent,a=e.conversation,r=e.onSelectConversation,i=e.isOpenSidebar,c=Object(T.a)(e,X),o=Object(O.a)().user,s=n.created,l=\"\".concat($.b.baseUrl,\"/user/img-src/\").concat(n.avatarUrl),d=n.online?\"online\":\"offline\",u=a&&(a.lastMessage.users_see_message.indexOf(o._id)>-1?0:a.lastMessage.unread_count)||0,b=u>0;return Object(A.jsxs)(ee,Object(P.a)(Object(P.a)({disableGutters:!0,onClick:r,sx:Object(P.a)({},t&&{bgcolor:\"action.selected\"})},c),{},{children:[Object(A.jsx)(Y.a,{children:Object(A.jsx)(k.a,{sx:Object(P.a)({},!1),children:Object(A.jsxs)(te,{className:\"avatarWrapper\",children:[Object(A.jsx)(Z.a,{alt:n.name,src:l}),Object(A.jsx)(M.a,{status:d,sx:{right:2,bottom:2,position:\"absolute\"}})]},n._id)})}),i&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(R.a,{primary:n.name,primaryTypographyProps:{noWrap:!0,variant:\"subtitle2\"},secondary:a&&a.lastMessage.message,secondaryTypographyProps:{noWrap:!0,variant:b?\"subtitle2\":\"body2\",color:b?\"textPrimary\":\"textSecondary\"}}),Object(A.jsxs)(k.a,{sx:{ml:2,height:44,display:\"flex\",alignItems:\"flex-end\",flexDirection:\"column\"},children:[Object(A.jsx)(k.a,{sx:{mb:1.25,fontSize:12,lineHeight:\"22px\",whiteSpace:\"nowrap\",color:\"text.disabled\"},children:Object(Q.a)(new Date(s),{addSuffix:!1})}),b&&Object(A.jsx)(K.a,{color:\"secondary\",badgeContent:u})]})]})]}))}var ae=[\"conversations\",\"isOpenSidebar\",\"activeConversationId\",\"query\",\"onlyUnreadShow\"];function re(e){var t=e.conversations,n=e.isOpenSidebar,a=(e.activeConversationId,e.query),r=e.onlyUnreadShow,i=Object(T.a)(e,ae),c=Object(s.h)(),o=Object(O.a)().user,l=Object(j.d)((function(e){return e.user})).userList,d=Object(s.i)().opponentId,u=function(e){return Object(H.find)(t.byId,(function(t){return Object(H.map)(t.users,(function(e){return e._id})).indexOf(e)>-1}))},b=l.filter((function(e){var t=e._id!==o._id&&e.name.toLowerCase().indexOf(a.toLowerCase())>-1;return r&&t?function(e){var t=u(e);return(t&&(t.lastMessage.users_see_message.indexOf(o._id)>-1?0:t.lastMessage.unread_count)||0)>0}(e._id):t}));return Object(A.jsx)(I.a,Object(P.a)(Object(P.a)({disablePadding:!0},i),{},{children:b.map((function(e){return Object(A.jsx)(ne,{opponent:e,isOpenSidebar:n,conversation:u(e._id),isSelected:d===e._id,onSelectConversation:function(){return t=e._id,void c(\"\".concat(m.b.chat.private,\"/\").concat(t));var t}},e._id)}))}))}n(1460),n(1461),n(1365),n(73),n(1769),n(1770);var ie=n(1250);n(1305),Object(F.a)(\"div\")((function(e){return{display:\"flex\",alignItems:\"center\",padding:e.theme.spacing(2,3)}})),Object(F.a)(\"div\")((function(e){var t=e.theme;return{\"& .MuiAutocomplete-root\":{minWidth:280,marginLeft:t.spacing(2),\"&.Mui-focused .MuiAutocomplete-inputRoot\":{boxShadow:t.customShadows.z8}},\"& .MuiAutocomplete-inputRoot\":{transition:t.transitions.create(\"box-shadow\",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),\"& fieldset\":{borderWidth:\"1px !important\",borderColor:\"\".concat(t.palette.grey[50032],\" !important\")}}}}));n(1462),n(1333);var ce=n(1300),oe=n.n(ce),se=n(136),le=n.n(se),de=n(1779),ue=n(1267),be=n(233),je=n(37),pe=[\"participants\"],he=Object(F.a)(\"div\")((function(e){return{flexShrink:0,minHeight:92,display:\"flex\",alignItems:\"center\",padding:e.theme.spacing(0,3)}}));function fe(e){var t=e.participants,n=Object(V.a)(t)[0];return void 0===n?null:Object(A.jsxs)(k.a,{sx:{display:\"flex\",alignItems:\"center\"},children:[Object(A.jsxs)(k.a,{sx:{position:\"relative\"},children:[Object(A.jsx)(Z.a,{src:n.avatar,alt:n.name}),Object(A.jsx)(M.a,{status:n.status,sx:{position:\"absolute\",right:2,bottom:2}})]}),Object(A.jsxs)(k.a,{sx:{ml:2},children:[Object(A.jsx)(_.a,{variant:\"subtitle2\",children:n.name}),Object(A.jsx)(_.a,{variant:\"body2\",sx:{color:\"text.secondary\"},children:\"offline\"!==n.status?Object(w.a)(n.status):Object(be.d)(n.lastActivity)})]})]})}function me(e){var t=e.participants;return Object(A.jsxs)(\"div\",{children:[Object(A.jsx)(de.a,{max:3,sx:{mb:.5,\"& .MuiAvatar-root\":{width:32,height:32}},children:t.map((function(e){return Object(A.jsx)(Z.a,{alt:e.name,src:e.avatar},e.id)}))}),Object(A.jsx)(ue.a,{variant:\"body2\",underline:\"none\",component:\"button\",color:\"text.secondary\",onClick:function(){},children:Object(A.jsxs)(k.a,{sx:{display:\"flex\",alignItems:\"center\"},children:[t.length,\" persons\",Object(A.jsx)(y.a,{icon:le.a})]})})]})}function ge(e){var t=e.participants,n=Object(T.a)(e,pe),a=t.length>1;return Object(A.jsxs)(he,Object(P.a)(Object(P.a)({},n),{},{children:[a?Object(A.jsx)(me,{participants:t}):Object(A.jsx)(fe,{participants:t}),Object(A.jsx)(k.a,{sx:{flexGrow:1}}),Object(A.jsx)(je.d,{children:Object(A.jsx)(y.a,{icon:oe.a,width:20,height:20})})]}))}var Oe=n(1187),xe=(n(1463),n(1366)),ve=n.n(xe),ye=(n(1346),n(1330)),we=n.n(ye),ke=n(1178),_e=n(1282),Se=n(21),Ce=n(1399),Ie=[\"disabled\",\"conversationId\",\"opponentId\",\"onSend\",\"messageMaxLen\"],Re=Object(F.a)(\"div\")((function(e){return{height:\"auto\",position:\"relative\",alignItems:\"center\",paddingLeft:e.theme.spacing(2)}})),Le=Object(F.a)(\"img\")((function(e){return{height:40,minWidth:40,width:\"auto\",cursor:\"pointer\",objectFit:\"cover\",borderRadius:e.theme.shape.borderRadius}}));function Me(e){var t=e.disabled,n=e.conversationId,a=e.opponentId,s=e.onSend,l=e.messageMaxLen,d=Object(T.a)(e,Ie),u=(Object(j.c)(),Object(o.useRef)(null)),b=Object(o.useState)(\"\"),p=Object(c.a)(b,2),h=p[0],f=p[1],m=Object(O.a)().user,g=Object(o.useState)([]),x=Object(c.a)(g,2),v=x[0],w=x[1],k=Object(o.useState)(null),_=Object(c.a)(k,2),I=_[0],R=_[1],L=function(){var e=Object(i.a)(r.a.mark((function e(){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h||0!==v.length){e.next=2;break}return e.abrupt(\"return\",\"\");case 2:if(!s){e.next=12;break}if(t=[],!I){e.next=11;break}return e.next=7,Se.a.post(\"/message/upload_multi_imgs\",I);case 7:i=e.sent,t=i.data.data,w([]),R(null);case 11:s({conversationId:n,messageId:Object(Oe.a)(),message:h,imgs:t,senderId:m._id,senderName:m.name,messageType:0,receiverId:a});case 12:return e.abrupt(\"return\",f(\"\"));case 13:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(Re,Object(P.a)(Object(P.a)({},d),{},{children:[v.length>0&&Object(A.jsx)(ke.a,{direction:{xs:\"column\",sm:\"row\"},sx:{mt:1,mb:1},spacing:{xs:3,sm:2},children:v.map((function(e){return Object(A.jsx)(Le,{alt:\"attachment\",src:\"\".concat(e.url)},\"\".concat(e.index))}))}),Object(A.jsxs)(ke.a,{direction:{xs:\"column\",sm:\"row\"},sx:{mt:1,mb:1},children:[Object(A.jsx)(_e.a,{disabled:t,fullWidth:!0,value:h,disableUnderline:!0,onKeyUp:function(e){\"Enter\"===e.key&&L()},onChange:function(e){f(e.target.value)},placeholder:\"Type a message\",inputProps:{maxLength:l||1e3},startAdornment:Object(A.jsx)(N.a,{position:\"start\",children:Object(A.jsx)(Ce.a,{disabled:t,value:h,setValue:f})}),endAdornment:Object(A.jsx)(ke.a,{direction:\"row\",spacing:.5,mr:1.5,children:Object(A.jsx)(S.a,{disabled:t,size:\"small\",onClick:function(){u.current.click()},children:Object(A.jsx)(y.a,{icon:we.a,width:24,height:24})})}),sx:{height:\"100%\"}}),Object(A.jsx)(C.a,{orientation:\"vertical\",flexItem:!0}),Object(A.jsx)(S.a,{color:\"primary\",disabled:!h&&0===v.length,onClick:L,sx:{mx:1},children:Object(A.jsx)(y.a,{icon:ve.a,width:24,height:24})})]}),Object(A.jsx)(\"input\",{type:\"file\",multiple:!0,ref:u,accept:\"image/*\",style:{display:\"none\"},onChange:function(e){var t=[],n=[],a=new FormData;t.push(e.target.files);for(var r=0;r<t[0].length;r+=1){var i=t[0][r];a.append(\"img[\".concat(r,\"]\"),i,i.name),n.push({index:r,name:i.name,url:URL.createObjectURL(i)})}w(n),R(a)}})]}))}var Ae=[\"message\",\"conversation\",\"onOpenLightbox\"],Pe=Object(F.a)(\"div\")((function(e){return{display:\"flex\",marginBottom:e.theme.spacing(3)}})),Te=Object(F.a)(\"div\")((function(e){var t=e.theme;return{maxWidth:450,padding:t.spacing(1.5),marginTop:t.spacing(.5),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral}})),Ue=Object(F.a)(_.a)((function(e){var t=e.theme;return{display:\"flex\",marginBottom:t.spacing(.75),color:t.palette.text.secondary}})),We=Object(F.a)(\"img\")((function(e){return{height:80,minWidth:100,width:\"auto\",cursor:\"pointer\",objectFit:\"cover\",borderRadius:e.theme.shape.borderRadius}}));function Fe(e){var t,n=e.message,a=e.conversation,r=e.onOpenLightbox,i=Object(T.a)(e,Ae),c=Object(O.a)().user,o=a.users.find((function(e){return e._id===n.sender_id})),s=n.sender_id===c._id?{type:\"me\"}:{avatar:\"\".concat($.b.baseUrl,\"/user/img-src/\").concat(o.avatarUrl),name:o.name},l=\"me\"===s.type,d=s.name&&s.name.split(\" \")[0];return Object(A.jsx)(Pe,Object(P.a)(Object(P.a)({},i),{},{children:Object(A.jsxs)(k.a,{sx:Object(P.a)({display:\"flex\"},l&&{ml:\"auto\"}),children:[\"me\"!==s.type&&Object(A.jsx)(Z.a,{alt:s.name,src:s.avatar,sx:{width:32,height:32}}),Object(A.jsxs)(k.a,{sx:{ml:2},children:[Object(A.jsxs)(Ue,{noWrap:!0,variant:\"caption\",sx:Object(P.a)({},l&&{justifyContent:\"flex-end\"}),children:[!l&&\"\".concat(d,\",\"),\"\\xa0\",Object(Q.a)(new Date(n.createdAt),{addSuffix:!0})]}),Object(A.jsxs)(Te,{sx:Object(P.a)({},l&&{color:\"grey.800\",bgcolor:\"primary.lighter\"}),children:[Object(A.jsx)(ke.a,{spacing:2,dangerouslySetInnerHTML:{__html:(t=n.message,t.replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gim,(function(e){return'<a target=\"_blank\" href=\"'.concat(e,'\">').concat(e,\"</a>\")})))}}),n.imgs.length>0&&Object(A.jsx)(ke.a,{direction:{xs:\"column\",sm:\"row\"},spacing:{xs:3,sm:2},children:n.imgs.map((function(e){return Object(A.jsx)(We,{alt:\"attachment\",src:\"\".concat($.b.baseUrl,\"/message/img-src/\").concat(e),onClick:function(){return r(\"\".concat($.b.baseUrl,\"/message/img-src/\").concat(e))}},\"\".concat(e))}))})]})]})]})}))}var ze=n(97),Be=n(1401);function Ee(e){var t=e.conversation,n=Object(o.useRef)(),a=Object(o.useState)(!1),r=Object(c.a)(a,2),i=r[0],s=r[1],l=Object(o.useState)(null),d=Object(c.a)(l,2),u=d[0],b=d[1];Object(o.useEffect)((function(){n.current&&(n.current.scrollTop=n.current.scrollHeight)}),[t.messages]);var j=t.messages.filter((function(e){return e.imgs.length>0})).map((function(e){return e.imgs})).join().split(\",\").map((function(e){return\"\".concat($.b.baseUrl,\"/message/img-src/\").concat(e)})),p=function(e){var t=Object(H.findIndex)(j,(function(t){return t===e}));s(!0),b(t)};return Object(A.jsxs)(ze.a,{scrollableNodeProps:{ref:n},sx:{p:3,flexGrow:1},children:[t.messages.map((function(e){return Object(A.jsx)(Fe,{message:e,conversation:t,onOpenLightbox:p},e._id)})),Object(A.jsx)(Be.a,{images:j,photoIndex:u,setPhotoIndex:b,isOpen:i,onClose:function(){return s(!1)}})]})}var Ne=n(312),qe=n.n(Ne),De=n(52),Ge=n(1228),Je=(n(164),n(394));n(504),n(1347),Object(F.a)(\"div\")((function(e){return{flexGrow:1,height:\"100%\",display:\"flex\",overflow:\"hidden\",flexDirection:\"column\",paddingBottom:e.theme.spacing(2)}})),Object(F.a)(\"div\")((function(e){var t=e.theme;return{display:\"flex\",alignItems:\"center\",marginTop:t.spacing(2),padding:t.spacing(0,2.5)}})),Object(F.a)(\"div\")((function(e){var t=e.theme;return{width:40,height:40,flexShrink:0,display:\"flex\",overflow:\"hidden\",alignItems:\"center\",justifyContent:\"center\",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[50016]}})),Object(F.a)(Je.a)((function(e){var t=e.theme;return Object(P.a)(Object(P.a)({},t.typography.overline),{},{height:40,flexShrink:0,borderRadius:0,padding:t.spacing(1,2),justifyContent:\"space-between\",color:t.palette.text.disabled})}));n(1367),n(1323),Object(F.a)(Je.a)((function(e){var t=e.theme;return Object(P.a)(Object(P.a)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:\"space-between\",color:t.palette.text.disabled})})),Object(F.a)(y.a)((function(e){return{width:16,height:16,marginTop:4,color:e.theme.palette.text.secondary}})),Object(F.a)(_.a)((function(e){var t=e.theme;return Object(P.a)({flexGrow:1,maxWidth:160,wordWrap:\"break-word\"},t.typography.body2)}));n(1415),n(199),Object(F.a)(\"div\")((function(e){return{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",marginTop:e.theme.spacing(1.5)}})),Object(F.a)(y.a)((function(e){var t=e.theme;return{width:16,height:16,marginRight:t.spacing(1),color:t.palette.text.secondary}}));Object(F.a)(Je.a)((function(e){var t=e.theme;return Object(P.a)(Object(P.a)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:\"space-between\",color:t.palette.text.disabled})}));Object(F.a)(\"div\")((function(e){var t=e.theme;return{width:240,flexShrink:0,display:\"flex\",position:\"relative\",flexDirection:\"column\",borderLeft:\"solid 1px \".concat(t.palette.divider),transition:t.transitions.create(\"width\")}})),Object(F.a)(\"div\")((function(e){var t=e.theme;return{borderRight:0,display:\"flex\",overflow:\"hidden\",position:\"absolute\",alignItems:\"center\",top:t.spacing(1),left:t.spacing(-4),width:t.spacing(4),height:t.spacing(4),justifyContent:\"center\",boxShadow:t.customShadows.z8,border:\"solid 1px \".concat(t.palette.divider),borderTopLeftRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper,borderBottomLeftRadius:t.shape.borderRadius}}));n(1306);var Ve=n(1290),He=n(1254),Qe=Object(F.a)(\"div\")((function(e){var t=e.theme;return{width:320,flexShrink:0,display:\"flex\",flexDirection:\"column\",transition:t.transitions.create(\"width\"),borderRight:\"1px solid \".concat(t.palette.divider)}}));function Ye(){var e=Object(De.a)(),t=(Object(s.h)(),Object(Ge.a)(e.breakpoints.down(\"md\"))),n=Object(o.useState)(!0),a=Object(c.a)(n,2),l=a[0],d=a[1],u=Object(o.useState)(\"\"),b=Object(c.a)(u,2),p=b[0],h=b[1],f=Object(o.useState)([]),m=Object(c.a)(f,2),g=(m[0],m[1]),O=Object(o.useState)(!1),x=Object(c.a)(O,2),v=(x[0],x[1]),w=Object(j.d)((function(e){return e.privatechat})),_=w.conversations,S=w.activeConversationId,C=Object(o.useState)(!1),I=Object(c.a)(C,2),R=I[0],L=I[1];Object(o.useEffect)((function(){return d(!t)}),[t]),Object(o.useEffect)((function(){if(!l)return v(!1)}),[l]);var M=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.target.value,h(n),!n){e.next=10;break}return e.next=6,Se.a.get(\"/chat/search\",{params:{query:n}});case 6:a=e.sent,g(a.data.results),e.next=11;break;case 10:g([]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case\"end\":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(Qe,{sx:Object(P.a)({},!l&&{width:96}),children:[Object(A.jsxs)(k.a,{sx:{py:2,px:3},children:[Object(A.jsxs)(k.a,{sx:{display:\"flex\",alignItems:\"center\"},children:[l&&Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(k.a,{sx:{flexGrow:1}})}),Object(A.jsx)(je.d,{onClick:function(){return d(!l)},children:Object(A.jsx)(y.a,{width:20,height:20,icon:l?qe.a:le.a})})]}),l&&Object(A.jsxs)(k.a,{children:[Object(A.jsx)(J,{query:p,onFocus:function(){v(!0)},onChange:M,onClickAway:function(){v(!1),h(\"\")}}),Object(A.jsx)(Ve.a,{control:Object(A.jsx)(He.a,{checked:R,onChange:function(e){L(e.target.checked)}}),label:\"display unread chat partner only\"})]})]}),Object(A.jsx)(ze.a,{children:Object(A.jsx)(re,{conversations:_,isOpenSidebar:l,activeConversationId:S,query:p,onlyUnreadShow:R})})]})}function Ze(e){var t=e.socket,n=Object(j.c)(),a=(Object(s.h)(),Object(O.a)().user),c=Object(s.g)().pathname,l=Object(s.i)().opponentId,d=Object(j.d)((function(e){return e.privatechat})),u=(d.contacts,d.recipients,d.participants),b=d.activeConversationId,p=Object(j.d)((function(e){return function(e){var t=e.privatechat,n=t.conversations,a=t.activeConversationId;return n.byId[a]||{id:null,messages:[],lastMessage:null,users:[]}}(e)})),g=Object(j.d)((function(e){return e.setting})).settingsList.find((function(e){return\"parameter\"===e.type}));Object(o.useEffect)((function(){n(Object(f.b)())}),[n]);var x=u.filter((function(e){return\"8864c717-587d-472a-929a-8e5f298024da-0\"!==e._id}));Object(o.useEffect)((function(){b&&(console.log(\"get conversation\",b),n(Object(h.d)(b)))}),[n,b]),Object(o.useEffect)((function(){p.lastMessage&&-1===p.lastMessage.users_see_message.indexOf(a._id)&&t.emit(\"makeLastMessageAsSeen\",JSON.stringify({chatId:b,userId:a._id}))}),[n,p]);var v=function(){var e=Object(i.a)(r.a.mark((function e(a){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n(Object(h.g)(a)),i={sender_id:a.senderId,sender_name:a.senderName,messageId:a.messageId,chat_id:a.conversationId,message:a.message,receiver_id:a.receiverId,message_type:a.messageType,imgs:a.imgs},console.log(\"socket new message\",i),t.emit(\"new_message\",JSON.stringify(i))}catch(r){console.error(r)}case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(k.a,{sx:{flexGrow:1,display:\"flex\",flexDirection:\"column\"},children:[Object(A.jsx)(ge,{participants:x}),Object(A.jsx)(C.a,{}),Object(A.jsx)(k.a,{sx:{flexGrow:1,display:\"flex\",overflow:\"hidden\"},children:Object(A.jsxs)(k.a,{sx:{display:\"flex\",flexGrow:1,flexDirection:\"column\"},children:[Object(A.jsx)(Ee,{conversation:p}),Object(A.jsx)(C.a,{}),Object(A.jsx)(Me,{conversationId:b,opponentId:l,onSend:v,disabled:c===m.b.chat.private,messageMaxLen:g&&Number(g.settings.message_limit_character_num)})]})})]})}var Ke=n(231),$e=n(162),Xe=n(230),et=n(1257),tt=n(1261),nt=n(1299);function at(e){var t=e.chatSettings,n=(Object(s.h)(),Object($e.useSnackbar)().enqueueSnackbar),a=Ke.b().shape({admin_message:Ke.d().required(\"This field is required\")}),c=Object(Xe.c)({enableReinitialize:!0,initialValues:{admin_message:(null===t||void 0===t?void 0:t.settings.admin_message)||\"Please leave a message, I will reply to you as soon as possible. You may talk about anything: advertising, complaining, suggestions, advice, cooperation, etc.\"},validationSchema:a,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(t,a){var i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.setSubmitting,a.resetForm,c=a.setErrors,e.prev=1,e.next=4,Object(nt.a)(500);case 4:return e.next=6,Se.a.put(\"/settings/chat\",t);case 6:i(!1),n(\"Update success\",{variant:\"success\"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),i(!1),c(e.t0);case 15:case\"end\":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()}),o=c.errors,l=(c.values,c.touched),d=c.handleSubmit,u=c.isSubmitting,j=(c.setFieldValue,c.getFieldProps);return Object(A.jsx)(Xe.b,{value:c,children:Object(A.jsx)(Xe.a,{noValidate:!0,autoComplete:\"off\",onSubmit:d,children:Object(A.jsx)(tt.a,{container:!0,spacing:3,children:Object(A.jsx)(tt.a,{item:!0,xs:12,md:12,children:Object(A.jsx)(b.a,{sx:{p:3},children:Object(A.jsx)(ke.a,{spacing:3,children:Object(A.jsxs)(ke.a,{direction:{xs:\"column\",sm:\"row\"},spacing:{xs:3,sm:2},children:[Object(A.jsx)(ie.a,Object(P.a)(Object(P.a)({fullWidth:!0,label:\"Admin Message\",multiline:!0,minRows:2,maxRows:4},j(\"admin_message\")),{},{error:Boolean(l.message&&o.message),helperText:l.message&&o.message})),Object(A.jsx)(et.a,{type:\"submit\",variant:\"contained\",loading:u,children:\"Save\"})]})})})})})})})}function rt(){var e=Object(g.a)().themeStretch,t=Object(j.c)(),n=Object(O.a)().user,a=Object(s.i)().opponentId,l=Object(j.d)((function(e){return e.setting})).settingsList.find((function(e){return\"chat\"===e.type})),y=Object(j.d)((function(e){return e.privatechat})).activeConversationId,w=Object(o.useState)(null),k=Object(c.a)(w,2),_=k[0],S=k[1];console.log(\"Private Chat\"),Object(o.useEffect)((function(){if(a){var e=(null===l||void 0===l?void 0:l.settings.admin_message)||\"Please leave a message, I will reply to you as soon as possible. You may talk about anything: advertising, complaining, suggestions, advice, cooperation, etc.\";t(Object(h.f)(n._id,a,e))}}),[t,a]),Object(o.useEffect)((function(){t(Object(p.i)()),t(Object(h.e)()),t(Object(h.c)()),t(Object(f.b)())}),[t]);var C=Object(o.useState)(null),I=Object(c.a)(C,2),R=I[0],L=I[1];Object(o.useEffect)((function(){var e=d.a.connect(\"\".concat($.b.socketUrl,\"/api/message\"),{transports:[\"websocket\"]});return e.on(\"connect\",(function(){console.log(\"Successfully connected\")})),e.on(\"connect_failed\",(function(){console.log(\"Connection Failed\")})),e.on(\"disconnect\",(function(){console.log(\"Disconnected\")})),e.on(\"msgReceive\",M),e.on(\"onDeleted\",P),e.on(\"onTyping\",T),L(e),function(){return e.close()}}),[L]),Object(o.useEffect)((function(){if(R&&y){_&&_!==y&&(console.log(\"leaveChat\",_),R.emit(\"leaveChat\",JSON.stringify({chatId:_}))),console.log(\"joinChat\",y);var e={chatId:y};R.emit(\"joinChat\",JSON.stringify(e)),S(y)}}),[R,t,y]);var M=function(){var e=Object(i.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(y,n),y&&t(Object(h.d)(y));case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n),t(Object(h.d)(y));case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=Object(o.useState)(null),W=Object(c.a)(U,2),F=(W[0],W[1]);Object(o.useEffect)((function(){console.log(\"RoomList Socket!\");var e=d.a.connect(\"\".concat($.b.socketUrl,\"/api/chatRoomList\"),{transports:[\"websocket\"]});return e.on(\"connect\",(function(){console.log(\"Successfully connected: api/chatRoomList\")})),e.on(\"updateChatRoomList\",z),F(e),function(){return e.close()}}),[F]);var z=function(){console.log(\"handleUpdateChatRoomList\"),t(Object(h.e)())};return Object(A.jsx)(x.a,{title:\"Chat | Locals\",children:Object(A.jsxs)(u.a,{maxWidth:!e&&\"xl\",children:[Object(A.jsx)(v.a,{heading:\"Private Chat\",links:[{name:\"Dashboard\",href:m.b.root},{name:\"Private Chat\"}]}),Object(A.jsx)(at,{chatSettings:l}),Object(A.jsxs)(b.a,{sx:{height:\"72vh\",display:\"flex\"},children:[Object(A.jsx)(Ye,{}),R&&Object(A.jsx)(Ze,{socket:R})]})]})})}}}]);","name":"static/js/15.14e9474c.chunk.js","map":{"version":3,"sources":["static/js/15.14e9474c.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","d","HeaderBreadcrumbs","E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","lodash__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core__WEBPACK_IMPORTED_MODULE_4__","_material_ui_core__WEBPACK_IMPORTED_MODULE_5__","_material_extend__WEBPACK_IMPORTED_MODULE_6__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__","_excluded","_ref","links","action","heading","_ref$moreLink","moreLink","sx","other","Object","mb","children","display","alignItems","flexGrow","variant","gutterBottom","flexShrink","mt","href","target","map","noWrap","fakeRequest","time","Promise","res","setTimeout","SearchNotFound","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__","_ref$searchQuery","searchQuery","align","getFileType","getFileName","getFileFullName","getFileThumb","_material_ui_core__WEBPACK_IMPORTED_MODULE_0__","_iconify_react__WEBPACK_IMPORTED_MODULE_1__","_iconify_icons_eva_file_fill__WEBPACK_IMPORTED_MODULE_2__","_iconify_icons_eva_file_fill__WEBPACK_IMPORTED_MODULE_2___default","n","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__","FORMAT_IMG","FORMAT_VIDEO","FORMAT_WORD","FORMAT_EXCEL","FORMAT_POWERPOINT","FORMAT_PDF","FORMAT_PHOTOSHOP","FORMAT_ILLUSTRATOR","fileUrl","split","pop","substring","lastIndexOf","replace","getIcon","name","component","src","concat","alt","width","height","thumb","format","includes","getFileFormat","icon","a","EmojiPicker","E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__","emoji_mart__WEBPACK_IMPORTED_MODULE_4__","_iconify_react__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_6__","_iconify_icons_eva_smiling_face_fill__WEBPACK_IMPORTED_MODULE_7__","_iconify_icons_eva_smiling_face_fill__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_10__","_material_ui_core__WEBPACK_IMPORTED_MODULE_11__","_material_ui_core__WEBPACK_IMPORTED_MODULE_12__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__","RootStyle","position","PickerStyle","theme","bottom","overflow","left","spacing","boxShadow","customShadows","z20","borderRadius","shape","borderRadiusMd","border","backgroundColor","palette","background","paper","color","text","disabled","primary","borderColor","divider","grey","typography","body2","opacity","fill","subtitle2","backdropFilter","WebkitBackdropFilter","selected","outline","secondary","_ref2","emojiPicker","value","setValue","_ref2$alignRight","alignRight","_useState","_useState2","emojiPickerState","SetEmojiPicker","main","title","emoji","onSelect","native","onClickAway","right","size","onClick","e","preventDefault","LightboxModal","E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react_image_lightbox__WEBPACK_IMPORTED_MODULE_3__","_material_ui_styles__WEBPACK_IMPORTED_MODULE_4__","_material_ui_styles__WEBPACK_IMPORTED_MODULE_5__","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__","useStyles","isRTL","direction","backgroundIcon","iconName","backgroundSize","backgroundPosition","backgroundRepeat","backgroundImage","root","padding","justifyContent","marginLeft","borderRadiusSm","images","photoIndex","setPhotoIndex","isOpen","onClose","classes","document","body","style","toolbarButtons","length","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","reactModalStyle","overlay","zIndex","wrapperClassName","exports","r","PrivateChat","regenerator","regenerator_default","asyncToGenerator","slicedToArray","react","react_router","lib","lib_default","Container","Card","store","slices_user","privatechat","settings","paths","useSettings","useAuth","Page","iconify_esm","dist_es2015","Box","Typography","IconButton","Divider","List","ListItemText","ListItemButton","BadgeStatus","jsx_runtime","objectSpread2","objectWithoutProperties","search_fill","search_fill_default","styled","OutlinedInput","ClickAwayListener","FormControl","InputAdornment","marginTop","SearchStyle","transition","transitions","create","easing","easeInOut","duration","shorter","z8","borderWidth","ChatContactSearch","_ref3","query","onChange","onFocus","fullWidth","placeholder","startAdornment","toConsumableArray","lodash","formatDistanceToNowStrict","ListItemAvatar","Avatar","Badge","config","ChatConversationItem_excluded","ChatConversationItem_RootStyle","AvatarWrapperStyle","ChatConversationItem","isSelected","opponent","conversation","onSelectConversation","isOpenSidebar","user","displayLastActivity","created","avatarImgSrc","baseUrl","avatarUrl","opponentStatus","online","unreadCount","lastMessage","users_see_message","indexOf","_id","unread_count","isUnread","disableGutters","bgcolor","className","status","primaryTypographyProps","message","secondaryTypographyProps","ml","flexDirection","fontSize","lineHeight","whiteSpace","Date","addSuffix","badgeContent","ChatConversationList_excluded","ChatConversationList","conversations","activeConversationId","onlyUnreadShow","navigate","userList","state","opponentId","getConversationByUserId","userId","byId","users","localUsers","filter","result","toLowerCase","disablePadding","conversationUserId","chat","private","TextField","minWidth","more_vertical_fill","more_vertical_fill_default","arrow_ios_forward_fill","arrow_ios_forward_fill_default","AvatarGroup","Link","formatTime","_material_extend","ChatHeaderDetail_excluded","ChatHeaderDetail_RootStyle","minHeight","OneAvatar","participants","participant","undefined","avatar","lastActivity","GroupAvatar","max","id","underline","ChatHeaderDetail","_ref4","isGroup","v4","round_send","round_send_default","round_add_photo_alternate","round_add_photo_alternate_default","Stack","Input","axios","ChatMessageInput_excluded","ChatMessageInput_RootStyle","paddingLeft","MessageImgStyle","cursor","objectFit","ChatMessageInput","conversationId","onSend","messageMaxLen","fileInputRef","setMessage","_useState3","_useState4","imageFiles","setImageFiles","_useState5","_useState6","uploadImgs","setUploadImgs","handleSend","mark","_callee","imgs","wrap","_context","prev","next","abrupt","post","sent","data","messageId","senderId","senderName","messageType","receiverId","stop","apply","arguments","xs","sm","img","url","index","disableUnderline","onKeyUp","event","key","inputProps","maxLength","endAdornment","mr","current","click","orientation","flexItem","mx","type","multiple","ref","accept","fileObj","fileArray","formData","FormData","files","i","file","append","URL","createObjectURL","ChatMessageItem_excluded","ChatMessageItem_RootStyle","marginBottom","ContentStyle","maxWidth","neutral","InfoStyle","ChatMessageItem_MessageImgStyle","ChatMessageItem","_ref5","onOpenLightbox","sender","find","sender_id","senderDetails","isMe","firstName","createdAt","dangerouslySetInnerHTML","__html","Scrollbar","ChatMessageList","scrollRef","openLightbox","setOpenLightbox","selectedImage","setSelectedImage","scrollTop","scrollHeight","messages","join","handleOpenLightbox","scrollableNodeProps","p","arrow_ios_back_fill","arrow_ios_back_fill_default","useTheme","useMediaQuery","Button","paddingBottom","overline","wordWrap","marginRight","borderLeft","borderRight","top","borderTopLeftRadius","borderBottomLeftRadius","FormControlLabel","Checkbox","ChatSidebar_RootStyle","ChatSidebar","isMobile","breakpoints","down","openSidebar","setOpenSidebar","setSearchQuery","setSearchResults","_useState7","_useState8","setSearchFocused","_useSelector","_useState9","_useState10","setOnlyUnreadShow","handleChangeSearch","response","get","params","results","t0","console","error","_x","py","px","control","checked","label","ChatWindow","socket","dispatch","pathname","contacts","recipients","_state$privatechat","conversationSelector","parameterSettings","setting","settingsList","settingRow","displayParticipants","item","log","emit","JSON","stringify","chatId","handleSendMessage","sender_name","chat_id","receiver_id","message_type","Number","message_limit_character_num","es","dist","formik_esm","LoadingButton","Grid","ChatAdminMessageForm","chatSettings","enqueueSnackbar","ChatAdminMessageSchema","admin_message","required","formik","enableReinitialize","initialValues","validationSchema","onSubmit","_onSubmit","values","setSubmitting","setErrors","resetForm","put","_x2","errors","touched","handleSubmit","isSubmitting","getFieldProps","setFieldValue","noValidate","autoComplete","container","md","multiline","minRows","maxRows","Boolean","helperText","loading","themeStretch","currentConversationId","setCurrentCoversationId","setSocket","newSocket","connect","socketUrl","transports","on","handleReceiveMessage","handleDeleteMessage","onTyping","close","_callee2","_context2","_callee3","_context3","_x3","setRoomListSocket","handleUpdateChatRoomList"],"mappings":"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"},"input":"(this[\"webpackJsonp@minimal/minimal-kit-react\"] = this[\"webpackJsonp@minimal/minimal-kit-react\"] || []).push([[15],{\n\n/***/ 1297:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return HeaderBreadcrumbs; });\n/* harmony import */ var E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(614);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(198);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1267);\n/* harmony import */ var _material_extend__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(37);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);\nvar _excluded=[\"links\",\"action\",\"heading\",\"moreLink\",\"sx\"];// material\n//\n// ----------------------------------------------------------------------\nfunction HeaderBreadcrumbs(_ref){var links=_ref.links,action=_ref.action,heading=_ref.heading,_ref$moreLink=_ref.moreLink,moreLink=_ref$moreLink===void 0? false||[]:_ref$moreLink,sx=_ref.sx,other=Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref,_excluded);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{sx:Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({mb:5},sx),children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{sx:{flexGrow:1},children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{variant:\"h4\",gutterBottom:true,children:heading}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_material_extend__WEBPACK_IMPORTED_MODULE_6__[/* MBreadcrumbs */ \"b\"],Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({links:links},other))]}),action&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{sx:{flexShrink:0},children:action})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{sx:{mt:2},children:Object(lodash__WEBPACK_IMPORTED_MODULE_2__[\"isString\"])(moreLink)?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{href:moreLink,target:\"_blank\",variant:\"body2\",children:moreLink}):moreLink.map(function(href){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{noWrap:true,href:href,variant:\"body2\",target:\"_blank\",sx:{display:'table'},children:href},href);})})]});}\n\n/***/ }),\n\n/***/ 1299:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return fakeRequest; });\n// ----------------------------------------------------------------------\nfunction fakeRequest(time){return new Promise(function(res){return setTimeout(res,time);});}\n\n/***/ }),\n\n/***/ 1305:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SearchNotFound; });\n/* harmony import */ var E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1269);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(198);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);\nvar _excluded=[\"searchQuery\"];// material\n// ----------------------------------------------------------------------\nfunction SearchNotFound(_ref){var _ref$searchQuery=_ref.searchQuery,searchQuery=_ref$searchQuery===void 0?'':_ref$searchQuery,other=Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref,_excluded);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},other),{},{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{gutterBottom:true,align:\"center\",variant:\"subtitle1\",children:\"Not found\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{variant:\"body2\",align:\"center\",children:[\"No results found for \\xA0\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"strong\",{children:[\"\\\"\",searchQuery,\"\\\"\"]}),\". Try checking for typos or using complete words.\"]})]}));}\n\n/***/ }),\n\n/***/ 1347:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getFileType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getFileName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getFileFullName; });\n/* unused harmony export getFileFormat */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getFileThumb; });\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(614);\n/* harmony import */ var _iconify_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23);\n/* harmony import */ var _iconify_icons_eva_file_fill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(400);\n/* harmony import */ var _iconify_icons_eva_file_fill__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_eva_file_fill__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__);\n// material\n//\n// ----------------------------------------------------------------------\nvar FORMAT_IMG=['jpg','jpeg','gif','bmp','png'];var FORMAT_VIDEO=['m4v','avi','mpg','mp4','webm'];var FORMAT_WORD=['doc','docx'];var FORMAT_EXCEL=['xls','xlsx'];var FORMAT_POWERPOINT=['ppt','pptx'];var FORMAT_PDF=['pdf'];var FORMAT_PHOTOSHOP=['psd'];var FORMAT_ILLUSTRATOR=['ai','esp'];function getFileType(fileUrl){return fileUrl.split('.').pop();}function getFileName(fileUrl){return fileUrl.substring(fileUrl.lastIndexOf('/')+1).replace(/\\.[^/.]+$/,'');}function getFileFullName(fileUrl){return fileUrl.split('/').pop();}function getFileFormat(fileUrl){var format;switch(fileUrl.includes(getFileType(fileUrl))){case FORMAT_IMG.includes(getFileType(fileUrl)):format='image';break;case FORMAT_VIDEO.includes(getFileType(fileUrl)):format='video';break;case FORMAT_WORD.includes(getFileType(fileUrl)):format='word';break;case FORMAT_EXCEL.includes(getFileType(fileUrl)):format='excel';break;case FORMAT_POWERPOINT.includes(getFileType(fileUrl)):format='powerpoint';break;case FORMAT_PDF.includes(getFileType(fileUrl)):format='pdf';break;case FORMAT_PHOTOSHOP.includes(getFileType(fileUrl)):format='photoshop';break;case FORMAT_ILLUSTRATOR.includes(getFileType(fileUrl)):format='illustrator';break;default:format=getFileType(fileUrl);}return format;}var getIcon=function getIcon(name){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"],{component:\"img\",src:\"/static/icons/file/\".concat(name,\".svg\"),alt:name,sx:{width:28,height:28}});};function getFileThumb(fileUrl){var thumb;switch(getFileFormat(fileUrl)){case'image':thumb=/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"],{component:\"img\",src:fileUrl,alt:fileUrl,sx:{width:1,height:1}});break;case'video':thumb=getIcon('file_type_video');break;case'word':thumb=getIcon('file_type_word');break;case'excel':thumb=getIcon('file_type_excel');break;case'powerpoint':thumb=getIcon('file_type_powerpoint');break;case'pdf':thumb=getIcon('file_type_pdf');break;case'photoshop':thumb=getIcon('file_type_photoshop');break;case'illustrator':thumb=getIcon('file_type_ai');break;default:thumb=/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"],{component:_iconify_react__WEBPACK_IMPORTED_MODULE_1__[/* Icon */ \"a\"],icon:_iconify_icons_eva_file_fill__WEBPACK_IMPORTED_MODULE_2___default.a,sx:{width:28,height:28}});}return thumb;}\n\n/***/ }),\n\n/***/ 1399:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EmojiPicker; });\n/* harmony import */ var E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(16);\n/* harmony import */ var E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36);\n/* harmony import */ var E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n/* harmony import */ var emoji_mart_css_emoji_mart_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1464);\n/* harmony import */ var emoji_mart_css_emoji_mart_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(emoji_mart_css_emoji_mart_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var emoji_mart__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1494);\n/* harmony import */ var _iconify_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(23);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _iconify_icons_eva_smiling_face_fill__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(1465);\n/* harmony import */ var _iconify_icons_eva_smiling_face_fill__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_eva_smiling_face_fill__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(7);\n/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(73);\n/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(52);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(263);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(1271);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__);\nvar _excluded=[\"disabled\",\"value\",\"setValue\",\"alignRight\"];// material\n// ----------------------------------------------------------------------\nvar RootStyle=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])('div')({position:'relative'});var PickerStyle=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])('div')(function(_ref){var theme=_ref.theme;return{bottom:40,overflow:'hidden',position:'absolute',left:theme.spacing(-2),boxShadow:theme.customShadows.z20,borderRadius:theme.shape.borderRadiusMd,'& .emoji-mart':{border:'none',backgroundColor:theme.palette.background.paper},'& .emoji-mart-anchor':{color:theme.palette.text.disabled,'&:hover, &:focus, &.emoji-mart-anchor-selected':{color:theme.palette.text.primary}},'& .emoji-mart-bar':{borderColor:theme.palette.divider},'& .emoji-mart-search input':{backgroundColor:'transparent',color:theme.palette.text.primary,borderColor:theme.palette.grey[50032],'&::placeholder':Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},theme.typography.body2),{},{color:theme.palette.text.disabled})},'& .emoji-mart-search-icon svg':{opacity:1,fill:theme.palette.text.disabled},'& .emoji-mart-category-label span':Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},theme.typography.subtitle2),{},{backdropFilter:'blur(8px)',WebkitBackdropFilter:'blur(8px)',// Fix on Mobile\ncolor:theme.palette.text.primary,backgroundColor:Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__[/* alpha */ \"a\"])(theme.palette.background.paper,0.8)}),'& .emoji-mart-title-label':{color:theme.palette.text.primary},'& .emoji-mart-category .emoji-mart-emoji:hover:before':{backgroundColor:theme.palette.action.selected},'& .emoji-mart-emoji':{outline:'none'},'& .emoji-mart-preview-name':{color:theme.palette.text.primary},'& .emoji-mart-preview-shortname, .emoji-mart-preview-emoticon':{color:theme.palette.text.secondary}};});// ----------------------------------------------------------------------\nfunction EmojiPicker(_ref2){var disabled=_ref2.disabled,value=_ref2.value,setValue=_ref2.setValue,_ref2$alignRight=_ref2.alignRight,alignRight=_ref2$alignRight===void 0?false:_ref2$alignRight,other=Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref2,_excluded);var theme=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"])();var _useState=Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),_useState2=Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState,2),emojiPickerState=_useState2[0],SetEmojiPicker=_useState2[1];var emojiPicker;if(emojiPickerState){emojiPicker=/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(emoji_mart__WEBPACK_IMPORTED_MODULE_4__[/* Picker */ \"a\"],{color:theme.palette.primary.main,title:\"Pick your emoji\\u2026\",emoji:\"point_up\",onSelect:function onSelect(emoji){return setValue(value+emoji.native);}});}var triggerPicker=function triggerPicker(e){e.preventDefault();SetEmojiPicker(!emojiPickerState);};var handleClickAway=function handleClickAway(){SetEmojiPicker(false);};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"],{onClickAway:handleClickAway,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(RootStyle,Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},other),{},{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(PickerStyle,{sx:Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},alignRight&&{right:-2,left:'auto !important'}),children:emojiPicker}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"],{disabled:disabled,size:\"small\",onClick:triggerPicker,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_iconify_react__WEBPACK_IMPORTED_MODULE_5__[/* Icon */ \"a\"],{icon:_iconify_icons_eva_smiling_face_fill__WEBPACK_IMPORTED_MODULE_7___default.a,width:20,height:20})})]}))});}\n\n/***/ }),\n\n/***/ 1401:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return LightboxModal; });\n/* harmony import */ var E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36);\n/* harmony import */ var E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_image_lightbox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1466);\n/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1186);\n/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1232);\n/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(73);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(198);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);\nvar _excluded=[\"images\",\"photoIndex\",\"setPhotoIndex\",\"isOpen\",\"onClose\"];// material\n// ----------------------------------------------------------------------\nvar useStyles=Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(function(theme){var isRTL=theme.direction==='rtl';var backgroundIcon=function backgroundIcon(iconName){return{backgroundSize:'24px 24px',backgroundPosition:'center',backgroundRepeat:'no-repeat',backgroundColor:Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__[/* alpha */ \"a\"])(theme.palette.grey[900],0.8),backgroundImage:\"url(\\\"/static/icons/controls/\".concat(iconName,\".svg\\\")\")};};return Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])({root:{backdropFilter:'blur(8px)',backgroundColor:Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__[/* alpha */ \"a\"])(theme.palette.grey[900],0.88),// Toolbar\n'& .ril__toolbar':{height:'auto !important',padding:theme.spacing(2,3),backgroundColor:'transparent'},'& .ril__toolbarLeftSide':{display:'none'},'& .ril__toolbarRightSide':{height:'auto !important',padding:0,flexGrow:1,display:'flex',alignItems:'center','& li':{display:'flex',alignItems:'center'},'& li:first-of-type':{flexGrow:1},'& li:not(:first-of-type)':{width:theme.spacing(5),height:theme.spacing(5),justifyContent:'center',marginLeft:theme.spacing(1),borderRadius:theme.shape.borderRadius}},// Button\n'& button:focus':{outline:'none'},'& .ril__toolbarRightSide button':{width:'100%',height:'100%','&.ril__zoomInButton':backgroundIcon('maximize-outline'),'&.ril__zoomOutButton':backgroundIcon('minimize-outline'),'&.ril__closeButton':backgroundIcon('close')},'& .ril__navButtons':{padding:theme.spacing(3),borderRadius:theme.shape.borderRadiusSm,'&.ril__navButtonPrev':Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({left:theme.spacing(2),right:'auto'},backgroundIcon(isRTL?'arrow-ios-forward':'arrow-ios-back')),'&.ril__navButtonNext':Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({right:theme.spacing(2),left:'auto'},backgroundIcon(isRTL?'arrow-ios-back':'arrow-ios-forward'))}}});});// ----------------------------------------------------------------------\nfunction LightboxModal(_ref){var images=_ref.images,photoIndex=_ref.photoIndex,setPhotoIndex=_ref.setPhotoIndex,isOpen=_ref.isOpen,onClose=_ref.onClose,other=Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_ref,_excluded);var classes=useStyles();Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function(){if(isOpen){document.body.style.overflow='hidden';}else{document.body.style.overflow='unset';}},[isOpen]);var showIndex=/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"],{variant:\"subtitle2\",children:\"\".concat(photoIndex+1,\" / \").concat(images.length)});var toolbarButtons=[showIndex];var customStyles={overlay:{zIndex:9999}};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"Fragment\"],{children:isOpen&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(react_image_lightbox__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],Object(E_projects_localtalk_mobi_mobilechat_adminpanel_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({mainSrc:images[photoIndex],nextSrc:images[(photoIndex+1)%images.length],prevSrc:images[(photoIndex+images.length-1)%images.length],onCloseRequest:onClose,onMovePrevRequest:function onMovePrevRequest(){return setPhotoIndex((photoIndex+images.length-1)%images.length);},onMoveNextRequest:function onMoveNextRequest(){return setPhotoIndex((photoIndex+1)%images.length);},toolbarButtons:toolbarButtons,reactModalStyle:customStyles,wrapperClassName:classes.root},other))});}\n\n/***/ }),\n\n/***/ 1660:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 1754:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ PrivateChat; });\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(12);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-router/index.js\nvar react_router = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/lib/index.js\nvar lib = __webpack_require__(1636);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Container/Container.js + 1 modules\nvar Container = __webpack_require__(1281);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Card/Card.js + 1 modules\nvar Card = __webpack_require__(1291);\n\n// EXTERNAL MODULE: ./src/redux/store.js + 5 modules\nvar store = __webpack_require__(309);\n\n// EXTERNAL MODULE: ./src/redux/slices/user.js\nvar slices_user = __webpack_require__(403);\n\n// EXTERNAL MODULE: ./src/redux/slices/privatechat.js\nvar privatechat = __webpack_require__(407);\n\n// EXTERNAL MODULE: ./src/redux/slices/settings.js\nvar settings = __webpack_require__(399);\n\n// EXTERNAL MODULE: ./src/routes/paths.js\nvar paths = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./src/hooks/useSettings.js\nvar useSettings = __webpack_require__(82);\n\n// EXTERNAL MODULE: ./src/hooks/useAuth.js\nvar useAuth = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./src/components/Page.js + 1 modules\nvar Page = __webpack_require__(395);\n\n// EXTERNAL MODULE: ./src/components/HeaderBreadcrumbs.js\nvar HeaderBreadcrumbs = __webpack_require__(1297);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/react/dist/iconify.esm.js\nvar iconify_esm = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/capital-case/dist.es2015/index.js\nvar dist_es2015 = __webpack_require__(1243);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/settings-2-fill.js\nvar settings_2_fill = __webpack_require__(414);\nvar settings_2_fill_default = /*#__PURE__*/__webpack_require__.n(settings_2_fill);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-ic/round-account-box.js\nvar round_account_box = __webpack_require__(1364);\nvar round_account_box_default = /*#__PURE__*/__webpack_require__.n(round_account_box);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-ic/round-power-settings-new.js\nvar round_power_settings_new = __webpack_require__(1459);\nvar round_power_settings_new_default = /*#__PURE__*/__webpack_require__.n(round_power_settings_new);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Box/Box.js + 1 modules\nvar Box = __webpack_require__(614);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Popover/Popover.js + 1 modules\nvar Popover = __webpack_require__(1272);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Typography/Typography.js + 1 modules\nvar Typography = __webpack_require__(198);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Tooltip/Tooltip.js + 1 modules\nvar Tooltip = __webpack_require__(1286);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/IconButton/IconButton.js + 1 modules\nvar IconButton = __webpack_require__(1271);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Divider/Divider.js\nvar Divider = __webpack_require__(1179);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/List/List.js + 1 modules\nvar List = __webpack_require__(1273);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/ListItem/ListItem.js + 1 modules\nvar ListItem = __webpack_require__(1275);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/ListItemIcon/ListItemIcon.js\nvar ListItemIcon = __webpack_require__(1238);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/ListItemText/ListItemText.js\nvar ListItemText = __webpack_require__(1239);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Select/Select.js + 4 modules\nvar Select = __webpack_require__(1253);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/ListItemButton/ListItemButton.js\nvar ListItemButton = __webpack_require__(1237);\n\n// EXTERNAL MODULE: ./src/components/MyAvatar.js\nvar MyAvatar = __webpack_require__(211);\n\n// EXTERNAL MODULE: ./src/components/BadgeStatus.js\nvar BadgeStatus = __webpack_require__(401);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatAccount.js\n// material\n// hooks\n//\n// ----------------------------------------------------------------------\nvar STATUS=['online','invisible','away'];function ChatAccount(){var _useAuth=Object(useAuth[\"a\" /* default */])(),user=_useAuth.user;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=Object(react[\"useState\"])('online'),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var handleOpen=function handleOpen(event){setOpen(event.currentTarget);};var handleClose=function handleClose(){setOpen(null);};var handleChangeStatus=function handleChangeStatus(event){setStatus(event.target.value);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{position:'relative'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MyAvatar[\"a\" /* default */],{onClick:handleOpen,sx:{cursor:'pointer',width:48,height:48}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BadgeStatus[\"a\" /* default */],{status:status,sx:{position:'absolute',bottom:2,right:2}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Popover[\"a\" /* default */],{open:Boolean(open),anchorEl:open,onClose:handleClose,anchorOrigin:{vertical:'top',horizontal:'left'},transformOrigin:{vertical:'top',horizontal:'left'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{py:2,pr:1,pl:2.5,display:'flex',alignItems:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MyAvatar[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{ml:2,mr:3},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{noWrap:true,variant:\"subtitle1\",children:user.displayName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{noWrap:true,variant:\"body2\",sx:{color:'text.secondary'},children:user.email})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* default */],{title:\"Log out\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:round_power_settings_new_default.a,width:24,height:24})})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ListItem[\"a\" /* default */],{disableGutters:true,sx:{py:1,px:2.5},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemIcon[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:{width:24,height:24,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BadgeStatus[\"a\" /* default */],{status:status})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemText[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{native:true,fullWidth:true,size:\"small\",value:status,onChange:handleChangeStatus,sx:{'& svg':{display:\"none\"},'& select':{padding:0,typography:'body2','&:focus':{bgcolor:'transparent'}},'& fieldset':{borderWidth:\"0 !important\"}},children:STATUS.map(function(option){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:option,children:Object(dist_es2015[\"a\" /* capitalCase */])(option)},option);})})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ListItemButton[\"a\" /* default */],{disableGutters:true,sx:{py:1,px:2.5},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemIcon[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:round_account_box_default.a,width:24,height:24})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemText[\"a\" /* default */],{primary:\"Profile\",primaryTypographyProps:{variant:'body2'}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ListItemButton[\"a\" /* default */],{disableGutters:true,sx:{py:1,px:2.5},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemIcon[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:settings_2_fill_default.a,width:24,height:24})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemText[\"a\" /* default */],{primary:\"Settings\",primaryTypographyProps:{variant:'body2'}})]})]})]})]});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/search-fill.js\nvar search_fill = __webpack_require__(311);\nvar search_fill_default = /*#__PURE__*/__webpack_require__.n(search_fill);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/styles/styled.js + 2 modules\nvar styled = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/OutlinedInput/OutlinedInput.js + 2 modules\nvar OutlinedInput = __webpack_require__(1262);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/ClickAwayListener/ClickAwayListener.js\nvar ClickAwayListener = __webpack_require__(263);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/FormControl/FormControl.js + 1 modules\nvar FormControl = __webpack_require__(1288);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/InputAdornment/InputAdornment.js + 1 modules\nvar InputAdornment = __webpack_require__(1283);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatContactSearch.js\nvar _excluded=[\"query\",\"onChange\",\"onFocus\",\"onClickAway\"];// material\n// ----------------------------------------------------------------------\nvar RootStyle=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return{marginTop:theme.spacing(2)};});var SearchStyle=Object(styled[\"a\" /* default */])(OutlinedInput[\"a\" /* default */])(function(_ref2){var theme=_ref2.theme;return{transition:theme.transitions.create('box-shadow',{easing:theme.transitions.easing.easeInOut,duration:theme.transitions.duration.shorter}),'&.Mui-focused':{boxShadow:theme.customShadows.z8},'& fieldset':{borderWidth:\"1px !important\",borderColor:\"\".concat(theme.palette.grey[50032],\" !important\")}};});// ----------------------------------------------------------------------\nfunction ChatContactSearch(_ref3){var query=_ref3.query,onChange=_ref3.onChange,onFocus=_ref3.onFocus,onClickAway=_ref3.onClickAway,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref3,_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ClickAwayListener[\"a\" /* default */],{onClickAway:onClickAway,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RootStyle,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},other),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControl[\"a\" /* default */],{fullWidth:true,size:\"small\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchStyle,{value:query,onFocus:onFocus,onChange:onChange,placeholder:\"Search contacts...\",startAdornment:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputAdornment[\"a\" /* default */],{position:\"start\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{component:iconify_esm[\"a\" /* Icon */],icon:search_fill_default.a,sx:{color:'text.disabled'}})})})})}))});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/formatDistanceToNowStrict/index.js + 1 modules\nvar formatDistanceToNowStrict = __webpack_require__(1780);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/ListItemAvatar/ListItemAvatar.js + 1 modules\nvar ListItemAvatar = __webpack_require__(1285);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Avatar/Avatar.js + 2 modules\nvar Avatar = __webpack_require__(1259);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Badge/Badge.js + 3 modules\nvar Badge = __webpack_require__(1256);\n\n// EXTERNAL MODULE: ./src/config.js\nvar config = __webpack_require__(237);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatConversationItem.js\nvar ChatConversationItem_excluded=[\"isSelected\",\"opponent\",\"conversation\",\"onSelectConversation\",\"isOpenSidebar\"];// material\n//\n// hooks\n// ----------------------------------------------------------------------\nvar AVATAR_SIZE=48;var AVATAR_SIZE_GROUP=32;var ChatConversationItem_RootStyle=Object(styled[\"a\" /* default */])(ListItemButton[\"a\" /* default */])(function(_ref){var theme=_ref.theme;return{padding:theme.spacing(1.5,3),transition:theme.transitions.create('all')};});var AvatarWrapperStyle=Object(styled[\"a\" /* default */])('div')({position:'relative',width:AVATAR_SIZE,height:AVATAR_SIZE,'& .MuiAvatar-img':{borderRadius:'50%'},'& .MuiAvatar-root':{width:'100%',height:'100%'}});// ----------------------------------------------------------------------\nvar ChatConversationItem_getDetails=function getDetails(conversation,currentUserId){var otherParticipants=conversation.participants.filter(function(participant){return participant.id!==currentUserId;});var displayNames=otherParticipants.reduce(function(names,participant){return[].concat(Object(toConsumableArray[\"a\" /* default */])(names),[participant.name]);},[]).join(', ');var displayText='';var lastMessage=conversation.messages[conversation.messages.length-1];if(lastMessage){var sender=lastMessage.senderId===currentUserId?'You: ':'';var message=lastMessage.contentType==='image'?'Sent a photo':lastMessage.body;displayText=\"\".concat(sender).concat(message);}return{otherParticipants:otherParticipants,displayNames:displayNames,displayText:displayText};};function ChatConversationItem(_ref2){var isSelected=_ref2.isSelected,opponent=_ref2.opponent,conversation=_ref2.conversation,onSelectConversation=_ref2.onSelectConversation,isOpenSidebar=_ref2.isOpenSidebar,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref2,ChatConversationItem_excluded);var _useAuth=Object(useAuth[\"a\" /* default */])(),user=_useAuth.user;// const displayLastActivity = last(conversation.messages).createdAt;\nvar displayLastActivity=opponent.created;// const isGroup = details.otherParticipants.length > 1;\nvar isGroup=false;// const isOnlineGroup = isGroup && details.otherParticipants.map((item) => item.status).includes('online');\nvar avatarImgSrc=\"\".concat(config[\"b\" /* serverConfig */].baseUrl,\"/user/img-src/\").concat(opponent.avatarUrl);var opponentStatus=opponent.online?'online':'offline';var unreadCount=conversation&&(conversation.lastMessage.users_see_message.indexOf(user._id)>-1?0:conversation.lastMessage.unread_count)||0;var isUnread=unreadCount>0;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ChatConversationItem_RootStyle,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({disableGutters:true,onClick:onSelectConversation,sx:Object(objectSpread2[\"a\" /* default */])({},isSelected&&{bgcolor:'action.selected'})},other),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemAvatar[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:Object(objectSpread2[\"a\" /* default */])({},isGroup&&{position:'relative',width:AVATAR_SIZE,height:AVATAR_SIZE,'& .avatarWrapper':{position:'absolute',width:AVATAR_SIZE_GROUP,height:AVATAR_SIZE_GROUP,'&:nth-of-type(1)':{left:0,zIndex:9,bottom:2,'& .MuiAvatar-root':{border:function border(theme){return\"solid 2px \".concat(theme.palette.background.paper);}}},'&:nth-of-type(2)':{top:2,right:0}}}),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AvatarWrapperStyle,{className:\"avatarWrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{alt:opponent.name,src:avatarImgSrc}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BadgeStatus[\"a\" /* default */],{status:opponentStatus,sx:{right:2,bottom:2,position:'absolute'}})]},opponent._id)})}),isOpenSidebar&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemText[\"a\" /* default */],{primary:opponent.name,primaryTypographyProps:{noWrap:true,variant:'subtitle2'},secondary:conversation&&conversation.lastMessage.message,secondaryTypographyProps:{noWrap:true,variant:isUnread?'subtitle2':'body2',color:isUnread?'textPrimary':'textSecondary'}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{ml:2,height:44,display:'flex',alignItems:'flex-end',flexDirection:'column'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:{mb:1.25,fontSize:12,lineHeight:'22px',whiteSpace:'nowrap',color:'text.disabled'},children:Object(formatDistanceToNowStrict[\"a\" /* default */])(new Date(displayLastActivity),{addSuffix:false})}),isUnread&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Badge[\"a\" /* default */],{color:\"secondary\",badgeContent:unreadCount})]})]})]}));}\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatConversationList.js\nvar ChatConversationList_excluded=[\"conversations\",\"isOpenSidebar\",\"activeConversationId\",\"query\",\"onlyUnreadShow\"];// import { useEffect } from 'react';\n// import socketio from 'socket.io-client';\n// material\n// routes\n//\n// redux\n// hooks\n// import { serverConfig } from '../../../config';\n// ----------------------------------------------------------------------\nfunction ChatConversationList(_ref){var conversations=_ref.conversations,isOpenSidebar=_ref.isOpenSidebar,activeConversationId=_ref.activeConversationId,query=_ref.query,onlyUnreadShow=_ref.onlyUnreadShow,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref,ChatConversationList_excluded);var navigate=Object(react_router[\"h\" /* useNavigate */])();var _useAuth=Object(useAuth[\"a\" /* default */])(),user=_useAuth.user;var _useSelector=Object(store[\"d\" /* useSelector */])(function(state){return state.user;}),userList=_useSelector.userList;var _useParams=Object(react_router[\"i\" /* useParams */])(),opponentId=_useParams.opponentId;var getConversationByUserId=function getConversationByUserId(userId){var conversation=Object(lodash[\"find\"])(conversations.byId,function(value){var userIds=Object(lodash[\"map\"])(value.users,function(user){return user._id;});// console.log(userIds);\nreturn userIds.indexOf(userId)>-1;});// console.log(userId, conversation);\nreturn conversation;};var isUnread=function isUnread(userId){var conversation=getConversationByUserId(userId);var unreadCount=conversation&&(conversation.lastMessage.users_see_message.indexOf(user._id)>-1?0:conversation.lastMessage.unread_count)||0;return unreadCount>0;};var localUsers=userList.filter(function(value){var result=value._id!==user._id&&value.name.toLowerCase().indexOf(query.toLowerCase())>-1;if(onlyUnreadShow&&result){return isUnread(value._id);}return result;});var handleSelectConversation=function handleSelectConversation(conversationUserId){navigate(\"\".concat(paths[\"b\" /* PATH_DASHBOARD */].chat.private,\"/\").concat(conversationUserId));};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({disablePadding:true},other),{},{children:localUsers.map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatConversationItem,{opponent:value,isOpenSidebar:isOpenSidebar,conversation:getConversationByUserId(value._id),isSelected:opponentId===value._id,onSelectConversation:function onSelectConversation(){return handleSelectConversation(value._id);}// sx={{ ...(onlyUnreadShow && isUnread(value._id) && { display: 'none' }) }}\n},value._id);})}));}\n// EXTERNAL MODULE: ./node_modules/autosuggest-highlight/parse/index.js\nvar parse = __webpack_require__(1460);\nvar parse_default = /*#__PURE__*/__webpack_require__.n(parse);\n\n// EXTERNAL MODULE: ./node_modules/autosuggest-highlight/match/index.js\nvar match = __webpack_require__(1461);\nvar match_default = /*#__PURE__*/__webpack_require__.n(match);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/checkmark-fill.js\nvar checkmark_fill = __webpack_require__(1365);\nvar checkmark_fill_default = /*#__PURE__*/__webpack_require__.n(checkmark_fill);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/system/esm/colorManipulator.js\nvar colorManipulator = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Autocomplete/Autocomplete.js + 2 modules\nvar Autocomplete = __webpack_require__(1769);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Chip/Chip.js + 2 modules\nvar Chip = __webpack_require__(1770);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/TextField/TextField.js + 5 modules\nvar TextField = __webpack_require__(1250);\n\n// EXTERNAL MODULE: ./src/components/SearchNotFound.js\nvar SearchNotFound = __webpack_require__(1305);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatHeaderCompose.js\nvar ChatHeaderCompose_excluded=[\"contacts\",\"recipients\",\"onAddRecipient\"];// material\n//\n// ----------------------------------------------------------------------\nvar ChatHeaderCompose_RootStyle=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return{display:'flex',alignItems:'center',padding:theme.spacing(2,3)};});var AutocompleteStyle=Object(styled[\"a\" /* default */])('div')(function(_ref2){var theme=_ref2.theme;return{'& .MuiAutocomplete-root':{minWidth:280,marginLeft:theme.spacing(2),'&.Mui-focused .MuiAutocomplete-inputRoot':{boxShadow:theme.customShadows.z8}},'& .MuiAutocomplete-inputRoot':{transition:theme.transitions.create('box-shadow',{easing:theme.transitions.easing.easeInOut,duration:theme.transitions.duration.shorter}),'& fieldset':{borderWidth:\"1px !important\",borderColor:\"\".concat(theme.palette.grey[50032],\" !important\")}}};});// ----------------------------------------------------------------------\nfunction ChatHeaderCompose(_ref3){var contacts=_ref3.contacts,recipients=_ref3.recipients,onAddRecipient=_ref3.onAddRecipient,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref3,ChatHeaderCompose_excluded);var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),query=_useState2[0],setQuery=_useState2[1];var handleChangeQuery=function handleChangeQuery(event){setQuery(event.target.value);};var handleAddRecipient=function handleAddRecipient(e,recipient){setQuery('');if(onAddRecipient){onAddRecipient(recipient);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ChatHeaderCompose_RootStyle,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},other),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"subtitle2\",sx:{color:'text.secondary'},children:\"To:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutocompleteStyle,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Autocomplete[\"a\" /* default */],{multiple:true,size:\"small\",disablePortal:true,popupIcon:null,clearText:null,noOptionsText:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchNotFound[\"a\" /* default */],{searchQuery:query}),onChange:handleAddRecipient,onInputChange:handleChangeQuery,options:contacts,getOptionLabel:function getOptionLabel(recipient){return recipient.name;},renderOption:function renderOption(props,recipient,_ref4){var inputValue=_ref4.inputValue,selected=_ref4.selected;var name=recipient.name,avatar=recipient.avatar;var matches=match_default()(name,inputValue);var parts=parse_default()(name,matches);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{width:32,height:32,overflow:'hidden',borderRadius:'50%',position:'relative'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{alt:name,src:avatar}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:Object(objectSpread2[\"a\" /* default */])({top:0,opacity:0,width:'100%',height:'100%',display:'flex',position:'absolute',alignItems:'center',justifyContent:'center',bgcolor:function bgcolor(theme){return Object(colorManipulator[\"a\" /* alpha */])(theme.palette.grey[900],0.8);},transition:function transition(theme){return theme.transitions.create('opacity',{easing:theme.transitions.easing.easeInOut,duration:theme.transitions.duration.shorter});}},selected&&{opacity:1,color:'primary.main'}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:checkmark_fill_default.a,width:20,height:20})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:{ml:2}}),parts.map(function(part,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"subtitle2\",color:part.highlight?'primary':'textPrimary',children:part.text},index);})]}));},renderTags:function renderTags(recipients,getTagProps){return recipients.map(function(recipient,index){var id=recipient.id,name=recipient.name,avatar=recipient.avatar;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chip[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])({size:\"small\",label:name,color:\"info\",avatar:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{alt:name,src:avatar})},getTagProps({index:index})),id);});},renderInput:function renderInput(params){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},params),{},{placeholder:recipients.length===0?'Recipients':''}));}})})]}));}\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/video-fill.js\nvar video_fill = __webpack_require__(1462);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/phone-fill.js\nvar phone_fill = __webpack_require__(1333);\nvar phone_fill_default = /*#__PURE__*/__webpack_require__.n(phone_fill);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/more-vertical-fill.js\nvar more_vertical_fill = __webpack_require__(1300);\nvar more_vertical_fill_default = /*#__PURE__*/__webpack_require__.n(more_vertical_fill);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/arrow-ios-forward-fill.js\nvar arrow_ios_forward_fill = __webpack_require__(136);\nvar arrow_ios_forward_fill_default = /*#__PURE__*/__webpack_require__.n(arrow_ios_forward_fill);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/AvatarGroup/AvatarGroup.js + 1 modules\nvar AvatarGroup = __webpack_require__(1779);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Link/Link.js + 1 modules\nvar Link = __webpack_require__(1267);\n\n// EXTERNAL MODULE: ./src/utils/formatTime.js\nvar formatTime = __webpack_require__(233);\n\n// EXTERNAL MODULE: ./src/components/@material-extend/index.js + 5 modules\nvar _material_extend = __webpack_require__(37);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatHeaderDetail.js\nvar ChatHeaderDetail_excluded=[\"participants\"];// material\n// utils\n//\n// ----------------------------------------------------------------------\nvar ChatHeaderDetail_RootStyle=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return{flexShrink:0,minHeight:92,display:'flex',alignItems:'center',padding:theme.spacing(0,3)};});// ----------------------------------------------------------------------\nfunction OneAvatar(_ref2){var participants=_ref2.participants;var participant=Object(toConsumableArray[\"a\" /* default */])(participants)[0];if(participant===undefined){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{position:'relative'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:participant.avatar,alt:participant.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BadgeStatus[\"a\" /* default */],{status:participant.status,sx:{position:'absolute',right:2,bottom:2}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{ml:2},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"subtitle2\",children:participant.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"body2\",sx:{color:'text.secondary'},children:participant.status!=='offline'?Object(dist_es2015[\"a\" /* capitalCase */])(participant.status):Object(formatTime[\"d\" /* fToNow */])(participant.lastActivity)})]})]});}function GroupAvatar(_ref3){var participants=_ref3.participants;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarGroup[\"a\" /* default */],{max:3,sx:{mb:0.5,'& .MuiAvatar-root':{width:32,height:32}},children:participants.map(function(participant){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{alt:participant.name,src:participant.avatar},participant.id);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */],{variant:\"body2\",underline:\"none\",component:\"button\",color:\"text.secondary\",onClick:function onClick(){},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{display:'flex',alignItems:'center'},children:[participants.length,\" persons\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:arrow_ios_forward_fill_default.a})]})})]});}function ChatHeaderDetail(_ref4){var participants=_ref4.participants,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref4,ChatHeaderDetail_excluded);var isGroup=participants.length>1;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ChatHeaderDetail_RootStyle,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},other),{},{children:[isGroup?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupAvatar,{participants:participants}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OneAvatar,{participants:participants}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:{flexGrow:1}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(_material_extend[\"d\" /* MIconButton */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:more_vertical_fill_default.a,width:20,height:20})})]}));}\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(1187);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/mic-fill.js\nvar mic_fill = __webpack_require__(1463);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-ic/round-send.js\nvar round_send = __webpack_require__(1366);\nvar round_send_default = /*#__PURE__*/__webpack_require__.n(round_send);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/attach-2-fill.js\nvar attach_2_fill = __webpack_require__(1346);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-ic/round-add-photo-alternate.js\nvar round_add_photo_alternate = __webpack_require__(1330);\nvar round_add_photo_alternate_default = /*#__PURE__*/__webpack_require__.n(round_add_photo_alternate);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Stack/Stack.js\nvar Stack = __webpack_require__(1178);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Input/Input.js + 1 modules\nvar Input = __webpack_require__(1282);\n\n// EXTERNAL MODULE: ./src/utils/axios.js\nvar axios = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./src/components/EmojiPicker.js\nvar EmojiPicker = __webpack_require__(1399);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatMessageInput.js\nvar ChatMessageInput_excluded=[\"disabled\",\"conversationId\",\"opponentId\",\"onSend\",\"messageMaxLen\"];// material\n// redux\n// hooks\n//\n// ----------------------------------------------------------------------\nvar ChatMessageInput_RootStyle=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return{// minHeight: 56,\nheight:'auto',// display: 'flex',\nposition:'relative',alignItems:'center',paddingLeft:theme.spacing(2)};});var MessageImgStyle=Object(styled[\"a\" /* default */])('img')(function(_ref2){var theme=_ref2.theme;return{height:40,minWidth:40,width:'auto',cursor:'pointer',objectFit:'cover',borderRadius:theme.shape.borderRadius};});// ----------------------------------------------------------------------\nfunction ChatMessageInput(_ref3){var disabled=_ref3.disabled,conversationId=_ref3.conversationId,opponentId=_ref3.opponentId,onSend=_ref3.onSend,messageMaxLen=_ref3.messageMaxLen,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref3,ChatMessageInput_excluded);var dispatch=Object(store[\"c\" /* useDispatch */])();var fileInputRef=Object(react[\"useRef\"])(null);var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useAuth=Object(useAuth[\"a\" /* default */])(),user=_useAuth.user;var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),imageFiles=_useState4[0],setImageFiles=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),uploadImgs=_useState6[0],setUploadImgs=_useState6[1];var handleAttach=function handleAttach(){fileInputRef.current.click();};var handleImageUpload=function handleImageUpload(e){// console.log(e.target.files);\nvar fileObj=[];var fileArray=[];var formData=new FormData();fileObj.push(e.target.files);for(var i=0;i<fileObj[0].length;i+=1){var file=fileObj[0][i];formData.append(\"img[\".concat(i,\"]\"),file,file.name);fileArray.push({index:i,name:file.name,url:URL.createObjectURL(file)});}// console.log(fileArray);\nsetImageFiles(fileArray);setUploadImgs(formData);};var handleChangeMessage=function handleChangeMessage(event){setMessage(event.target.value);};var handleKeyUp=function handleKeyUp(event){if(event.key==='Enter'){handleSend();}};var handleSend=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var imgs,res;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!message&&imageFiles.length===0)){_context.next=2;break;}return _context.abrupt(\"return\",'');case 2:if(!onSend){_context.next=12;break;}// const accessToken = window.localStorage.getItem('accessToken');\n// const authHeader = {\n//   headers: {\n//     Authorization: `Bearer ${accessToken}`\n//   }\n// };\nimgs=[];if(!uploadImgs){_context.next=11;break;}_context.next=7;return axios[\"a\" /* default */].post('/message/upload_multi_imgs',uploadImgs);case 7:res=_context.sent;imgs=res.data.data;setImageFiles([]);setUploadImgs(null);case 11:onSend({conversationId:conversationId,messageId:Object(v4[\"a\" /* default */])(),message:message,imgs:imgs,senderId:user._id,senderName:user.name,messageType:0,receiverId:opponentId});case 12:return _context.abrupt(\"return\",setMessage(''));case 13:case\"end\":return _context.stop();}}},_callee);}));return function handleSend(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ChatMessageInput_RootStyle,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},other),{},{children:[imageFiles.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stack[\"a\" /* default */],{direction:{xs:'column',sm:'row'},sx:{mt:1,mb:1},spacing:{xs:3,sm:2},children:imageFiles.map(function(img){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MessageImgStyle,{alt:\"attachment\",src:\"\".concat(img.url)},\"\".concat(img.index));})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:{xs:'column',sm:'row'},sx:{mt:1,mb:1},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{disabled:disabled,fullWidth:true,value:message,disableUnderline:true,onKeyUp:handleKeyUp,onChange:handleChangeMessage,placeholder:\"Type a message\",inputProps:{maxLength:messageMaxLen||1000},startAdornment:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputAdornment[\"a\" /* default */],{position:\"start\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EmojiPicker[\"a\" /* default */],{disabled:disabled,value:message,setValue:setMessage})}),endAdornment:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stack[\"a\" /* default */],{direction:\"row\",spacing:0.5,mr:1.5,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{disabled:disabled,size:\"small\",onClick:handleAttach,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:round_add_photo_alternate_default.a,width:24,height:24})})}),sx:{height:'100%'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{orientation:\"vertical\",flexItem:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{color:\"primary\",disabled:!message&&imageFiles.length===0,onClick:handleSend,sx:{mx:1},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:round_send_default.a,width:24,height:24})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",multiple:true,ref:fileInputRef,accept:\"image/*\",style:{display:'none'},onChange:handleImageUpload})]}));}\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatMessageItem.js\nvar ChatMessageItem_excluded=[\"message\",\"conversation\",\"onOpenLightbox\"];// material\n// ----------------------------------------------------------------------\nvar ChatMessageItem_RootStyle=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return{display:'flex',marginBottom:theme.spacing(3)};});var ContentStyle=Object(styled[\"a\" /* default */])('div')(function(_ref2){var theme=_ref2.theme;return{maxWidth:450,padding:theme.spacing(1.5),marginTop:theme.spacing(0.5),borderRadius:theme.shape.borderRadius,backgroundColor:theme.palette.background.neutral};});var InfoStyle=Object(styled[\"a\" /* default */])(Typography[\"a\" /* default */])(function(_ref3){var theme=_ref3.theme;return{display:'flex',marginBottom:theme.spacing(0.75),color:theme.palette.text.secondary};});var ChatMessageItem_MessageImgStyle=Object(styled[\"a\" /* default */])('img')(function(_ref4){var theme=_ref4.theme;return{height:80,minWidth:100,width:'auto',cursor:'pointer',objectFit:'cover',borderRadius:theme.shape.borderRadius};});// ----------------------------------------------------------------------\nfunction ChatMessageItem(_ref5){var message=_ref5.message,conversation=_ref5.conversation,onOpenLightbox=_ref5.onOpenLightbox,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref5,ChatMessageItem_excluded);var _useAuth=Object(useAuth[\"a\" /* default */])(),user=_useAuth.user;var sender=conversation.users.find(function(user){return user._id===message.sender_id;});var senderDetails=message.sender_id===user._id?{type:'me'}:{avatar:\"\".concat(config[\"b\" /* serverConfig */].baseUrl,\"/user/img-src/\").concat(sender.avatarUrl),name:sender.name};var isMe=senderDetails.type==='me';var firstName=senderDetails.name&&senderDetails.name.split(' ')[0];var replaceURLWithHTMLLinks=function replaceURLWithHTMLLinks(text){var exp=/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gim;return text.replace(exp,function(url){return\"<a target=\\\"_blank\\\" href=\\\"\".concat(url,\"\\\">\").concat(url,\"</a>\");});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatMessageItem_RootStyle,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},other),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:Object(objectSpread2[\"a\" /* default */])({display:'flex'},isMe&&{ml:'auto'}),children:[senderDetails.type!=='me'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{alt:senderDetails.name,src:senderDetails.avatar,sx:{width:32,height:32}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{ml:2},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(InfoStyle,{noWrap:true,variant:\"caption\",sx:Object(objectSpread2[\"a\" /* default */])({},isMe&&{justifyContent:'flex-end'}),children:[!isMe&&\"\".concat(firstName,\",\"),\"\\xA0\",Object(formatDistanceToNowStrict[\"a\" /* default */])(new Date(message.createdAt),{addSuffix:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContentStyle,{sx:Object(objectSpread2[\"a\" /* default */])({},isMe&&{color:'grey.800',bgcolor:'primary.lighter'}),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stack[\"a\" /* default */],{spacing:2,dangerouslySetInnerHTML:{__html:replaceURLWithHTMLLinks(message.message)}}),message.imgs.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stack[\"a\" /* default */],{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:message.imgs.map(function(img){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatMessageItem_MessageImgStyle,{alt:\"attachment\",src:\"\".concat(config[\"b\" /* serverConfig */].baseUrl,\"/message/img-src/\").concat(img),onClick:function onClick(){return onOpenLightbox(\"\".concat(config[\"b\" /* serverConfig */].baseUrl,\"/message/img-src/\").concat(img));}},\"\".concat(img));})})]})]})]})}));}\n// EXTERNAL MODULE: ./src/components/Scrollbar.js\nvar Scrollbar = __webpack_require__(97);\n\n// EXTERNAL MODULE: ./src/components/LightboxModal.js\nvar LightboxModal = __webpack_require__(1401);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatMessageList.js\n//\n// ----------------------------------------------------------------------\nfunction ChatMessageList(_ref){var conversation=_ref.conversation;var scrollRef=Object(react[\"useRef\"])();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),openLightbox=_useState2[0],setOpenLightbox=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedImage=_useState4[0],setSelectedImage=_useState4[1];Object(react[\"useEffect\"])(function(){var scrollMessagesToBottom=function scrollMessagesToBottom(){if(scrollRef.current){scrollRef.current.scrollTop=scrollRef.current.scrollHeight;}};scrollMessagesToBottom();},[conversation.messages]);var images=conversation.messages.filter(function(messages){return messages.imgs.length>0;}).map(function(messages){return messages.imgs;}).join().split(',').map(function(img){return\"\".concat(config[\"b\" /* serverConfig */].baseUrl,\"/message/img-src/\").concat(img);});var handleOpenLightbox=function handleOpenLightbox(url){var selectedImage=Object(lodash[\"findIndex\"])(images,function(index){return index===url;});setOpenLightbox(true);setSelectedImage(selectedImage);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Scrollbar[\"a\" /* default */],{scrollableNodeProps:{ref:scrollRef},sx:{p:3,flexGrow:1},children:[conversation.messages.map(function(message){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatMessageItem,{message:message,conversation:conversation,onOpenLightbox:handleOpenLightbox},message._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LightboxModal[\"a\" /* default */],{images:images,photoIndex:selectedImage,setPhotoIndex:setSelectedImage,isOpen:openLightbox,onClose:function onClose(){return setOpenLightbox(false);}})]});}\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/arrow-ios-back-fill.js\nvar arrow_ios_back_fill = __webpack_require__(312);\nvar arrow_ios_back_fill_default = /*#__PURE__*/__webpack_require__.n(arrow_ios_back_fill);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/styles/useTheme.js\nvar useTheme = __webpack_require__(52);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/useMediaQuery/useMediaQuery.js\nvar useMediaQuery = __webpack_require__(1228);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/arrow-ios-downward-fill.js\nvar arrow_ios_downward_fill = __webpack_require__(164);\nvar arrow_ios_downward_fill_default = /*#__PURE__*/__webpack_require__.n(arrow_ios_downward_fill);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Button/Button.js + 1 modules\nvar Button = __webpack_require__(394);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Collapse/Collapse.js\nvar Collapse = __webpack_require__(504);\n\n// EXTERNAL MODULE: ./src/utils/getFileFormat.js\nvar getFileFormat = __webpack_require__(1347);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatRoomAttachment.js\nvar ChatRoomAttachment_excluded=[\"conversation\",\"isCollapse\",\"onCollapse\"];// material\n// utils\n//\n// ----------------------------------------------------------------------\nvar ChatRoomAttachment_RootStyle=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return{flexGrow:1,height:'100%',display:'flex',overflow:'hidden',flexDirection:'column',paddingBottom:theme.spacing(2)};});var FileItemStyle=Object(styled[\"a\" /* default */])('div')(function(_ref2){var theme=_ref2.theme;return{display:'flex',alignItems:'center',marginTop:theme.spacing(2),padding:theme.spacing(0,2.5)};});var FileThumbStyle=Object(styled[\"a\" /* default */])('div')(function(_ref3){var theme=_ref3.theme;return{width:40,height:40,flexShrink:0,display:'flex',overflow:'hidden',alignItems:'center',justifyContent:'center',color:theme.palette.text.secondary,borderRadius:theme.shape.borderRadius,backgroundColor:theme.palette.grey[50016]};});var CollapseButtonStyle=Object(styled[\"a\" /* default */])(Button[\"a\" /* default */])(function(_ref4){var theme=_ref4.theme;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},theme.typography.overline),{},{height:40,flexShrink:0,borderRadius:0,padding:theme.spacing(1,2),justifyContent:'space-between',color:theme.palette.text.disabled});});// ----------------------------------------------------------------------\nfunction AttachmentItem(_ref5){var file=_ref5.file,fileUrl=_ref5.fileUrl;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FileItemStyle,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FileThumbStyle,{children:Object(getFileFormat[\"c\" /* getFileThumb */])(fileUrl)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{ml:1.5,maxWidth:150},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"body2\",noWrap:true,children:Object(getFileFormat[\"a\" /* getFileFullName */])(fileUrl)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{noWrap:true,variant:\"caption\",sx:{color:'text.secondary',display:'block'},children:Object(formatTime[\"b\" /* fDateTime */])(file.createdAt)})]})]},fileUrl);}function ChatRoomAttachment(_ref6){var conversation=_ref6.conversation,isCollapse=_ref6.isCollapse,onCollapse=_ref6.onCollapse,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref6,ChatRoomAttachment_excluded);var totalAttachment=Object(lodash[\"uniq\"])(Object(lodash[\"flatten\"])(conversation.messages.map(function(item){return item.attachments;}))).length;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ChatRoomAttachment_RootStyle,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},other),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CollapseButtonStyle,{fullWidth:true,color:\"inherit\",onClick:onCollapse,endIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:isCollapse?arrow_ios_downward_fill_default.a:arrow_ios_forward_fill_default.a,width:16,height:16}),children:[\"attachment (\",totalAttachment,\")\"]}),!isCollapse&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Scrollbar[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Collapse[\"a\" /* default */],{in:isCollapse,children:conversation.messages.map(function(file){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:file.attachments.map(function(fileUrl){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AttachmentItem,{file:file,fileUrl:fileUrl},fileUrl);})},file.id);})})})]}));}\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/pin-fill.js\nvar pin_fill = __webpack_require__(1367);\nvar pin_fill_default = /*#__PURE__*/__webpack_require__.n(pin_fill);\n\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/email-fill.js\nvar email_fill = __webpack_require__(1323);\nvar email_fill_default = /*#__PURE__*/__webpack_require__.n(email_fill);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatRoomOneParticipant.js\nvar ChatRoomOneParticipant_excluded=[\"participants\",\"isCollapse\",\"onCollapse\"];// material\n// ----------------------------------------------------------------------\nvar ChatRoomOneParticipant_CollapseButtonStyle=Object(styled[\"a\" /* default */])(Button[\"a\" /* default */])(function(_ref){var theme=_ref.theme;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},theme.typography.overline),{},{height:40,borderRadius:0,padding:theme.spacing(1,2),justifyContent:'space-between',color:theme.palette.text.disabled});});var RowIconStyle=Object(styled[\"a\" /* default */])(iconify_esm[\"a\" /* Icon */])(function(_ref2){var theme=_ref2.theme;return{width:16,height:16,marginTop:4,color:theme.palette.text.secondary};});var RowTextStyle=Object(styled[\"a\" /* default */])(Typography[\"a\" /* default */])(function(_ref3){var theme=_ref3.theme;return Object(objectSpread2[\"a\" /* default */])({flexGrow:1,maxWidth:160,wordWrap:'break-word'},theme.typography.body2);});// ----------------------------------------------------------------------\nfunction ChatRoomOneParticipant(_ref4){var participants=_ref4.participants,isCollapse=_ref4.isCollapse,onCollapse=_ref4.onCollapse,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref4,ChatRoomOneParticipant_excluded);var participant=Object(toConsumableArray[\"a\" /* default */])(participants)[0];if(participant===undefined){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},other),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{pt:4,pb:3,display:'flex',alignItems:'center',flexDirection:'column'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{alt:participant.name,src:participant.avatar,sx:{width:96,height:96}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{mt:2,textAlign:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"subtitle1\",children:participant.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"body2\",sx:{color:'text.secondary'},children:participant.position})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatRoomOneParticipant_CollapseButtonStyle,{fullWidth:true,color:\"inherit\",onClick:onCollapse,endIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:isCollapse?arrow_ios_downward_fill_default.a:arrow_ios_forward_fill_default.a,width:16,height:16}),children:\"information\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Collapse[\"a\" /* default */],{in:isCollapse,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{spacing:2,sx:{p:2.5,pt:1},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"row\",spacing:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RowIconStyle,{icon:pin_fill_default.a}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RowTextStyle,{children:participant.address})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"row\",spacing:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RowIconStyle,{icon:phone_fill_default.a}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RowTextStyle,{children:participant.phone})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"row\",spacing:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RowIconStyle,{icon:email_fill_default.a}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RowTextStyle,{children:participant.email})]})]})})]}));}\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/DialogContent/DialogContent.js + 1 modules\nvar DialogContent = __webpack_require__(1415);\n\n// EXTERNAL MODULE: ./src/components/animate/index.js + 34 modules\nvar animate = __webpack_require__(199);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatRoomPopup.js\nvar ChatRoomPopup_excluded=[\"participant\",\"isOpen\",\"onClose\"];// material\n//\n// ----------------------------------------------------------------------\nvar RowStyle=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return{display:'flex',alignItems:'center',justifyContent:'center',marginTop:theme.spacing(1.5)};});var IconStyle=Object(styled[\"a\" /* default */])(iconify_esm[\"a\" /* Icon */])(function(_ref2){var theme=_ref2.theme;return{width:16,height:16,marginRight:theme.spacing(1),color:theme.palette.text.secondary};});// ----------------------------------------------------------------------\nfunction ChatRoomPopup(_ref3){var participant=_ref3.participant,isOpen=_ref3.isOpen,onClose=_ref3.onClose,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref3,ChatRoomPopup_excluded);var name=participant.name,avatar=participant.avatar,position=participant.position,address=participant.address,phone=participant.phone,email=participant.email;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(animate[\"b\" /* DialogAnimate */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({fullWidth:true,maxWidth:\"xs\",open:isOpen,onClose:onClose},other),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogContent[\"a\" /* default */],{sx:{pb:5,textAlign:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{alt:name,src:avatar,sx:{mt:5,mb:2,mx:'auto',width:96,height:96}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"body2\",paragraph:true,sx:{color:'text.secondary'},children:position}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(RowStyle,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconStyle,{icon:pin_fill_default.a}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"body2\",children:address})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(RowStyle,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconStyle,{icon:phone_fill_default.a}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"body2\",children:phone})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(RowStyle,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconStyle,{icon:email_fill_default.a}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"body2\",children:email})]})]})}));}\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatRoomGroupParticipant.js\nvar ChatRoomGroupParticipant_excluded=[\"participants\",\"selectUserId\",\"onShowPopupUserInfo\",\"isCollapse\",\"onCollapse\"];// material\n//\n// ----------------------------------------------------------------------\nvar HEIGHT=64;var ChatRoomGroupParticipant_CollapseButtonStyle=Object(styled[\"a\" /* default */])(Button[\"a\" /* default */])(function(_ref){var theme=_ref.theme;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},theme.typography.overline),{},{height:40,borderRadius:0,padding:theme.spacing(1,2),justifyContent:'space-between',color:theme.palette.text.disabled});});// ----------------------------------------------------------------------\nfunction Participant(_ref2){var participant=_ref2.participant,isOpen=_ref2.isOpen,onClosePopup=_ref2.onClosePopup,onShowPopup=_ref2.onShowPopup;var name=participant.name,avatar=participant.avatar,status=participant.status,position=participant.position;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ListItemButton[\"a\" /* default */],{disableGutters:true,onClick:onShowPopup,sx:{height:HEIGHT,px:2.5},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemAvatar[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{position:'relative',width:40,height:40},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{alt:name,src:avatar}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BadgeStatus[\"a\" /* default */],{status:status,sx:{right:0,bottom:0,position:'absolute'}})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemText[\"a\" /* default */],{primary:name,secondary:position,primaryTypographyProps:{variant:'subtitle2',noWrap:true},secondaryTypographyProps:{noWrap:true}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatRoomPopup,{participant:participant,isOpen:isOpen,onClose:onClosePopup})]});}function ChatRoomGroupParticipant(_ref3){var participants=_ref3.participants,selectUserId=_ref3.selectUserId,onShowPopupUserInfo=_ref3.onShowPopupUserInfo,isCollapse=_ref3.isCollapse,onCollapse=_ref3.onCollapse,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref3,ChatRoomGroupParticipant_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},other),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ChatRoomGroupParticipant_CollapseButtonStyle,{fullWidth:true,disableRipple:true,color:\"inherit\",onClick:onCollapse,endIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{icon:isCollapse?arrow_ios_downward_fill_default.a:arrow_ios_forward_fill_default.a,width:16,height:16}),children:[\"In room (\",participants.length,\")\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:{height:isCollapse?HEIGHT*4:0},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Scrollbar[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Collapse[\"a\" /* default */],{in:isCollapse,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],{disablePadding:true,children:participants.map(function(participant){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Participant,{participant:participant,isOpen:selectUserId===participant.id,onShowPopup:function onShowPopup(){return onShowPopupUserInfo(participant.id);},onClosePopup:function onClosePopup(){return onShowPopupUserInfo(null);}},participant.id);})})})})})]}));}\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatRoom.js\nvar ChatRoom_excluded=[\"conversation\",\"participants\"];// material\n//\n// ----------------------------------------------------------------------\nvar ChatRoom_RootStyle=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return{width:240,flexShrink:0,display:'flex',position:'relative',flexDirection:'column',borderLeft:\"solid 1px \".concat(theme.palette.divider),transition:theme.transitions.create('width')};});var ToggleButtonStyle=Object(styled[\"a\" /* default */])('div')(function(_ref2){var theme=_ref2.theme;return{borderRight:0,display:'flex',overflow:'hidden',position:'absolute',alignItems:'center',top:theme.spacing(1),left:theme.spacing(-4),width:theme.spacing(4),height:theme.spacing(4),justifyContent:'center',boxShadow:theme.customShadows.z8,border:\"solid 1px \".concat(theme.palette.divider),borderTopLeftRadius:theme.shape.borderRadius,backgroundColor:theme.palette.background.paper,borderBottomLeftRadius:theme.shape.borderRadius};});// ----------------------------------------------------------------------\nfunction ChatRoom(_ref3){var conversation=_ref3.conversation,participants=_ref3.participants,other=Object(objectWithoutProperties[\"a\" /* default */])(_ref3,ChatRoom_excluded);var theme=Object(useTheme[\"a\" /* default */])();var isMobile=Object(useMediaQuery[\"a\" /* default */])(theme.breakpoints.down('lg'));var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),openSidebar=_useState2[0],setOpenSidebar=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),showInfo=_useState4[0],setShowInfo=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectUser=_useState6[0],setSelectUser=_useState6[1];var _useState7=Object(react[\"useState\"])(true),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),showAttachment=_useState8[0],setShowAttachment=_useState8[1];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),showParticipants=_useState10[0],setShowParticipants=_useState10[1];var isGroup=participants.length>1;Object(react[\"useEffect\"])(function(){if(isMobile){return setOpenSidebar(false);}return setOpenSidebar(true);},[isMobile]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ChatRoom_RootStyle,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({sx:Object(objectSpread2[\"a\" /* default */])({},!openSidebar&&{width:0,'& > *':{overflow:'hidden'}})},other),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ToggleButtonStyle,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setOpenSidebar(!openSidebar);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{width:16,height:16,icon:openSidebar?arrow_ios_forward_fill_default.a:arrow_ios_back_fill_default.a})})}),isGroup?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatRoomGroupParticipant,{selectUserId:selectUser,participants:participants,isCollapse:showParticipants,onShowPopupUserInfo:function onShowPopupUserInfo(participantId){return setSelectUser(participantId);},onCollapse:function onCollapse(){return setShowParticipants(function(prev){return!prev;});}}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatRoomOneParticipant,{participants:participants,isCollapse:showInfo,onCollapse:function onCollapse(){return setShowInfo(function(prev){return!prev;});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{})]}));}\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatSearchResults.js\n// material\n//\n// ----------------------------------------------------------------------\nfunction ChatSearchResults(_ref){var query=_ref.query,results=_ref.results,onSelectContact=_ref.onSelectContact;var isFound=results.length>0;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{paragraph:true,variant:\"subtitle1\",sx:{px:3,color:'text.secondary'},children:\"Contacts\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],{disablePadding:true,children:results.map(function(result){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ListItemButton[\"a\" /* default */],{onClick:function onClick(){return onSelectContact(result);},sx:{py:1.5,px:3},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemAvatar[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{alt:result.name,src:result.avatar})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemText[\"a\" /* default */],{primary:result.name,primaryTypographyProps:{noWrap:true,variant:'subtitle2'}})]},result._id);})}),!isFound&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchNotFound[\"a\" /* default */],{searchQuery:query,sx:{p:3,mx:'auto',width:\"calc(100% - 48px)\",bgcolor:'background.neutral'}})]});}\n// EXTERNAL MODULE: ./node_modules/@iconify/icons-eva/edit-fill.js\nvar edit_fill = __webpack_require__(1306);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/FormControlLabel/FormControlLabel.js + 1 modules\nvar FormControlLabel = __webpack_require__(1290);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Checkbox/Checkbox.js + 4 modules\nvar Checkbox = __webpack_require__(1254);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatSidebar.js\n// material\n// redux\n// utils\n// routes\n// ----------------------------------------------------------------------\nvar ChatSidebar_RootStyle=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return{width:320,flexShrink:0,display:'flex',flexDirection:'column',transition:theme.transitions.create('width'),borderRight:\"1px solid \".concat(theme.palette.divider)};});// ----------------------------------------------------------------------\nfunction ChatSidebar(){var theme=Object(useTheme[\"a\" /* default */])();var navigate=Object(react_router[\"h\" /* useNavigate */])();var isMobile=Object(useMediaQuery[\"a\" /* default */])(theme.breakpoints.down('md'));var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),openSidebar=_useState2[0],setOpenSidebar=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),searchResults=_useState6[0],setSearchResults=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isSearchFocused=_useState8[0],setSearchFocused=_useState8[1];var displayResults=searchQuery&&isSearchFocused;var _useSelector=Object(store[\"d\" /* useSelector */])(function(state){return state.privatechat;}),conversations=_useSelector.conversations,activeConversationId=_useSelector.activeConversationId;var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),onlyUnreadShow=_useState10[0],setOnlyUnreadShow=_useState10[1];Object(react[\"useEffect\"])(function(){if(isMobile){return setOpenSidebar(false);}return setOpenSidebar(true);},[isMobile]);// eslint-disable-next-line consistent-return\nObject(react[\"useEffect\"])(function(){if(!openSidebar){return setSearchFocused(false);}},[openSidebar]);var handleClickAwaySearch=function handleClickAwaySearch(){setSearchFocused(false);setSearchQuery('');};var handleChangeSearch=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var value,response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;value=event.target.value;setSearchQuery(value);if(!value){_context.next=10;break;}_context.next=6;return axios[\"a\" /* default */].get('/chat/search',{params:{query:value}});case 6:response=_context.sent;setSearchResults(response.data.results);_context.next=11;break;case 10:setSearchResults([]);case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function handleChangeSearch(_x){return _ref2.apply(this,arguments);};}();var handleSearchFocus=function handleSearchFocus(){setSearchFocused(true);};var handleSearchSelect=function handleSearchSelect(username){setSearchFocused(false);setSearchQuery('');navigate(\"\".concat(paths[\"b\" /* PATH_DASHBOARD */].chat.root,\"/\").concat(username));};var handleSelectContact=function handleSelectContact(result){if(handleSearchSelect){handleSearchSelect(result.username);}};var handleUnreadShowChange=function handleUnreadShowChange(e){setOnlyUnreadShow(e.target.checked);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ChatSidebar_RootStyle,{sx:Object(objectSpread2[\"a\" /* default */])({},!openSidebar&&{width:96}),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{py:2,px:3},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{display:'flex',alignItems:'center'},children:[openSidebar&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:{flexGrow:1}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(_material_extend[\"d\" /* MIconButton */],{onClick:function onClick(){return setOpenSidebar(!openSidebar);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(iconify_esm[\"a\" /* Icon */],{width:20,height:20,icon:openSidebar?arrow_ios_back_fill_default.a:arrow_ios_forward_fill_default.a})})]}),openSidebar&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatContactSearch,{query:searchQuery,onFocus:handleSearchFocus,onChange:handleChangeSearch,onClickAway:handleClickAwaySearch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkbox[\"a\" /* default */],{checked:onlyUnreadShow,onChange:handleUnreadShowChange}),label:\"display unread chat partner only\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Scrollbar[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatConversationList,{conversations:conversations,isOpenSidebar:openSidebar,activeConversationId:activeConversationId// sx={{ ...(isSearchFocused && { display: 'none' }) }}\n,query:searchQuery,onlyUnreadShow:onlyUnreadShow})})]});}\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatWindow.js\n// material\n// redux\n// routes\n//\n// import ChatRoom from './ChatRoom';\n// hooks\n// ----------------------------------------------------------------------\nvar conversationSelector=function conversationSelector(state){var _state$privatechat=state.privatechat,conversations=_state$privatechat.conversations,activeConversationId=_state$privatechat.activeConversationId;var conversation=conversations.byId[activeConversationId];if(conversation){return conversation;}return{id:null,messages:[],lastMessage:null,users:[]};};function ChatWindow(_ref){var socket=_ref.socket;var dispatch=Object(store[\"c\" /* useDispatch */])();var navigate=Object(react_router[\"h\" /* useNavigate */])();var _useAuth=Object(useAuth[\"a\" /* default */])(),user=_useAuth.user;var _useLocation=Object(react_router[\"g\" /* useLocation */])(),pathname=_useLocation.pathname;var _useParams=Object(react_router[\"i\" /* useParams */])(),opponentId=_useParams.opponentId;var _useSelector=Object(store[\"d\" /* useSelector */])(function(state){return state.privatechat;}),contacts=_useSelector.contacts,recipients=_useSelector.recipients,participants=_useSelector.participants,activeConversationId=_useSelector.activeConversationId;var conversation=Object(store[\"d\" /* useSelector */])(function(state){return conversationSelector(state);});var _useSelector2=Object(store[\"d\" /* useSelector */])(function(state){return state.setting;}),settingsList=_useSelector2.settingsList;var parameterSettings=settingsList.find(function(settingRow){return settingRow.type==='parameter';});Object(react[\"useEffect\"])(function(){dispatch(Object(settings[\"b\" /* getSettingsList */])());},[dispatch]);var mode=opponentId?'DETAIL':'COMPOSE';var displayParticipants=participants.filter(function(item){return item._id!=='8864c717-587d-472a-929a-8e5f298024da-0';});Object(react[\"useEffect\"])(function(){if(activeConversationId){console.log('get conversation',activeConversationId);dispatch(Object(privatechat[\"d\" /* getConversation */])(activeConversationId));// dispatch(markConversationAsRead(activeConversationId));\n}},[dispatch,activeConversationId]);Object(react[\"useEffect\"])(function(){// console.log(conversation);\nif(conversation.lastMessage&&conversation.lastMessage.users_see_message.indexOf(user._id)===-1){socket.emit('makeLastMessageAsSeen',JSON.stringify({chatId:activeConversationId,userId:user._id}));}},[dispatch,conversation]);var handleAddRecipient=function handleAddRecipient(recipient){dispatch(Object(privatechat[\"a\" /* addRecipients */])(recipient));};var handleSendMessage=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(value){var message;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{dispatch(Object(privatechat[\"g\" /* onSendMessage */])(value));message={sender_id:value.senderId,sender_name:value.senderName,messageId:value.messageId,chat_id:value.conversationId,message:value.message,receiver_id:value.receiverId,message_type:value.messageType,imgs:value.imgs};console.log('socket new message',message);socket.emit('new_message',JSON.stringify(message));}catch(error){console.error(error);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleSendMessage(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{flexGrow:1,display:'flex',flexDirection:'column'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatHeaderDetail,{participants:displayParticipants}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:{flexGrow:1,display:'flex',overflow:'hidden'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{display:'flex',flexGrow:1,flexDirection:'column'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatMessageList,{conversation:conversation}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatMessageInput,{conversationId:activeConversationId,opponentId:opponentId,onSend:handleSendMessage,disabled:pathname===paths[\"b\" /* PATH_DASHBOARD */].chat.private,messageMaxLen:parameterSettings&&Number(parameterSettings.settings.message_limit_character_num)})]})})]});}\n// EXTERNAL MODULE: ./node_modules/yup/es/index.js + 29 modules\nvar es = __webpack_require__(231);\n\n// EXTERNAL MODULE: ./node_modules/notistack5/dist/index.js\nvar dist = __webpack_require__(162);\n\n// EXTERNAL MODULE: ./node_modules/formik/dist/formik.esm.js + 114 modules\nvar formik_esm = __webpack_require__(230);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/lab/LoadingButton/LoadingButton.js + 3 modules\nvar LoadingButton = __webpack_require__(1257);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/Grid/Grid.js + 2 modules\nvar Grid = __webpack_require__(1261);\n\n// EXTERNAL MODULE: ./src/utils/fakeRequest.js\nvar fakeRequest = __webpack_require__(1299);\n\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/ChatAdminMessageForm.js\n// material\n// utils\n// ----------------------------------------------------------------------\nfunction ChatAdminMessageForm(_ref){var chatSettings=_ref.chatSettings;var navigate=Object(react_router[\"h\" /* useNavigate */])();var _useSnackbar=Object(dist[\"useSnackbar\"])(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var ChatAdminMessageSchema=es[\"b\" /* object */]().shape({admin_message:es[\"d\" /* string */]().required('This field is required')});var formik=Object(formik_esm[\"c\" /* useFormik */])({enableReinitialize:true,initialValues:{admin_message:(chatSettings===null||chatSettings===void 0?void 0:chatSettings.settings.admin_message)||'Please leave a message, I will reply to you as soon as possible. You may talk about anything: advertising, complaining, suggestions, advice, cooperation, etc.'},validationSchema:ChatAdminMessageSchema,onSubmit:function(){var _onSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(values,_ref2){var setSubmitting,resetForm,setErrors;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitting=_ref2.setSubmitting,resetForm=_ref2.resetForm,setErrors=_ref2.setErrors;_context.prev=1;_context.next=4;return Object(fakeRequest[\"a\" /* default */])(500);case 4:_context.next=6;return axios[\"a\" /* default */].put(\"/settings/chat\",values);case 6:setSubmitting(false);enqueueSnackbar('Update success',{variant:'success'});_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setSubmitting(false);setErrors(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var errors=formik.errors,values=formik.values,touched=formik.touched,handleSubmit=formik.handleSubmit,isSubmitting=formik.isSubmitting,setFieldValue=formik.setFieldValue,getFieldProps=formik.getFieldProps;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"b\" /* FormikProvider */],{value:formik,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"a\" /* Form */],{noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,spacing:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:12,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */],{sx:{p:3},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stack[\"a\" /* default */],{spacing:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({fullWidth:true,label:\"Admin Message\",multiline:true,minRows:2,maxRows:4},getFieldProps('admin_message')),{},{error:Boolean(touched.message&&errors.message),helperText:touched.message&&errors.message})),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingButton[\"a\" /* default */],{type:\"submit\",variant:\"contained\",loading:isSubmitting,children:\"Save\"})]})})})})})})});}\n// CONCATENATED MODULE: ./src/components/_dashboard/privatechat/index.js\n\n// CONCATENATED MODULE: ./src/pages/dashboard/PrivateChat.js\n// material\n// redux\n// routes\n// hooks\n// components\n// ----------------------------------------------------------------------\nfunction PrivateChat(){var _useSettings=Object(useSettings[\"a\" /* default */])(),themeStretch=_useSettings.themeStretch;var dispatch=Object(store[\"c\" /* useDispatch */])();var _useAuth=Object(useAuth[\"a\" /* default */])(),user=_useAuth.user;var _useParams=Object(react_router[\"i\" /* useParams */])(),opponentId=_useParams.opponentId;var _useSelector=Object(store[\"d\" /* useSelector */])(function(state){return state.setting;}),settingsList=_useSelector.settingsList;var chatSettings=settingsList.find(function(settingRow){return settingRow.type==='chat';});var _useSelector2=Object(store[\"d\" /* useSelector */])(function(state){return state.privatechat;}),activeConversationId=_useSelector2.activeConversationId;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentConversationId=_useState2[0],setCurrentCoversationId=_useState2[1];console.log('Private Chat');Object(react[\"useEffect\"])(function(){if(opponentId){var lastMessage=(chatSettings===null||chatSettings===void 0?void 0:chatSettings.settings.admin_message)||'Please leave a message, I will reply to you as soon as possible. You may talk about anything: advertising, complaining, suggestions, advice, cooperation, etc.';dispatch(Object(privatechat[\"f\" /* onConnectChat */])(user._id,opponentId,lastMessage));}},[dispatch,opponentId]);Object(react[\"useEffect\"])(function(){dispatch(Object(slices_user[\"i\" /* getUserList */])());dispatch(Object(privatechat[\"e\" /* getConversations */])());dispatch(Object(privatechat[\"c\" /* getContacts */])());dispatch(Object(settings[\"b\" /* getSettingsList */])());},[dispatch]);var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),socket=_useState4[0],setSocket=_useState4[1];Object(react[\"useEffect\"])(function(){var newSocket=lib_default.a.connect(\"\".concat(config[\"b\" /* serverConfig */].socketUrl,\"/api/message\"),{// EIO: 2,\n// reconnect: true,\ntransports:['websocket']});newSocket.on('connect',function(){console.log('Successfully connected');});newSocket.on('connect_failed',function(){console.log('Connection Failed');});newSocket.on('disconnect',function(){console.log('Disconnected');});newSocket.on('msgReceive',handleReceiveMessage);newSocket.on('onDeleted',handleDeleteMessage);newSocket.on('onTyping',onTyping);setSocket(newSocket);return function(){return newSocket.close();};},[setSocket]);Object(react[\"useEffect\"])(function(){if(socket&&activeConversationId){if(currentConversationId&&currentConversationId!==activeConversationId){console.log('leaveChat',currentConversationId);socket.emit('leaveChat',JSON.stringify({chatId:currentConversationId}));}console.log('joinChat',activeConversationId);var params={chatId:activeConversationId};socket.emit('joinChat',JSON.stringify(params));setCurrentCoversationId(activeConversationId);}},[socket,dispatch,activeConversationId]);var handleReceiveMessage=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(value){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(activeConversationId,value);if(activeConversationId){dispatch(Object(privatechat[\"d\" /* getConversation */])(activeConversationId));}case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleReceiveMessage(_x){return _ref.apply(this,arguments);};}();var handleDeleteMessage=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(value){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(value);dispatch(Object(privatechat[\"d\" /* getConversation */])(activeConversationId));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDeleteMessage(_x2){return _ref2.apply(this,arguments);};}();var onTyping=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(value){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(value);case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function onTyping(_x3){return _ref3.apply(this,arguments);};}();var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),roomListSocket=_useState6[0],setRoomListSocket=_useState6[1];Object(react[\"useEffect\"])(function(){console.log('RoomList Socket!');var newSocket=lib_default.a.connect(\"\".concat(config[\"b\" /* serverConfig */].socketUrl,\"/api/chatRoomList\"),{// reconnect: true,\ntransports:['websocket']});newSocket.on('connect',function(){console.log('Successfully connected: api/chatRoomList');});newSocket.on('updateChatRoomList',handleUpdateChatRoomList);setRoomListSocket(newSocket);return function(){return newSocket.close();};},[setRoomListSocket]);var handleUpdateChatRoomList=function handleUpdateChatRoomList(){console.log('handleUpdateChatRoomList');dispatch(Object(privatechat[\"e\" /* getConversations */])());};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Page[\"a\" /* default */],{title:\"Chat | Locals\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{maxWidth:themeStretch?false:'xl',children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HeaderBreadcrumbs[\"a\" /* default */],{heading:\"Private Chat\",links:[{name:'Dashboard',href:paths[\"b\" /* PATH_DASHBOARD */].root},{name:'Private Chat'}]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatAdminMessageForm,{chatSettings:chatSettings}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{sx:{height:'72vh',display:'flex'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatSidebar,{}),socket&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatWindow,{socket:socket})]})]})});}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/HeaderBreadcrumbs.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/utils/fakeRequest.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/SearchNotFound.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/utils/getFileFormat.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/EmojiPicker.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/LightboxModal.js","ignored E:\\projects\\localtalk.mobi\\mobilechat-adminpanel\\node_modules\\engine.io-client\\lib\\transports ws","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatAccount.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatContactSearch.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatConversationItem.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatConversationList.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatHeaderCompose.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatHeaderDetail.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatMessageInput.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatMessageItem.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatMessageList.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatRoomAttachment.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatRoomOneParticipant.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatRoomPopup.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatRoomGroupParticipant.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatRoom.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatSearchResults.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatSidebar.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatWindow.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatAdminMessageForm.js","E:/projects/localtalk.mobi/mobilechat-adminpanel/src/pages/dashboard/PrivateChat.js"],"names":["HeaderBreadcrumbs","links","action","heading","moreLink","sx","other","mb","display","alignItems","flexGrow","flexShrink","mt","isString","map","href","fakeRequest","time","Promise","res","setTimeout","SearchNotFound","searchQuery","FORMAT_IMG","FORMAT_VIDEO","FORMAT_WORD","FORMAT_EXCEL","FORMAT_POWERPOINT","FORMAT_PDF","FORMAT_PHOTOSHOP","FORMAT_ILLUSTRATOR","getFileType","fileUrl","split","pop","getFileName","substring","lastIndexOf","replace","getFileFullName","getFileFormat","format","includes","getIcon","name","width","height","getFileThumb","thumb","Icon","fileFill","RootStyle","styled","position","PickerStyle","theme","bottom","overflow","left","spacing","boxShadow","customShadows","z20","borderRadius","shape","borderRadiusMd","border","backgroundColor","palette","background","paper","color","text","disabled","primary","borderColor","divider","grey","typography","body2","opacity","fill","subtitle2","backdropFilter","WebkitBackdropFilter","alpha","selected","outline","secondary","EmojiPicker","value","setValue","alignRight","useTheme","useState","emojiPickerState","SetEmojiPicker","emojiPicker","main","emoji","native","triggerPicker","e","preventDefault","handleClickAway","right","smilingFaceFill","useStyles","makeStyles","isRTL","direction","backgroundIcon","iconName","backgroundSize","backgroundPosition","backgroundRepeat","backgroundImage","createStyles","root","padding","justifyContent","marginLeft","borderRadiusSm","LightboxModal","images","photoIndex","setPhotoIndex","isOpen","onClose","classes","useEffect","document","body","style","showIndex","length","toolbarButtons","customStyles","overlay","zIndex","STATUS","ChatAccount","useAuth","user","open","setOpen","status","setStatus","handleOpen","event","currentTarget","handleClose","handleChangeStatus","target","cursor","Boolean","vertical","horizontal","py","pr","pl","ml","mr","displayName","email","roundPowerSettingsNew","px","bgcolor","borderWidth","option","capitalCase","roundAccountBox","variant","settings2Fill","marginTop","SearchStyle","OutlinedInput","transition","transitions","create","easing","easeInOut","duration","shorter","z8","ChatContactSearch","query","onChange","onFocus","onClickAway","searchFill","AVATAR_SIZE","AVATAR_SIZE_GROUP","ListItemButton","AvatarWrapperStyle","getDetails","conversation","currentUserId","otherParticipants","participants","filter","participant","id","displayNames","reduce","names","join","displayText","lastMessage","messages","sender","senderId","message","contentType","ChatConversationItem","isSelected","opponent","onSelectConversation","isOpenSidebar","displayLastActivity","created","isGroup","avatarImgSrc","serverConfig","baseUrl","avatarUrl","opponentStatus","online","unreadCount","users_see_message","indexOf","_id","unread_count","isUnread","top","noWrap","flexDirection","fontSize","lineHeight","whiteSpace","formatDistanceToNowStrict","Date","addSuffix","ChatConversationList","conversations","activeConversationId","onlyUnreadShow","navigate","useNavigate","useSelector","state","userList","useParams","opponentId","getConversationByUserId","userId","find","byId","userIds","users","localUsers","result","toLowerCase","handleSelectConversation","conversationUserId","PATH_DASHBOARD","chat","private","AutocompleteStyle","minWidth","ChatHeaderCompose","contacts","recipients","onAddRecipient","setQuery","handleChangeQuery","handleAddRecipient","recipient","props","inputValue","avatar","matches","match","parts","parse","checkmarkFill","part","index","highlight","getTagProps","params","minHeight","OneAvatar","undefined","fToNow","lastActivity","GroupAvatar","arrowIosForwardFill","ChatHeaderDetail","moreVerticalFill","paddingLeft","MessageImgStyle","objectFit","ChatMessageInput","conversationId","onSend","messageMaxLen","dispatch","useDispatch","fileInputRef","useRef","setMessage","imageFiles","setImageFiles","uploadImgs","setUploadImgs","handleAttach","current","click","handleImageUpload","fileObj","fileArray","formData","FormData","push","files","i","file","append","url","URL","createObjectURL","handleChangeMessage","handleKeyUp","key","handleSend","imgs","axios","post","data","messageId","uuidv4","senderName","messageType","receiverId","xs","sm","img","maxLength","roundAddPhotoAlternate","mx","roundSend","marginBottom","ContentStyle","maxWidth","neutral","InfoStyle","Typography","ChatMessageItem","onOpenLightbox","sender_id","senderDetails","type","isMe","firstName","replaceURLWithHTMLLinks","exp","createdAt","__html","ChatMessageList","scrollRef","openLightbox","setOpenLightbox","selectedImage","setSelectedImage","scrollMessagesToBottom","scrollTop","scrollHeight","handleOpenLightbox","findIndex","ref","p","paddingBottom","FileItemStyle","FileThumbStyle","CollapseButtonStyle","Button","overline","AttachmentItem","fDateTime","ChatRoomAttachment","isCollapse","onCollapse","totalAttachment","uniq","flatten","item","attachments","arrowIosDownwardFill","RowIconStyle","RowTextStyle","wordWrap","ChatRoomOneParticipant","pt","pb","textAlign","pinFill","address","phoneFill","phone","emailFill","RowStyle","IconStyle","marginRight","ChatRoomPopup","HEIGHT","Participant","onClosePopup","onShowPopup","ChatRoomGroupParticipant","selectUserId","onShowPopupUserInfo","borderLeft","ToggleButtonStyle","borderRight","borderTopLeftRadius","borderBottomLeftRadius","ChatRoom","isMobile","useMediaQuery","breakpoints","down","openSidebar","setOpenSidebar","showInfo","setShowInfo","selectUser","setSelectUser","showAttachment","setShowAttachment","showParticipants","setShowParticipants","arrowIosBackFill","participantId","prev","ChatSearchResults","results","onSelectContact","isFound","ChatSidebar","setSearchQuery","searchResults","setSearchResults","isSearchFocused","setSearchFocused","displayResults","privatechat","setOnlyUnreadShow","handleClickAwaySearch","handleChangeSearch","get","response","console","error","handleSearchFocus","handleSearchSelect","username","handleSelectContact","handleUnreadShowChange","checked","conversationSelector","ChatWindow","socket","useLocation","pathname","setting","settingsList","parameterSettings","settingRow","getSettingsList","mode","displayParticipants","log","getConversation","emit","JSON","stringify","chatId","addRecipients","handleSendMessage","onSendMessage","sender_name","chat_id","receiver_id","message_type","Number","settings","message_limit_character_num","ChatAdminMessageForm","chatSettings","useSnackbar","enqueueSnackbar","ChatAdminMessageSchema","Yup","admin_message","required","formik","useFormik","enableReinitialize","initialValues","validationSchema","onSubmit","values","setSubmitting","resetForm","setErrors","put","errors","touched","handleSubmit","isSubmitting","setFieldValue","getFieldProps","PrivateChat","useSettings","themeStretch","currentConversationId","setCurrentCoversationId","onConnectChat","getUserList","getConversations","getContacts","setSocket","newSocket","socketio","connect","socketUrl","transports","on","handleReceiveMessage","handleDeleteMessage","onTyping","close","roomListSocket","setRoomListSocket","handleUpdateChatRoomList"],"mappings":"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","file":"x","sourcesContent":["import { isString } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\n// material\r\nimport { Box, Typography, Link } from '@material-ui/core';\r\n//\r\nimport { MBreadcrumbs } from './@material-extend';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nHeaderBreadcrumbs.propTypes = {\r\n  links: PropTypes.array,\r\n  action: PropTypes.node,\r\n  heading: PropTypes.string.isRequired,\r\n  moreLink: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\r\n  sx: PropTypes.object\r\n};\r\n\r\nexport default function HeaderBreadcrumbs({ links, action, heading, moreLink = '' || [], sx, ...other }) {\r\n  return (\r\n    <Box sx={{ mb: 5, ...sx }}>\r\n      <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n        <Box sx={{ flexGrow: 1 }}>\r\n          <Typography variant=\"h4\" gutterBottom>\r\n            {heading}\r\n          </Typography>\r\n          <MBreadcrumbs links={links} {...other} />\r\n        </Box>\r\n\r\n        {action && <Box sx={{ flexShrink: 0 }}>{action}</Box>}\r\n      </Box>\r\n\r\n      <Box sx={{ mt: 2 }}>\r\n        {isString(moreLink) ? (\r\n          <Link href={moreLink} target=\"_blank\" variant=\"body2\">\r\n            {moreLink}\r\n          </Link>\r\n        ) : (\r\n          moreLink.map((href) => (\r\n            <Link noWrap key={href} href={href} variant=\"body2\" target=\"_blank\" sx={{ display: 'table' }}>\r\n              {href}\r\n            </Link>\r\n          ))\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","// ----------------------------------------------------------------------\r\n\r\nexport default function fakeRequest(time) {\r\n  return new Promise((res) => setTimeout(res, time));\r\n}\r\n","import PropTypes from 'prop-types';\r\n// material\r\nimport { Paper, Typography } from '@material-ui/core';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nSearchNotFound.propTypes = {\r\n  searchQuery: PropTypes.string\r\n};\r\n\r\nexport default function SearchNotFound({ searchQuery = '', ...other }) {\r\n  return (\r\n    <Paper {...other}>\r\n      <Typography gutterBottom align=\"center\" variant=\"subtitle1\">\r\n        Not found\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        No results found for &nbsp;\r\n        <strong>&quot;{searchQuery}&quot;</strong>. Try checking for typos or using complete words.\r\n      </Typography>\r\n    </Paper>\r\n  );\r\n}\r\n","// material\r\nimport { Box } from '@material-ui/core';\r\n//\r\nimport { Icon } from '@iconify/react';\r\nimport fileFill from '@iconify/icons-eva/file-fill';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst FORMAT_IMG = ['jpg', 'jpeg', 'gif', 'bmp', 'png'];\r\nconst FORMAT_VIDEO = ['m4v', 'avi', 'mpg', 'mp4', 'webm'];\r\nconst FORMAT_WORD = ['doc', 'docx'];\r\nconst FORMAT_EXCEL = ['xls', 'xlsx'];\r\nconst FORMAT_POWERPOINT = ['ppt', 'pptx'];\r\nconst FORMAT_PDF = ['pdf'];\r\nconst FORMAT_PHOTOSHOP = ['psd'];\r\nconst FORMAT_ILLUSTRATOR = ['ai', 'esp'];\r\n\r\nexport function getFileType(fileUrl) {\r\n  return fileUrl.split('.').pop();\r\n}\r\n\r\nexport function getFileName(fileUrl) {\r\n  return fileUrl.substring(fileUrl.lastIndexOf('/') + 1).replace(/\\.[^/.]+$/, '');\r\n}\r\n\r\nexport function getFileFullName(fileUrl) {\r\n  return fileUrl.split('/').pop();\r\n}\r\n\r\nexport function getFileFormat(fileUrl) {\r\n  let format;\r\n\r\n  switch (fileUrl.includes(getFileType(fileUrl))) {\r\n    case FORMAT_IMG.includes(getFileType(fileUrl)):\r\n      format = 'image';\r\n      break;\r\n    case FORMAT_VIDEO.includes(getFileType(fileUrl)):\r\n      format = 'video';\r\n      break;\r\n    case FORMAT_WORD.includes(getFileType(fileUrl)):\r\n      format = 'word';\r\n      break;\r\n    case FORMAT_EXCEL.includes(getFileType(fileUrl)):\r\n      format = 'excel';\r\n      break;\r\n    case FORMAT_POWERPOINT.includes(getFileType(fileUrl)):\r\n      format = 'powerpoint';\r\n      break;\r\n    case FORMAT_PDF.includes(getFileType(fileUrl)):\r\n      format = 'pdf';\r\n      break;\r\n    case FORMAT_PHOTOSHOP.includes(getFileType(fileUrl)):\r\n      format = 'photoshop';\r\n      break;\r\n    case FORMAT_ILLUSTRATOR.includes(getFileType(fileUrl)):\r\n      format = 'illustrator';\r\n      break;\r\n    default:\r\n      format = getFileType(fileUrl);\r\n  }\r\n\r\n  return format;\r\n}\r\n\r\nconst getIcon = (name) => (\r\n  <Box component=\"img\" src={`/static/icons/file/${name}.svg`} alt={name} sx={{ width: 28, height: 28 }} />\r\n);\r\n\r\nexport function getFileThumb(fileUrl) {\r\n  let thumb;\r\n  switch (getFileFormat(fileUrl)) {\r\n    case 'image':\r\n      thumb = <Box component=\"img\" src={fileUrl} alt={fileUrl} sx={{ width: 1, height: 1 }} />;\r\n      break;\r\n    case 'video':\r\n      thumb = getIcon('file_type_video');\r\n      break;\r\n    case 'word':\r\n      thumb = getIcon('file_type_word');\r\n      break;\r\n    case 'excel':\r\n      thumb = getIcon('file_type_excel');\r\n      break;\r\n    case 'powerpoint':\r\n      thumb = getIcon('file_type_powerpoint');\r\n      break;\r\n    case 'pdf':\r\n      thumb = getIcon('file_type_pdf');\r\n      break;\r\n    case 'photoshop':\r\n      thumb = getIcon('file_type_photoshop');\r\n      break;\r\n    case 'illustrator':\r\n      thumb = getIcon('file_type_ai');\r\n      break;\r\n    default:\r\n      thumb = <Box component={Icon} icon={fileFill} sx={{ width: 28, height: 28 }} />;\r\n  }\r\n  return thumb;\r\n}\r\n","import 'emoji-mart/css/emoji-mart.css';\r\nimport PropTypes from 'prop-types';\r\nimport { Picker } from 'emoji-mart';\r\nimport { Icon } from '@iconify/react';\r\nimport { useState } from 'react';\r\nimport smilingFaceFill from '@iconify/icons-eva/smiling-face-fill';\r\n// material\r\nimport { alpha, useTheme, styled } from '@material-ui/core/styles';\r\nimport { IconButton, ClickAwayListener } from '@material-ui/core';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')({\r\n  position: 'relative'\r\n});\r\n\r\nconst PickerStyle = styled('div')(({ theme }) => ({\r\n  bottom: 40,\r\n  overflow: 'hidden',\r\n  position: 'absolute',\r\n  left: theme.spacing(-2),\r\n  boxShadow: theme.customShadows.z20,\r\n  borderRadius: theme.shape.borderRadiusMd,\r\n  '& .emoji-mart': {\r\n    border: 'none',\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  '& .emoji-mart-anchor': {\r\n    color: theme.palette.text.disabled,\r\n    '&:hover, &:focus, &.emoji-mart-anchor-selected': {\r\n      color: theme.palette.text.primary\r\n    }\r\n  },\r\n  '& .emoji-mart-bar': { borderColor: theme.palette.divider },\r\n  '& .emoji-mart-search input': {\r\n    backgroundColor: 'transparent',\r\n    color: theme.palette.text.primary,\r\n    borderColor: theme.palette.grey[500_32],\r\n    '&::placeholder': {\r\n      ...theme.typography.body2,\r\n      color: theme.palette.text.disabled\r\n    }\r\n  },\r\n  '& .emoji-mart-search-icon svg': {\r\n    opacity: 1,\r\n    fill: theme.palette.text.disabled\r\n  },\r\n  '& .emoji-mart-category-label span': {\r\n    ...theme.typography.subtitle2,\r\n    backdropFilter: 'blur(8px)',\r\n    WebkitBackdropFilter: 'blur(8px)', // Fix on Mobile\r\n    color: theme.palette.text.primary,\r\n    backgroundColor: alpha(theme.palette.background.paper, 0.8)\r\n  },\r\n  '& .emoji-mart-title-label': { color: theme.palette.text.primary },\r\n  '& .emoji-mart-category .emoji-mart-emoji:hover:before': {\r\n    backgroundColor: theme.palette.action.selected\r\n  },\r\n  '& .emoji-mart-emoji': { outline: 'none' },\r\n  '& .emoji-mart-preview-name': {\r\n    color: theme.palette.text.primary\r\n  },\r\n  '& .emoji-mart-preview-shortname, .emoji-mart-preview-emoticon': {\r\n    color: theme.palette.text.secondary\r\n  }\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nEmojiPicker.propTypes = {\r\n  disabled: PropTypes.bool,\r\n  value: PropTypes.string,\r\n  setValue: PropTypes.func,\r\n  alignRight: PropTypes.bool\r\n};\r\n\r\nexport default function EmojiPicker({ disabled, value, setValue, alignRight = false, ...other }) {\r\n  const theme = useTheme();\r\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\r\n\r\n  let emojiPicker;\r\n  if (emojiPickerState) {\r\n    emojiPicker = (\r\n      <Picker\r\n        color={theme.palette.primary.main}\r\n        title=\"Pick your emoji…\"\r\n        emoji=\"point_up\"\r\n        onSelect={(emoji) => setValue(value + emoji.native)}\r\n      />\r\n    );\r\n  }\r\n\r\n  const triggerPicker = (e) => {\r\n    e.preventDefault();\r\n    SetEmojiPicker(!emojiPickerState);\r\n  };\r\n\r\n  const handleClickAway = () => {\r\n    SetEmojiPicker(false);\r\n  };\r\n\r\n  return (\r\n    <ClickAwayListener onClickAway={handleClickAway}>\r\n      <RootStyle {...other}>\r\n        <PickerStyle\r\n          sx={{\r\n            ...(alignRight && {\r\n              right: -2,\r\n              left: 'auto !important'\r\n            })\r\n          }}\r\n        >\r\n          {emojiPicker}\r\n        </PickerStyle>\r\n        <IconButton disabled={disabled} size=\"small\" onClick={triggerPicker}>\r\n          <Icon icon={smilingFaceFill} width={20} height={20} />\r\n        </IconButton>\r\n      </RootStyle>\r\n    </ClickAwayListener>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { useEffect } from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\n// material\r\nimport { makeStyles, createStyles } from '@material-ui/styles';\r\nimport { alpha } from '@material-ui/core/styles';\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  const isRTL = theme.direction === 'rtl';\r\n\r\n  const backgroundIcon = (iconName) => ({\r\n    backgroundSize: '24px 24px',\r\n    backgroundPosition: 'center',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundColor: alpha(theme.palette.grey[900], 0.8),\r\n    backgroundImage: `url(\"/static/icons/controls/${iconName}.svg\")`\r\n  });\r\n\r\n  return createStyles({\r\n    root: {\r\n      backdropFilter: 'blur(8px)',\r\n      backgroundColor: alpha(theme.palette.grey[900], 0.88),\r\n\r\n      // Toolbar\r\n      '& .ril__toolbar': {\r\n        height: 'auto !important',\r\n        padding: theme.spacing(2, 3),\r\n        backgroundColor: 'transparent'\r\n      },\r\n      '& .ril__toolbarLeftSide': { display: 'none' },\r\n      '& .ril__toolbarRightSide': {\r\n        height: 'auto !important',\r\n        padding: 0,\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        '& li': {\r\n          display: 'flex',\r\n          alignItems: 'center'\r\n        },\r\n        '& li:first-of-type': {\r\n          flexGrow: 1\r\n        },\r\n        '& li:not(:first-of-type)': {\r\n          width: theme.spacing(5),\r\n          height: theme.spacing(5),\r\n          justifyContent: 'center',\r\n          marginLeft: theme.spacing(1),\r\n          borderRadius: theme.shape.borderRadius\r\n        }\r\n      },\r\n\r\n      // Button\r\n      '& button:focus': { outline: 'none' },\r\n      '& .ril__toolbarRightSide button': {\r\n        width: '100%',\r\n        height: '100%',\r\n        '&.ril__zoomInButton': backgroundIcon('maximize-outline'),\r\n        '&.ril__zoomOutButton': backgroundIcon('minimize-outline'),\r\n        '&.ril__closeButton': backgroundIcon('close')\r\n      },\r\n      '& .ril__navButtons': {\r\n        padding: theme.spacing(3),\r\n        borderRadius: theme.shape.borderRadiusSm,\r\n        '&.ril__navButtonPrev': {\r\n          left: theme.spacing(2),\r\n          right: 'auto',\r\n          ...backgroundIcon(isRTL ? 'arrow-ios-forward' : 'arrow-ios-back')\r\n        },\r\n        '&.ril__navButtonNext': {\r\n          right: theme.spacing(2),\r\n          left: 'auto',\r\n          ...backgroundIcon(isRTL ? 'arrow-ios-back' : 'arrow-ios-forward')\r\n        }\r\n      }\r\n    }\r\n  });\r\n});\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nLightboxModal.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  photoIndex: PropTypes.number,\r\n  setPhotoIndex: PropTypes.func,\r\n  isOpen: PropTypes.bool,\r\n  onClose: PropTypes.func\r\n};\r\n\r\nexport default function LightboxModal({ images, photoIndex, setPhotoIndex, isOpen, onClose, ...other }) {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const showIndex = <Typography variant=\"subtitle2\">{`${photoIndex + 1} / ${images.length}`}</Typography>;\r\n\r\n  const toolbarButtons = [showIndex];\r\n  const customStyles = {\r\n    overlay: {\r\n      zIndex: 9999\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isOpen && (\r\n        <Lightbox\r\n          mainSrc={images[photoIndex]}\r\n          nextSrc={images[(photoIndex + 1) % images.length]}\r\n          prevSrc={images[(photoIndex + images.length - 1) % images.length]}\r\n          onCloseRequest={onClose}\r\n          onMovePrevRequest={() => setPhotoIndex((photoIndex + images.length - 1) % images.length)}\r\n          onMoveNextRequest={() => setPhotoIndex((photoIndex + 1) % images.length)}\r\n          toolbarButtons={toolbarButtons}\r\n          reactModalStyle={customStyles}\r\n          wrapperClassName={classes.root}\r\n          {...other}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","/* (ignored) */","import { Icon } from '@iconify/react';\r\nimport { useState } from 'react';\r\nimport { capitalCase } from 'change-case';\r\nimport settings2Fill from '@iconify/icons-eva/settings-2-fill';\r\nimport roundAccountBox from '@iconify/icons-ic/round-account-box';\r\nimport roundPowerSettingsNew from '@iconify/icons-ic/round-power-settings-new';\r\n// material\r\nimport {\r\n  Box,\r\n  List,\r\n  Select,\r\n  Divider,\r\n  Popover,\r\n  Tooltip,\r\n  ListItem,\r\n  Typography,\r\n  IconButton,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  ListItemButton\r\n} from '@material-ui/core';\r\n// hooks\r\nimport useAuth from '../../../hooks/useAuth';\r\n//\r\nimport MyAvatar from '../../MyAvatar';\r\nimport BadgeStatus from '../../BadgeStatus';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst STATUS = ['online', 'invisible', 'away'];\r\n\r\nexport default function ChatAccount() {\r\n  const { user } = useAuth();\r\n  const [open, setOpen] = useState(null);\r\n  const [status, setStatus] = useState('online');\r\n\r\n  const handleOpen = (event) => {\r\n    setOpen(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(null);\r\n  };\r\n\r\n  const handleChangeStatus = (event) => {\r\n    setStatus(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ position: 'relative' }}>\r\n        <MyAvatar onClick={handleOpen} sx={{ cursor: 'pointer', width: 48, height: 48 }} />\r\n        <BadgeStatus status={status} sx={{ position: 'absolute', bottom: 2, right: 2 }} />\r\n      </Box>\r\n\r\n      <Popover\r\n        open={Boolean(open)}\r\n        anchorEl={open}\r\n        onClose={handleClose}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'left' }}\r\n        transformOrigin={{ vertical: 'top', horizontal: 'left' }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            py: 2,\r\n            pr: 1,\r\n            pl: 2.5,\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <MyAvatar />\r\n\r\n          <Box sx={{ ml: 2, mr: 3 }}>\r\n            <Typography noWrap variant=\"subtitle1\">\r\n              {user.displayName}\r\n            </Typography>\r\n            <Typography noWrap variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n              {user.email}\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Tooltip title=\"Log out\">\r\n            <IconButton>\r\n              <Icon icon={roundPowerSettingsNew} width={24} height={24} />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </Box>\r\n\r\n        <Divider />\r\n\r\n        <List>\r\n          <ListItem disableGutters sx={{ py: 1, px: 2.5 }}>\r\n            <ListItemIcon>\r\n              <Box\r\n                sx={{\r\n                  width: 24,\r\n                  height: 24,\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center'\r\n                }}\r\n              >\r\n                <BadgeStatus status={status} />\r\n              </Box>\r\n            </ListItemIcon>\r\n            <ListItemText>\r\n              <Select\r\n                native\r\n                fullWidth\r\n                size=\"small\"\r\n                value={status}\r\n                onChange={handleChangeStatus}\r\n                sx={{\r\n                  '& svg': { display: `none` },\r\n                  '& select': {\r\n                    padding: 0,\r\n                    typography: 'body2',\r\n                    '&:focus': { bgcolor: 'transparent' }\r\n                  },\r\n                  '& fieldset': { borderWidth: `0 !important` }\r\n                }}\r\n              >\r\n                {STATUS.map((option) => (\r\n                  <option key={option} value={option}>\r\n                    {capitalCase(option)}\r\n                  </option>\r\n                ))}\r\n              </Select>\r\n            </ListItemText>\r\n          </ListItem>\r\n\r\n          <ListItemButton disableGutters sx={{ py: 1, px: 2.5 }}>\r\n            <ListItemIcon>\r\n              <Icon icon={roundAccountBox} width={24} height={24} />\r\n            </ListItemIcon>\r\n            <ListItemText\r\n              primary=\"Profile\"\r\n              primaryTypographyProps={{\r\n                variant: 'body2'\r\n              }}\r\n            />\r\n          </ListItemButton>\r\n\r\n          <ListItemButton disableGutters sx={{ py: 1, px: 2.5 }}>\r\n            <ListItemIcon>\r\n              <Icon icon={settings2Fill} width={24} height={24} />\r\n            </ListItemIcon>\r\n            <ListItemText\r\n              primary=\"Settings\"\r\n              primaryTypographyProps={{\r\n                variant: 'body2'\r\n              }}\r\n            />\r\n          </ListItemButton>\r\n        </List>\r\n      </Popover>\r\n    </>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport searchFill from '@iconify/icons-eva/search-fill';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, FormControl, OutlinedInput, InputAdornment, ClickAwayListener } from '@material-ui/core';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  marginTop: theme.spacing(2)\r\n}));\r\n\r\nconst SearchStyle = styled(OutlinedInput)(({ theme }) => ({\r\n  transition: theme.transitions.create('box-shadow', {\r\n    easing: theme.transitions.easing.easeInOut,\r\n    duration: theme.transitions.duration.shorter\r\n  }),\r\n  '&.Mui-focused': { boxShadow: theme.customShadows.z8 },\r\n  '& fieldset': {\r\n    borderWidth: `1px !important`,\r\n    borderColor: `${theme.palette.grey[500_32]} !important`\r\n  }\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatContactSearch.propTypes = {\r\n  query: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  onFocus: PropTypes.func,\r\n  onClickAway: PropTypes.func\r\n};\r\n\r\nexport default function ChatContactSearch({ query, onChange, onFocus, onClickAway, ...other }) {\r\n  return (\r\n    <ClickAwayListener onClickAway={onClickAway}>\r\n      <RootStyle {...other}>\r\n        <FormControl fullWidth size=\"small\">\r\n          <SearchStyle\r\n            value={query}\r\n            onFocus={onFocus}\r\n            onChange={onChange}\r\n            placeholder=\"Search contacts...\"\r\n            startAdornment={\r\n              <InputAdornment position=\"start\">\r\n                <Box component={Icon} icon={searchFill} sx={{ color: 'text.disabled' }} />\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n      </RootStyle>\r\n    </ClickAwayListener>\r\n  );\r\n}\r\n","import { last } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport { formatDistanceToNowStrict } from 'date-fns';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, Avatar, ListItemText, ListItemAvatar, ListItemButton, Badge } from '@material-ui/core';\r\n//\r\nimport BadgeStatus from '../../BadgeStatus';\r\nimport { serverConfig } from '../../../config';\r\n// hooks\r\nimport useAuth from '../../../hooks/useAuth';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst AVATAR_SIZE = 48;\r\nconst AVATAR_SIZE_GROUP = 32;\r\n\r\nconst RootStyle = styled(ListItemButton)(({ theme }) => ({\r\n  padding: theme.spacing(1.5, 3),\r\n  transition: theme.transitions.create('all')\r\n}));\r\n\r\nconst AvatarWrapperStyle = styled('div')({\r\n  position: 'relative',\r\n  width: AVATAR_SIZE,\r\n  height: AVATAR_SIZE,\r\n  '& .MuiAvatar-img': { borderRadius: '50%' },\r\n  '& .MuiAvatar-root': { width: '100%', height: '100%' }\r\n});\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst getDetails = (conversation, currentUserId) => {\r\n  const otherParticipants = conversation.participants.filter((participant) => participant.id !== currentUserId);\r\n  const displayNames = otherParticipants.reduce((names, participant) => [...names, participant.name], []).join(', ');\r\n  let displayText = '';\r\n  const lastMessage = conversation.messages[conversation.messages.length - 1];\r\n  if (lastMessage) {\r\n    const sender = lastMessage.senderId === currentUserId ? 'You: ' : '';\r\n    const message = lastMessage.contentType === 'image' ? 'Sent a photo' : lastMessage.body;\r\n    displayText = `${sender}${message}`;\r\n  }\r\n  return { otherParticipants, displayNames, displayText };\r\n};\r\n\r\nChatConversationItem.propTypes = {\r\n  isSelected: PropTypes.bool,\r\n  opponent: PropTypes.object,\r\n  // conversation: PropTypes.object.isRequired,\r\n  isOpenSidebar: PropTypes.bool,\r\n  onSelectConversation: PropTypes.func\r\n};\r\n\r\nexport default function ChatConversationItem({\r\n  isSelected,\r\n  opponent,\r\n  conversation,\r\n  onSelectConversation,\r\n  isOpenSidebar,\r\n  ...other\r\n}) {\r\n  const { user } = useAuth();\r\n  // const displayLastActivity = last(conversation.messages).createdAt;\r\n  const displayLastActivity = opponent.created;\r\n  // const isGroup = details.otherParticipants.length > 1;\r\n  const isGroup = false;\r\n  // const isOnlineGroup = isGroup && details.otherParticipants.map((item) => item.status).includes('online');\r\n  const avatarImgSrc = `${serverConfig.baseUrl}/user/img-src/${opponent.avatarUrl}`;\r\n  const opponentStatus = opponent.online ? 'online' : 'offline';\r\n\r\n  const unreadCount =\r\n    (conversation &&\r\n      (conversation.lastMessage.users_see_message.indexOf(user._id) > -1\r\n        ? 0\r\n        : conversation.lastMessage.unread_count)) ||\r\n    0;\r\n  const isUnread = unreadCount > 0;\r\n\r\n  return (\r\n    <RootStyle\r\n      disableGutters\r\n      onClick={onSelectConversation}\r\n      sx={{\r\n        ...(isSelected && { bgcolor: 'action.selected' })\r\n      }}\r\n      {...other}\r\n    >\r\n      <ListItemAvatar>\r\n        <Box\r\n          sx={{\r\n            ...(isGroup && {\r\n              position: 'relative',\r\n              width: AVATAR_SIZE,\r\n              height: AVATAR_SIZE,\r\n              '& .avatarWrapper': {\r\n                position: 'absolute',\r\n                width: AVATAR_SIZE_GROUP,\r\n                height: AVATAR_SIZE_GROUP,\r\n                '&:nth-of-type(1)': {\r\n                  left: 0,\r\n                  zIndex: 9,\r\n                  bottom: 2,\r\n                  '& .MuiAvatar-root': {\r\n                    border: (theme) => `solid 2px ${theme.palette.background.paper}`\r\n                  }\r\n                },\r\n                '&:nth-of-type(2)': { top: 2, right: 0 }\r\n              }\r\n            })\r\n          }}\r\n        >\r\n          {/* {details.otherParticipants.slice(0, 2).map((participant) => ( */}\r\n          <AvatarWrapperStyle className=\"avatarWrapper\" key={opponent._id}>\r\n            <Avatar alt={opponent.name} src={avatarImgSrc} />\r\n            <BadgeStatus status={opponentStatus} sx={{ right: 2, bottom: 2, position: 'absolute' }} />\r\n          </AvatarWrapperStyle>\r\n          {/* ))} */}\r\n          {/* {opponent.online && <BadgeStatus status=\"online\" sx={{ right: 2, bottom: 2, position: 'absolute' }} />} */}\r\n        </Box>\r\n      </ListItemAvatar>\r\n\r\n      {isOpenSidebar && (\r\n        <>\r\n          <ListItemText\r\n            primary={opponent.name}\r\n            primaryTypographyProps={{\r\n              noWrap: true,\r\n              variant: 'subtitle2'\r\n            }}\r\n            secondary={conversation && conversation.lastMessage.message}\r\n            secondaryTypographyProps={{\r\n              noWrap: true,\r\n              variant: isUnread ? 'subtitle2' : 'body2',\r\n              color: isUnread ? 'textPrimary' : 'textSecondary'\r\n            }}\r\n          />\r\n\r\n          <Box\r\n            sx={{\r\n              ml: 2,\r\n              height: 44,\r\n              display: 'flex',\r\n              alignItems: 'flex-end',\r\n              flexDirection: 'column'\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                mb: 1.25,\r\n                fontSize: 12,\r\n                lineHeight: '22px',\r\n                whiteSpace: 'nowrap',\r\n                color: 'text.disabled'\r\n              }}\r\n            >\r\n              {formatDistanceToNowStrict(new Date(displayLastActivity), {\r\n                addSuffix: false\r\n              })}\r\n            </Box>\r\n            {/* {isUnread && <BadgeStatus status=\"unread\" size=\"small\" />} */}\r\n            {isUnread && <Badge color=\"secondary\" badgeContent={unreadCount} />}\r\n          </Box>\r\n        </>\r\n      )}\r\n    </RootStyle>\r\n  );\r\n}\r\n","import { find, map } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\n// import { useEffect } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n// import socketio from 'socket.io-client';\r\n// material\r\nimport { List } from '@material-ui/core';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../../routes/paths';\r\n//\r\nimport ChatConversationItem from './ChatConversationItem';\r\n// redux\r\nimport { useSelector } from '../../../redux/store';\r\n// hooks\r\nimport useAuth from '../../../hooks/useAuth';\r\n\r\n// import { serverConfig } from '../../../config';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatConversationList.propTypes = {\r\n  conversations: PropTypes.object,\r\n  isOpenSidebar: PropTypes.bool,\r\n  activeConversationId: PropTypes.string,\r\n  query: PropTypes.string,\r\n  onlyUnreadShow: PropTypes.bool\r\n};\r\n\r\nexport default function ChatConversationList({\r\n  conversations,\r\n  isOpenSidebar,\r\n  activeConversationId,\r\n  query,\r\n  onlyUnreadShow,\r\n  ...other\r\n}) {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { userList } = useSelector((state) => state.user);\r\n  const { opponentId } = useParams();\r\n\r\n  const getConversationByUserId = (userId) => {\r\n    const conversation = find(conversations.byId, (value) => {\r\n      const userIds = map(value.users, (user) => user._id);\r\n      // console.log(userIds);\r\n      return userIds.indexOf(userId) > -1;\r\n    });\r\n    // console.log(userId, conversation);\r\n    return conversation;\r\n  };\r\n\r\n  const isUnread = (userId) => {\r\n    const conversation = getConversationByUserId(userId);\r\n    const unreadCount =\r\n      (conversation &&\r\n        (conversation.lastMessage.users_see_message.indexOf(user._id) > -1\r\n          ? 0\r\n          : conversation.lastMessage.unread_count)) ||\r\n      0;\r\n    return unreadCount > 0;\r\n  };\r\n\r\n  const localUsers = userList.filter((value) => {\r\n    const result = value._id !== user._id && value.name.toLowerCase().indexOf(query.toLowerCase()) > -1;\r\n    if (onlyUnreadShow && result) {\r\n      return isUnread(value._id);\r\n    }\r\n    return result;\r\n  });\r\n\r\n  const handleSelectConversation = (conversationUserId) => {\r\n    navigate(`${PATH_DASHBOARD.chat.private}/${conversationUserId}`);\r\n  };\r\n\r\n  return (\r\n    <List disablePadding {...other}>\r\n      {localUsers.map((value) => (\r\n        <ChatConversationItem\r\n          key={value._id}\r\n          opponent={value}\r\n          isOpenSidebar={isOpenSidebar}\r\n          conversation={getConversationByUserId(value._id)}\r\n          isSelected={opponentId === value._id}\r\n          onSelectConversation={() => handleSelectConversation(value._id)}\r\n          // sx={{ ...(onlyUnreadShow && isUnread(value._id) && { display: 'none' }) }}\r\n        />\r\n      ))}\r\n    </List>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { useState } from 'react';\r\nimport parse from 'autosuggest-highlight/parse';\r\nimport match from 'autosuggest-highlight/match';\r\nimport checkmarkFill from '@iconify/icons-eva/checkmark-fill';\r\n// material\r\nimport { alpha, styled } from '@material-ui/core/styles';\r\nimport { Box, Avatar, TextField, Typography, Autocomplete, Chip } from '@material-ui/core';\r\n//\r\nimport SearchNotFound from '../../SearchNotFound';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  padding: theme.spacing(2, 3)\r\n}));\r\n\r\nconst AutocompleteStyle = styled('div')(({ theme }) => ({\r\n  '& .MuiAutocomplete-root': {\r\n    minWidth: 280,\r\n    marginLeft: theme.spacing(2),\r\n    '&.Mui-focused .MuiAutocomplete-inputRoot': {\r\n      boxShadow: theme.customShadows.z8\r\n    }\r\n  },\r\n  '& .MuiAutocomplete-inputRoot': {\r\n    transition: theme.transitions.create('box-shadow', {\r\n      easing: theme.transitions.easing.easeInOut,\r\n      duration: theme.transitions.duration.shorter\r\n    }),\r\n    '& fieldset': {\r\n      borderWidth: `1px !important`,\r\n      borderColor: `${theme.palette.grey[500_32]} !important`\r\n    }\r\n  }\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatHeaderCompose.propTypes = {\r\n  contacts: PropTypes.array,\r\n  recipients: PropTypes.array,\r\n  onAddRecipient: PropTypes.func\r\n};\r\n\r\nexport default function ChatHeaderCompose({ contacts, recipients, onAddRecipient, ...other }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleChangeQuery = (event) => {\r\n    setQuery(event.target.value);\r\n  };\r\n\r\n  const handleAddRecipient = (e, recipient) => {\r\n    setQuery('');\r\n    if (onAddRecipient) {\r\n      onAddRecipient(recipient);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <RootStyle {...other}>\r\n      <Typography variant=\"subtitle2\" sx={{ color: 'text.secondary' }}>\r\n        To:\r\n      </Typography>\r\n\r\n      <AutocompleteStyle>\r\n        <Autocomplete\r\n          multiple\r\n          size=\"small\"\r\n          disablePortal\r\n          popupIcon={null}\r\n          clearText={null}\r\n          noOptionsText={<SearchNotFound searchQuery={query} />}\r\n          onChange={handleAddRecipient}\r\n          onInputChange={handleChangeQuery}\r\n          options={contacts}\r\n          getOptionLabel={(recipient) => recipient.name}\r\n          renderOption={(props, recipient, { inputValue, selected }) => {\r\n            const { name, avatar } = recipient;\r\n            const matches = match(name, inputValue);\r\n            const parts = parse(name, matches);\r\n            return (\r\n              <li {...props}>\r\n                <Box\r\n                  sx={{\r\n                    width: 32,\r\n                    height: 32,\r\n                    overflow: 'hidden',\r\n                    borderRadius: '50%',\r\n                    position: 'relative'\r\n                  }}\r\n                >\r\n                  <Avatar alt={name} src={avatar} />\r\n                  <Box\r\n                    sx={{\r\n                      top: 0,\r\n                      opacity: 0,\r\n                      width: '100%',\r\n                      height: '100%',\r\n                      display: 'flex',\r\n                      position: 'absolute',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      bgcolor: (theme) => alpha(theme.palette.grey[900], 0.8),\r\n                      transition: (theme) =>\r\n                        theme.transitions.create('opacity', {\r\n                          easing: theme.transitions.easing.easeInOut,\r\n                          duration: theme.transitions.duration.shorter\r\n                        }),\r\n                      ...(selected && {\r\n                        opacity: 1,\r\n                        color: 'primary.main'\r\n                      })\r\n                    }}\r\n                  >\r\n                    <Icon icon={checkmarkFill} width={20} height={20} />\r\n                  </Box>\r\n                </Box>\r\n                <Box sx={{ ml: 2 }} />\r\n                {parts.map((part, index) => (\r\n                  <Typography key={index} variant=\"subtitle2\" color={part.highlight ? 'primary' : 'textPrimary'}>\r\n                    {part.text}\r\n                  </Typography>\r\n                ))}\r\n              </li>\r\n            );\r\n          }}\r\n          renderTags={(recipients, getTagProps) =>\r\n            recipients.map((recipient, index) => {\r\n              const { id, name, avatar } = recipient;\r\n              return (\r\n                <Chip\r\n                  key={id}\r\n                  size=\"small\"\r\n                  label={name}\r\n                  color=\"info\"\r\n                  avatar={<Avatar alt={name} src={avatar} />}\r\n                  {...getTagProps({ index })}\r\n                />\r\n              );\r\n            })\r\n          }\r\n          renderInput={(params) => <TextField {...params} placeholder={recipients.length === 0 ? 'Recipients' : ''} />}\r\n        />\r\n      </AutocompleteStyle>\r\n    </RootStyle>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { capitalCase } from 'change-case';\r\nimport videoFill from '@iconify/icons-eva/video-fill';\r\nimport phoneFill from '@iconify/icons-eva/phone-fill';\r\nimport moreVerticalFill from '@iconify/icons-eva/more-vertical-fill';\r\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, Link, Avatar, Typography, AvatarGroup } from '@material-ui/core';\r\n// utils\r\nimport { fToNow } from '../../../utils/formatTime';\r\n//\r\nimport { MIconButton } from '../../@material-extend';\r\nimport BadgeStatus from '../../BadgeStatus';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  flexShrink: 0,\r\n  minHeight: 92,\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  padding: theme.spacing(0, 3)\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nOneAvatar.propTypes = {\r\n  participants: PropTypes.array\r\n};\r\n\r\nfunction OneAvatar({ participants }) {\r\n  const participant = [...participants][0];\r\n\r\n  if (participant === undefined) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n      <Box sx={{ position: 'relative' }}>\r\n        <Avatar src={participant.avatar} alt={participant.name} />\r\n        <BadgeStatus status={participant.status} sx={{ position: 'absolute', right: 2, bottom: 2 }} />\r\n      </Box>\r\n      <Box sx={{ ml: 2 }}>\r\n        <Typography variant=\"subtitle2\">{participant.name}</Typography>\r\n        <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n          {participant.status !== 'offline' ? capitalCase(participant.status) : fToNow(participant.lastActivity)}\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nGroupAvatar.propTypes = {\r\n  participants: PropTypes.array\r\n};\r\n\r\nfunction GroupAvatar({ participants }) {\r\n  return (\r\n    <div>\r\n      <AvatarGroup\r\n        max={3}\r\n        sx={{\r\n          mb: 0.5,\r\n          '& .MuiAvatar-root': { width: 32, height: 32 }\r\n        }}\r\n      >\r\n        {participants.map((participant) => (\r\n          <Avatar key={participant.id} alt={participant.name} src={participant.avatar} />\r\n        ))}\r\n      </AvatarGroup>\r\n      <Link variant=\"body2\" underline=\"none\" component=\"button\" color=\"text.secondary\" onClick={() => {}}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n          {participants.length} persons\r\n          <Icon icon={arrowIosForwardFill} />\r\n        </Box>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nChatHeaderDetail.propTypes = {\r\n  participants: PropTypes.array\r\n};\r\n\r\nexport default function ChatHeaderDetail({ participants, ...other }) {\r\n  const isGroup = participants.length > 1;\r\n\r\n  return (\r\n    <RootStyle {...other}>\r\n      {isGroup ? <GroupAvatar participants={participants} /> : <OneAvatar participants={participants} />}\r\n\r\n      <Box sx={{ flexGrow: 1 }} />\r\n      {/* <MIconButton>\r\n        <Icon icon={phoneFill} width={20} height={20} />\r\n      </MIconButton>\r\n      <MIconButton>\r\n        <Icon icon={videoFill} width={20} height={20} />\r\n      </MIconButton> */}\r\n      <MIconButton>\r\n        <Icon icon={moreVerticalFill} width={20} height={20} />\r\n      </MIconButton>\r\n    </RootStyle>\r\n  );\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { useRef, useState } from 'react';\r\nimport micFill from '@iconify/icons-eva/mic-fill';\r\nimport roundSend from '@iconify/icons-ic/round-send';\r\nimport attach2Fill from '@iconify/icons-eva/attach-2-fill';\r\nimport roundAddPhotoAlternate from '@iconify/icons-ic/round-add-photo-alternate';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Input, Divider, IconButton, InputAdornment, Stack, Box } from '@material-ui/core';\r\n// redux\r\nimport { useDispatch, useSelector } from '../../../redux/store';\r\nimport {\r\n  addRecipients,\r\n  onSendMessage,\r\n  getConversation,\r\n  getParticipants,\r\n  markConversationAsRead,\r\n  resetActiveConversation\r\n} from '../../../redux/slices/privatechat';\r\nimport axios from '../../../utils/axios';\r\n// hooks\r\nimport useAuth from '../../../hooks/useAuth';\r\n//\r\nimport EmojiPicker from '../../EmojiPicker';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  // minHeight: 56,\r\n  height: 'auto',\r\n  // display: 'flex',\r\n  position: 'relative',\r\n  alignItems: 'center',\r\n  paddingLeft: theme.spacing(2)\r\n}));\r\n\r\nconst MessageImgStyle = styled('img')(({ theme }) => ({\r\n  height: 40,\r\n  minWidth: 40,\r\n  width: 'auto',\r\n  cursor: 'pointer',\r\n  objectFit: 'cover',\r\n  borderRadius: theme.shape.borderRadius\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatMessageInput.propTypes = {\r\n  disabled: PropTypes.bool,\r\n  conversationId: PropTypes.string,\r\n  opponentId: PropTypes.string,\r\n  onSend: PropTypes.func,\r\n  messageMaxLen: PropTypes.number\r\n};\r\n\r\nexport default function ChatMessageInput({ disabled, conversationId, opponentId, onSend, messageMaxLen, ...other }) {\r\n  const dispatch = useDispatch();\r\n  const fileInputRef = useRef(null);\r\n  const [message, setMessage] = useState('');\r\n  const { user } = useAuth();\r\n  const [imageFiles, setImageFiles] = useState([]);\r\n  const [uploadImgs, setUploadImgs] = useState(null);\r\n\r\n  const handleAttach = () => {\r\n    fileInputRef.current.click();\r\n  };\r\n\r\n  const handleImageUpload = (e) => {\r\n    // console.log(e.target.files);\r\n    const fileObj = [];\r\n    const fileArray = [];\r\n    const formData = new FormData();\r\n    fileObj.push(e.target.files);\r\n    for (let i = 0; i < fileObj[0].length; i += 1) {\r\n      const file = fileObj[0][i];\r\n      formData.append(`img[${i}]`, file, file.name);\r\n      fileArray.push({ index: i, name: file.name, url: URL.createObjectURL(file) });\r\n    }\r\n    // console.log(fileArray);\r\n    setImageFiles(fileArray);\r\n    setUploadImgs(formData);\r\n  };\r\n\r\n  const handleChangeMessage = (event) => {\r\n    setMessage(event.target.value);\r\n  };\r\n\r\n  const handleKeyUp = (event) => {\r\n    if (event.key === 'Enter') {\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  const handleSend = async () => {\r\n    if (!message && imageFiles.length === 0) {\r\n      return '';\r\n    }\r\n    if (onSend) {\r\n      // const accessToken = window.localStorage.getItem('accessToken');\r\n      // const authHeader = {\r\n      //   headers: {\r\n      //     Authorization: `Bearer ${accessToken}`\r\n      //   }\r\n      // };\r\n\r\n      let imgs = [];\r\n\r\n      if (uploadImgs) {\r\n        const res = await axios.post('/message/upload_multi_imgs', uploadImgs);\r\n        imgs = res.data.data;\r\n        setImageFiles([]);\r\n        setUploadImgs(null);\r\n      }\r\n\r\n      onSend({\r\n        conversationId,\r\n        messageId: uuidv4(),\r\n        message,\r\n        imgs,\r\n        senderId: user._id,\r\n        senderName: user.name,\r\n        messageType: 0,\r\n        receiverId: opponentId\r\n      });\r\n    }\r\n    return setMessage('');\r\n  };\r\n\r\n  return (\r\n    <RootStyle {...other}>\r\n      {imageFiles.length > 0 && (\r\n        <Stack direction={{ xs: 'column', sm: 'row' }} sx={{ mt: 1, mb: 1 }} spacing={{ xs: 3, sm: 2 }}>\r\n          {imageFiles.map((img) => (\r\n            <MessageImgStyle key={`${img.index}`} alt=\"attachment\" src={`${img.url}`} />\r\n          ))}\r\n        </Stack>\r\n      )}\r\n      <Stack direction={{ xs: 'column', sm: 'row' }} sx={{ mt: 1, mb: 1 }}>\r\n        <Input\r\n          disabled={disabled}\r\n          fullWidth\r\n          value={message}\r\n          disableUnderline\r\n          onKeyUp={handleKeyUp}\r\n          onChange={handleChangeMessage}\r\n          placeholder=\"Type a message\"\r\n          inputProps={{ maxLength: messageMaxLen || 1000 }}\r\n          startAdornment={\r\n            <InputAdornment position=\"start\">\r\n              <EmojiPicker disabled={disabled} value={message} setValue={setMessage} />\r\n            </InputAdornment>\r\n          }\r\n          endAdornment={\r\n            <Stack direction=\"row\" spacing={0.5} mr={1.5}>\r\n              <IconButton disabled={disabled} size=\"small\" onClick={handleAttach}>\r\n                <Icon icon={roundAddPhotoAlternate} width={24} height={24} />\r\n              </IconButton>\r\n              {/* <IconButton disabled={disabled} size=\"small\" onClick={handleAttach}>\r\n                <Icon icon={attach2Fill} width={24} height={24} />\r\n              </IconButton>\r\n              <IconButton disabled={disabled} size=\"small\">\r\n                <Icon icon={micFill} width={24} height={24} />\r\n              </IconButton> */}\r\n            </Stack>\r\n          }\r\n          sx={{ height: '100%' }}\r\n        />\r\n\r\n        <Divider orientation=\"vertical\" flexItem />\r\n\r\n        <IconButton color=\"primary\" disabled={!message && imageFiles.length === 0} onClick={handleSend} sx={{ mx: 1 }}>\r\n          <Icon icon={roundSend} width={24} height={24} />\r\n        </IconButton>\r\n      </Stack>\r\n\r\n      <input\r\n        type=\"file\"\r\n        multiple\r\n        ref={fileInputRef}\r\n        accept=\"image/*\"\r\n        style={{ display: 'none' }}\r\n        onChange={handleImageUpload}\r\n      />\r\n    </RootStyle>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { formatDistanceToNowStrict } from 'date-fns';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Avatar, Box, Typography, Stack } from '@material-ui/core';\r\n\r\nimport useAuth from '../../../hooks/useAuth';\r\n\r\nimport { serverConfig } from '../../../config';\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  marginBottom: theme.spacing(3)\r\n}));\r\n\r\nconst ContentStyle = styled('div')(({ theme }) => ({\r\n  maxWidth: 450,\r\n  padding: theme.spacing(1.5),\r\n  marginTop: theme.spacing(0.5),\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.background.neutral\r\n}));\r\n\r\nconst InfoStyle = styled(Typography)(({ theme }) => ({\r\n  display: 'flex',\r\n  marginBottom: theme.spacing(0.75),\r\n  color: theme.palette.text.secondary\r\n}));\r\n\r\nconst MessageImgStyle = styled('img')(({ theme }) => ({\r\n  height: 80,\r\n  minWidth: 100,\r\n  width: 'auto',\r\n  cursor: 'pointer',\r\n  objectFit: 'cover',\r\n  borderRadius: theme.shape.borderRadius\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatMessageItem.propTypes = {\r\n  message: PropTypes.object.isRequired,\r\n  conversation: PropTypes.object.isRequired,\r\n  onOpenLightbox: PropTypes.func\r\n};\r\n\r\nexport default function ChatMessageItem({ message, conversation, onOpenLightbox, ...other }) {\r\n  const { user } = useAuth();\r\n  const sender = conversation.users.find((user) => user._id === message.sender_id);\r\n  const senderDetails =\r\n    message.sender_id === user._id\r\n      ? { type: 'me' }\r\n      : { avatar: `${serverConfig.baseUrl}/user/img-src/${sender.avatarUrl}`, name: sender.name };\r\n\r\n  const isMe = senderDetails.type === 'me';\r\n  const firstName = senderDetails.name && senderDetails.name.split(' ')[0];\r\n\r\n  const replaceURLWithHTMLLinks = (text) => {\r\n    const exp = /(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gim;\r\n    return text.replace(exp, (url) => `<a target=\"_blank\" href=\"${url}\">${url}</a>`);\r\n  };\r\n\r\n  return (\r\n    <RootStyle {...other}>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          ...(isMe && {\r\n            ml: 'auto'\r\n          })\r\n        }}\r\n      >\r\n        {senderDetails.type !== 'me' && (\r\n          <Avatar alt={senderDetails.name} src={senderDetails.avatar} sx={{ width: 32, height: 32 }} />\r\n        )}\r\n\r\n        <Box sx={{ ml: 2 }}>\r\n          <InfoStyle noWrap variant=\"caption\" sx={{ ...(isMe && { justifyContent: 'flex-end' }) }}>\r\n            {!isMe && `${firstName},`}&nbsp;\r\n            {formatDistanceToNowStrict(new Date(message.createdAt), {\r\n              addSuffix: true\r\n            })}\r\n          </InfoStyle>\r\n\r\n          <ContentStyle\r\n            sx={{\r\n              ...(isMe && {\r\n                color: 'grey.800',\r\n                bgcolor: 'primary.lighter'\r\n              })\r\n            }}\r\n          >\r\n            <Stack spacing={2} dangerouslySetInnerHTML={{ __html: replaceURLWithHTMLLinks(message.message) }} />\r\n            {message.imgs.length > 0 && (\r\n              <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                {message.imgs.map((img) => (\r\n                  <MessageImgStyle\r\n                    key={`${img}`}\r\n                    alt=\"attachment\"\r\n                    src={`${serverConfig.baseUrl}/message/img-src/${img}`}\r\n                    onClick={() => onOpenLightbox(`${serverConfig.baseUrl}/message/img-src/${img}`)}\r\n                  />\r\n                ))}\r\n              </Stack>\r\n            )}\r\n          </ContentStyle>\r\n        </Box>\r\n      </Box>\r\n    </RootStyle>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { findIndex } from 'lodash';\r\nimport { useEffect, useState, useRef } from 'react';\r\n//\r\nimport Scrollbar from '../../Scrollbar';\r\nimport LightboxModal from '../../LightboxModal';\r\nimport ChatMessageItem from './ChatMessageItem';\r\nimport { serverConfig } from '../../../config';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatMessageList.propTypes = {\r\n  conversation: PropTypes.object.isRequired\r\n};\r\n\r\nexport default function ChatMessageList({ conversation }) {\r\n  const scrollRef = useRef();\r\n  const [openLightbox, setOpenLightbox] = useState(false);\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const scrollMessagesToBottom = () => {\r\n      if (scrollRef.current) {\r\n        scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n      }\r\n    };\r\n    scrollMessagesToBottom();\r\n  }, [conversation.messages]);\r\n\r\n  const images = conversation.messages\r\n    .filter((messages) => messages.imgs.length > 0)\r\n    .map((messages) => messages.imgs)\r\n    .join()\r\n    .split(',')\r\n    .map((img) => `${serverConfig.baseUrl}/message/img-src/${img}`);\r\n\r\n  const handleOpenLightbox = (url) => {\r\n    const selectedImage = findIndex(images, (index) => index === url);\r\n    setOpenLightbox(true);\r\n    setSelectedImage(selectedImage);\r\n  };\r\n\r\n  return (\r\n    <Scrollbar scrollableNodeProps={{ ref: scrollRef }} sx={{ p: 3, flexGrow: 1 }}>\r\n      {conversation.messages.map((message) => (\r\n        <ChatMessageItem\r\n          key={message._id}\r\n          message={message}\r\n          conversation={conversation}\r\n          onOpenLightbox={handleOpenLightbox}\r\n        />\r\n      ))}\r\n\r\n      <LightboxModal\r\n        images={images}\r\n        photoIndex={selectedImage}\r\n        setPhotoIndex={setSelectedImage}\r\n        isOpen={openLightbox}\r\n        onClose={() => setOpenLightbox(false)}\r\n      />\r\n    </Scrollbar>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { uniq, flatten } from 'lodash';\r\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\r\nimport arrowIosDownwardFill from '@iconify/icons-eva/arrow-ios-downward-fill';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, Button, Divider, Collapse, Typography } from '@material-ui/core';\r\n// utils\r\nimport { fDateTime } from '../../../utils/formatTime';\r\nimport { getFileFullName, getFileThumb } from '../../../utils/getFileFormat';\r\n//\r\nimport Scrollbar from '../../Scrollbar';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  flexGrow: 1,\r\n  height: '100%',\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  flexDirection: 'column',\r\n  paddingBottom: theme.spacing(2)\r\n}));\r\n\r\nconst FileItemStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  marginTop: theme.spacing(2),\r\n  padding: theme.spacing(0, 2.5)\r\n}));\r\n\r\nconst FileThumbStyle = styled('div')(({ theme }) => ({\r\n  width: 40,\r\n  height: 40,\r\n  flexShrink: 0,\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  color: theme.palette.text.secondary,\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.grey[500_16]\r\n}));\r\n\r\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\r\n  ...theme.typography.overline,\r\n  height: 40,\r\n  flexShrink: 0,\r\n  borderRadius: 0,\r\n  padding: theme.spacing(1, 2),\r\n  justifyContent: 'space-between',\r\n  color: theme.palette.text.disabled\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nAttachmentItem.propTypes = {\r\n  file: PropTypes.object,\r\n  fileUrl: PropTypes.string\r\n};\r\n\r\nfunction AttachmentItem({ file, fileUrl }) {\r\n  return (\r\n    <FileItemStyle key={fileUrl}>\r\n      <FileThumbStyle>{getFileThumb(fileUrl)}</FileThumbStyle>\r\n      <Box sx={{ ml: 1.5, maxWidth: 150 }}>\r\n        <Typography variant=\"body2\" noWrap>\r\n          {getFileFullName(fileUrl)}\r\n        </Typography>\r\n        <Typography noWrap variant=\"caption\" sx={{ color: 'text.secondary', display: 'block' }}>\r\n          {fDateTime(file.createdAt)}\r\n        </Typography>\r\n      </Box>\r\n    </FileItemStyle>\r\n  );\r\n}\r\n\r\nChatRoomAttachment.propTypes = {\r\n  conversation: PropTypes.object.isRequired,\r\n  isCollapse: PropTypes.bool,\r\n  onCollapse: PropTypes.func\r\n};\r\n\r\nexport default function ChatRoomAttachment({ conversation, isCollapse, onCollapse, ...other }) {\r\n  const totalAttachment = uniq(flatten(conversation.messages.map((item) => item.attachments))).length;\r\n\r\n  return (\r\n    <RootStyle {...other}>\r\n      <CollapseButtonStyle\r\n        fullWidth\r\n        color=\"inherit\"\r\n        onClick={onCollapse}\r\n        endIcon={<Icon icon={isCollapse ? arrowIosDownwardFill : arrowIosForwardFill} width={16} height={16} />}\r\n      >\r\n        attachment ({totalAttachment})\r\n      </CollapseButtonStyle>\r\n\r\n      {!isCollapse && <Divider />}\r\n\r\n      <Scrollbar>\r\n        <Collapse in={isCollapse}>\r\n          {conversation.messages.map((file) => (\r\n            <div key={file.id}>\r\n              {file.attachments.map((fileUrl) => (\r\n                <AttachmentItem key={fileUrl} file={file} fileUrl={fileUrl} />\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </Collapse>\r\n      </Scrollbar>\r\n    </RootStyle>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport pinFill from '@iconify/icons-eva/pin-fill';\r\nimport phoneFill from '@iconify/icons-eva/phone-fill';\r\nimport emailFill from '@iconify/icons-eva/email-fill';\r\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\r\nimport arrowIosDownwardFill from '@iconify/icons-eva/arrow-ios-downward-fill';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, Avatar, Button, Divider, Collapse, Typography, Stack } from '@material-ui/core';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\r\n  ...theme.typography.overline,\r\n  height: 40,\r\n  borderRadius: 0,\r\n  padding: theme.spacing(1, 2),\r\n  justifyContent: 'space-between',\r\n  color: theme.palette.text.disabled\r\n}));\r\n\r\nconst RowIconStyle = styled(Icon)(({ theme }) => ({\r\n  width: 16,\r\n  height: 16,\r\n  marginTop: 4,\r\n  color: theme.palette.text.secondary\r\n}));\r\n\r\nconst RowTextStyle = styled(Typography)(({ theme }) => ({\r\n  flexGrow: 1,\r\n  maxWidth: 160,\r\n  wordWrap: 'break-word',\r\n  ...theme.typography.body2\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatRoomOneParticipant.propTypes = {\r\n  participants: PropTypes.array.isRequired,\r\n  isCollapse: PropTypes.bool,\r\n  onCollapse: PropTypes.func\r\n};\r\n\r\nexport default function ChatRoomOneParticipant({ participants, isCollapse, onCollapse, ...other }) {\r\n  const participant = [...participants][0];\r\n\r\n  if (participant === undefined) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Box {...other}>\r\n      <Box\r\n        sx={{\r\n          pt: 4,\r\n          pb: 3,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          flexDirection: 'column'\r\n        }}\r\n      >\r\n        <Avatar alt={participant.name} src={participant.avatar} sx={{ width: 96, height: 96 }} />\r\n        <Box sx={{ mt: 2, textAlign: 'center' }}>\r\n          <Typography variant=\"subtitle1\">{participant.name}</Typography>\r\n          <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n            {participant.position}\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Divider />\r\n\r\n      <CollapseButtonStyle\r\n        fullWidth\r\n        color=\"inherit\"\r\n        onClick={onCollapse}\r\n        endIcon={<Icon icon={isCollapse ? arrowIosDownwardFill : arrowIosForwardFill} width={16} height={16} />}\r\n      >\r\n        information\r\n      </CollapseButtonStyle>\r\n\r\n      <Collapse in={isCollapse}>\r\n        <Stack spacing={2} sx={{ p: 2.5, pt: 1 }}>\r\n          <Stack direction=\"row\" spacing={1}>\r\n            <RowIconStyle icon={pinFill} />\r\n            <RowTextStyle>{participant.address}</RowTextStyle>\r\n          </Stack>\r\n          <Stack direction=\"row\" spacing={1}>\r\n            <RowIconStyle icon={phoneFill} />\r\n            <RowTextStyle>{participant.phone}</RowTextStyle>\r\n          </Stack>\r\n          <Stack direction=\"row\" spacing={1}>\r\n            <RowIconStyle icon={emailFill} />\r\n            <RowTextStyle>{participant.email}</RowTextStyle>\r\n          </Stack>\r\n        </Stack>\r\n      </Collapse>\r\n    </Box>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport pinFill from '@iconify/icons-eva/pin-fill';\r\nimport phoneFill from '@iconify/icons-eva/phone-fill';\r\nimport emailFill from '@iconify/icons-eva/email-fill';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Avatar, Typography, DialogContent } from '@material-ui/core';\r\n//\r\nimport { DialogAnimate } from '../../animate';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RowStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  marginTop: theme.spacing(1.5)\r\n}));\r\n\r\nconst IconStyle = styled(Icon)(({ theme }) => ({\r\n  width: 16,\r\n  height: 16,\r\n  marginRight: theme.spacing(1),\r\n  color: theme.palette.text.secondary\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatRoomPopup.propTypes = {\r\n  participant: PropTypes.object,\r\n  isOpen: PropTypes.bool,\r\n  onClose: PropTypes.func\r\n};\r\n\r\nexport default function ChatRoomPopup({ participant, isOpen, onClose, ...other }) {\r\n  const { name, avatar, position, address, phone, email } = participant;\r\n\r\n  return (\r\n    <DialogAnimate fullWidth maxWidth=\"xs\" open={isOpen} onClose={onClose} {...other}>\r\n      <DialogContent sx={{ pb: 5, textAlign: 'center' }}>\r\n        <Avatar\r\n          alt={name}\r\n          src={avatar}\r\n          sx={{\r\n            mt: 5,\r\n            mb: 2,\r\n            mx: 'auto',\r\n            width: 96,\r\n            height: 96\r\n          }}\r\n        />\r\n        <Typography variant=\"h6\">{name}</Typography>\r\n        <Typography variant=\"body2\" paragraph sx={{ color: 'text.secondary' }}>\r\n          {position}\r\n        </Typography>\r\n\r\n        <RowStyle>\r\n          <IconStyle icon={pinFill} />\r\n          <Typography variant=\"body2\">{address}</Typography>\r\n        </RowStyle>\r\n        <RowStyle>\r\n          <IconStyle icon={phoneFill} />\r\n          <Typography variant=\"body2\">{phone}</Typography>\r\n        </RowStyle>\r\n        <RowStyle>\r\n          <IconStyle icon={emailFill} />\r\n          <Typography variant=\"body2\">{email}</Typography>\r\n        </RowStyle>\r\n      </DialogContent>\r\n    </DialogAnimate>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\r\nimport arrowIosDownwardFill from '@iconify/icons-eva/arrow-ios-downward-fill';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, List, Avatar, Button, Collapse, ListItemText, ListItemAvatar, ListItemButton } from '@material-ui/core';\r\n//\r\nimport Scrollbar from '../../Scrollbar';\r\nimport BadgeStatus from '../../BadgeStatus';\r\nimport ChatRoomPopup from './ChatRoomPopup';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst HEIGHT = 64;\r\n\r\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\r\n  ...theme.typography.overline,\r\n  height: 40,\r\n  borderRadius: 0,\r\n  padding: theme.spacing(1, 2),\r\n  justifyContent: 'space-between',\r\n  color: theme.palette.text.disabled\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nParticipant.propTypes = {\r\n  participant: PropTypes.object.isRequired,\r\n  isOpen: PropTypes.bool,\r\n  onClosePopup: PropTypes.func,\r\n  onShowPopup: PropTypes.func\r\n};\r\n\r\nfunction Participant({ participant, isOpen, onClosePopup, onShowPopup }) {\r\n  const { name, avatar, status, position } = participant;\r\n\r\n  return (\r\n    <>\r\n      <ListItemButton disableGutters onClick={onShowPopup} sx={{ height: HEIGHT, px: 2.5 }}>\r\n        <ListItemAvatar>\r\n          <Box sx={{ position: 'relative', width: 40, height: 40 }}>\r\n            <Avatar alt={name} src={avatar} />\r\n            <BadgeStatus status={status} sx={{ right: 0, bottom: 0, position: 'absolute' }} />\r\n          </Box>\r\n        </ListItemAvatar>\r\n        <ListItemText\r\n          primary={name}\r\n          secondary={position}\r\n          primaryTypographyProps={{ variant: 'subtitle2', noWrap: true }}\r\n          secondaryTypographyProps={{ noWrap: true }}\r\n        />\r\n      </ListItemButton>\r\n      <ChatRoomPopup participant={participant} isOpen={isOpen} onClose={onClosePopup} />\r\n    </>\r\n  );\r\n}\r\n\r\nChatRoomGroupParticipant.propTypes = {\r\n  participants: PropTypes.array.isRequired,\r\n  selectUserId: PropTypes.string,\r\n  onShowPopupUserInfo: PropTypes.func,\r\n  isCollapse: PropTypes.bool,\r\n  onCollapse: PropTypes.func\r\n};\r\n\r\nexport default function ChatRoomGroupParticipant({\r\n  participants,\r\n  selectUserId,\r\n  onShowPopupUserInfo,\r\n  isCollapse,\r\n  onCollapse,\r\n  ...other\r\n}) {\r\n  return (\r\n    <Box {...other}>\r\n      <CollapseButtonStyle\r\n        fullWidth\r\n        disableRipple\r\n        color=\"inherit\"\r\n        onClick={onCollapse}\r\n        endIcon={<Icon icon={isCollapse ? arrowIosDownwardFill : arrowIosForwardFill} width={16} height={16} />}\r\n      >\r\n        In room ({participants.length})\r\n      </CollapseButtonStyle>\r\n\r\n      <Box sx={{ height: isCollapse ? HEIGHT * 4 : 0 }}>\r\n        <Scrollbar>\r\n          <Collapse in={isCollapse}>\r\n            <List disablePadding>\r\n              {participants.map((participant) => (\r\n                <Participant\r\n                  key={participant.id}\r\n                  participant={participant}\r\n                  isOpen={selectUserId === participant.id}\r\n                  onShowPopup={() => onShowPopupUserInfo(participant.id)}\r\n                  onClosePopup={() => onShowPopupUserInfo(null)}\r\n                />\r\n              ))}\r\n            </List>\r\n          </Collapse>\r\n        </Scrollbar>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { useState, useEffect } from 'react';\r\nimport arrowIosBackFill from '@iconify/icons-eva/arrow-ios-back-fill';\r\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\r\n// material\r\nimport { useTheme, styled } from '@material-ui/core/styles';\r\nimport { useMediaQuery, Divider, IconButton } from '@material-ui/core';\r\n//\r\nimport ChatRoomAttachment from './ChatRoomAttachment';\r\nimport ChatRoomOneParticipant from './ChatRoomOneParticipant';\r\nimport ChatRoomGroupParticipant from './ChatRoomGroupParticipant';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  width: 240,\r\n  flexShrink: 0,\r\n  display: 'flex',\r\n  position: 'relative',\r\n  flexDirection: 'column',\r\n  borderLeft: `solid 1px ${theme.palette.divider}`,\r\n  transition: theme.transitions.create('width')\r\n}));\r\n\r\nconst ToggleButtonStyle = styled('div')(({ theme }) => ({\r\n  borderRight: 0,\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  position: 'absolute',\r\n  alignItems: 'center',\r\n  top: theme.spacing(1),\r\n  left: theme.spacing(-4),\r\n  width: theme.spacing(4),\r\n  height: theme.spacing(4),\r\n  justifyContent: 'center',\r\n  boxShadow: theme.customShadows.z8,\r\n  border: `solid 1px ${theme.palette.divider}`,\r\n  borderTopLeftRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.background.paper,\r\n  borderBottomLeftRadius: theme.shape.borderRadius\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatRoom.propTypes = {\r\n  conversation: PropTypes.object.isRequired,\r\n  participants: PropTypes.array.isRequired\r\n};\r\n\r\nexport default function ChatRoom({ conversation, participants, ...other }) {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('lg'));\r\n  const [openSidebar, setOpenSidebar] = useState(true);\r\n  const [showInfo, setShowInfo] = useState(true);\r\n  const [selectUser, setSelectUser] = useState(null);\r\n  const [showAttachment, setShowAttachment] = useState(true);\r\n  const [showParticipants, setShowParticipants] = useState(true);\r\n  const isGroup = participants.length > 1;\r\n\r\n  useEffect(() => {\r\n    if (isMobile) {\r\n      return setOpenSidebar(false);\r\n    }\r\n    return setOpenSidebar(true);\r\n  }, [isMobile]);\r\n\r\n  return (\r\n    <RootStyle\r\n      sx={{\r\n        ...(!openSidebar && {\r\n          width: 0,\r\n          '& > *': { overflow: 'hidden' }\r\n        })\r\n      }}\r\n      {...other}\r\n    >\r\n      <ToggleButtonStyle>\r\n        <IconButton onClick={() => setOpenSidebar(!openSidebar)}>\r\n          <Icon width={16} height={16} icon={openSidebar ? arrowIosForwardFill : arrowIosBackFill} />\r\n        </IconButton>\r\n      </ToggleButtonStyle>\r\n\r\n      {isGroup ? (\r\n        <ChatRoomGroupParticipant\r\n          selectUserId={selectUser}\r\n          participants={participants}\r\n          isCollapse={showParticipants}\r\n          onShowPopupUserInfo={(participantId) => setSelectUser(participantId)}\r\n          onCollapse={() => setShowParticipants((prev) => !prev)}\r\n        />\r\n      ) : (\r\n        <ChatRoomOneParticipant\r\n          participants={participants}\r\n          isCollapse={showInfo}\r\n          onCollapse={() => setShowInfo((prev) => !prev)}\r\n        />\r\n      )}\r\n      <Divider />\r\n\r\n      {/* <ChatRoomAttachment\r\n        conversation={conversation}\r\n        isCollapse={showAttachment}\r\n        onCollapse={() => setShowAttachment((prev) => !prev)}\r\n      /> */}\r\n    </RootStyle>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\n// material\r\nimport { List, Avatar, Typography, ListItemText, ListItemAvatar, ListItemButton } from '@material-ui/core';\r\n//\r\nimport SearchNotFound from '../../SearchNotFound';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatSearchResults.propTypes = {\r\n  query: PropTypes.string,\r\n  results: PropTypes.array,\r\n  onSelectContact: PropTypes.func\r\n};\r\n\r\nexport default function ChatSearchResults({ query, results, onSelectContact }) {\r\n  const isFound = results.length > 0;\r\n\r\n  return (\r\n    <>\r\n      <Typography paragraph variant=\"subtitle1\" sx={{ px: 3, color: 'text.secondary' }}>\r\n        Contacts\r\n      </Typography>\r\n\r\n      <List disablePadding>\r\n        {results.map((result) => (\r\n          <ListItemButton\r\n            key={result._id}\r\n            onClick={() => onSelectContact(result)}\r\n            sx={{\r\n              py: 1.5,\r\n              px: 3\r\n            }}\r\n          >\r\n            <ListItemAvatar>\r\n              <Avatar alt={result.name} src={result.avatar} />\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n              primary={result.name}\r\n              primaryTypographyProps={{\r\n                noWrap: true,\r\n                variant: 'subtitle2'\r\n              }}\r\n            />\r\n          </ListItemButton>\r\n        ))}\r\n      </List>\r\n      {!isFound && (\r\n        <SearchNotFound\r\n          searchQuery={query}\r\n          sx={{\r\n            p: 3,\r\n            mx: 'auto',\r\n            width: `calc(100% - 48px)`,\r\n            bgcolor: 'background.neutral'\r\n          }}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { Icon } from '@iconify/react';\r\nimport { useState, useEffect } from 'react';\r\nimport editFill from '@iconify/icons-eva/edit-fill';\r\n\r\nimport { useNavigate, Link as RouterLink } from 'react-router-dom';\r\nimport arrowIosBackFill from '@iconify/icons-eva/arrow-ios-back-fill';\r\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\r\n// material\r\nimport { useTheme, styled } from '@material-ui/core/styles';\r\nimport { Box, useMediaQuery, Checkbox, FormControlLabel } from '@material-ui/core';\r\n// redux\r\nimport { useSelector } from '../../../redux/store';\r\n// utils\r\nimport axios from '../../../utils/axios';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../../routes/paths';\r\n\r\nimport { MIconButton } from '../../@material-extend';\r\nimport Scrollbar from '../../Scrollbar';\r\nimport ChatAccount from './ChatAccount';\r\nimport ChatSearchResults from './ChatSearchResults';\r\nimport ChatContactSearch from './ChatContactSearch';\r\nimport ChatConversationList from './ChatConversationList';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  width: 320,\r\n  flexShrink: 0,\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  transition: theme.transitions.create('width'),\r\n  borderRight: `1px solid ${theme.palette.divider}`\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function ChatSidebar() {\r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  const [openSidebar, setOpenSidebar] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isSearchFocused, setSearchFocused] = useState(false);\r\n  const displayResults = searchQuery && isSearchFocused;\r\n  const { conversations, activeConversationId } = useSelector((state) => state.privatechat);\r\n  const [onlyUnreadShow, setOnlyUnreadShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isMobile) {\r\n      return setOpenSidebar(false);\r\n    }\r\n    return setOpenSidebar(true);\r\n  }, [isMobile]);\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  useEffect(() => {\r\n    if (!openSidebar) {\r\n      return setSearchFocused(false);\r\n    }\r\n  }, [openSidebar]);\r\n\r\n  const handleClickAwaySearch = () => {\r\n    setSearchFocused(false);\r\n    setSearchQuery('');\r\n  };\r\n\r\n  const handleChangeSearch = async (event) => {\r\n    try {\r\n      const { value } = event.target;\r\n      setSearchQuery(value);\r\n      if (value) {\r\n        const response = await axios.get('/chat/search', {\r\n          params: { query: value }\r\n        });\r\n        setSearchResults(response.data.results);\r\n      } else {\r\n        setSearchResults([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleSearchFocus = () => {\r\n    setSearchFocused(true);\r\n  };\r\n\r\n  const handleSearchSelect = (username) => {\r\n    setSearchFocused(false);\r\n    setSearchQuery('');\r\n    navigate(`${PATH_DASHBOARD.chat.root}/${username}`);\r\n  };\r\n\r\n  const handleSelectContact = (result) => {\r\n    if (handleSearchSelect) {\r\n      handleSearchSelect(result.username);\r\n    }\r\n  };\r\n\r\n  const handleUnreadShowChange = (e) => {\r\n    setOnlyUnreadShow(e.target.checked);\r\n  };\r\n\r\n  return (\r\n    <RootStyle sx={{ ...(!openSidebar && { width: 96 }) }}>\r\n      <Box sx={{ py: 2, px: 3 }}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n          {openSidebar && (\r\n            <>\r\n              <Box sx={{ flexGrow: 1 }} />\r\n            </>\r\n          )}\r\n\r\n          <MIconButton onClick={() => setOpenSidebar(!openSidebar)}>\r\n            <Icon width={20} height={20} icon={openSidebar ? arrowIosBackFill : arrowIosForwardFill} />\r\n          </MIconButton>\r\n        </Box>\r\n\r\n        {openSidebar && (\r\n          <Box>\r\n            <ChatContactSearch\r\n              query={searchQuery}\r\n              onFocus={handleSearchFocus}\r\n              onChange={handleChangeSearch}\r\n              onClickAway={handleClickAwaySearch}\r\n            />\r\n            <FormControlLabel\r\n              control={<Checkbox checked={onlyUnreadShow} onChange={handleUnreadShowChange} />}\r\n              label=\"display unread chat partner only\"\r\n            />\r\n          </Box>\r\n        )}\r\n      </Box>\r\n\r\n      <Scrollbar>\r\n        {/* {!displayResults ? ( */}\r\n        <ChatConversationList\r\n          conversations={conversations}\r\n          isOpenSidebar={openSidebar}\r\n          activeConversationId={activeConversationId}\r\n          // sx={{ ...(isSearchFocused && { display: 'none' }) }}\r\n          query={searchQuery}\r\n          onlyUnreadShow={onlyUnreadShow}\r\n        />\r\n        {/* ) : (\r\n          <ChatSearchResults query={searchQuery} results={searchResults} onSelectContact={handleSelectContact} />\r\n        )} */}\r\n      </Scrollbar>\r\n    </RootStyle>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useNavigate, useParams, useLocation } from 'react-router-dom';\r\n// material\r\nimport { Box, Divider } from '@material-ui/core';\r\n// redux\r\nimport { useDispatch, useSelector } from '../../../redux/store';\r\nimport {\r\n  addRecipients,\r\n  onSendMessage,\r\n  getConversation,\r\n  getParticipants,\r\n  markConversationAsRead,\r\n  resetActiveConversation\r\n} from '../../../redux/slices/privatechat';\r\nimport { getSettingsList } from '../../../redux/slices/settings';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../../routes/paths';\r\n//\r\n// import ChatRoom from './ChatRoom';\r\nimport ChatMessageList from './ChatMessageList';\r\nimport ChatHeaderDetail from './ChatHeaderDetail';\r\nimport ChatMessageInput from './ChatMessageInput';\r\nimport ChatHeaderCompose from './ChatHeaderCompose';\r\n// hooks\r\nimport useAuth from '../../../hooks/useAuth';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst conversationSelector = (state) => {\r\n  const { conversations, activeConversationId } = state.privatechat;\r\n  const conversation = conversations.byId[activeConversationId];\r\n  if (conversation) {\r\n    return conversation;\r\n  }\r\n  return {\r\n    id: null,\r\n    messages: [],\r\n    lastMessage: null,\r\n    users: []\r\n  };\r\n};\r\n\r\nexport default function ChatWindow({ socket }) {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { pathname } = useLocation();\r\n  const { opponentId } = useParams();\r\n  const { contacts, recipients, participants, activeConversationId } = useSelector((state) => state.privatechat);\r\n  const conversation = useSelector((state) => conversationSelector(state));\r\n\r\n  const { settingsList } = useSelector((state) => state.setting);\r\n  const parameterSettings = settingsList.find((settingRow) => settingRow.type === 'parameter');\r\n\r\n  useEffect(() => {\r\n    dispatch(getSettingsList());\r\n  }, [dispatch]);\r\n\r\n  const mode = opponentId ? 'DETAIL' : 'COMPOSE';\r\n\r\n  const displayParticipants = participants.filter((item) => item._id !== '8864c717-587d-472a-929a-8e5f298024da-0');\r\n\r\n  useEffect(() => {\r\n    if (activeConversationId) {\r\n      console.log('get conversation', activeConversationId);\r\n      dispatch(getConversation(activeConversationId));\r\n      // dispatch(markConversationAsRead(activeConversationId));\r\n    }\r\n  }, [dispatch, activeConversationId]);\r\n\r\n  useEffect(() => {\r\n    // console.log(conversation);\r\n    if (conversation.lastMessage && conversation.lastMessage.users_see_message.indexOf(user._id) === -1) {\r\n      socket.emit('makeLastMessageAsSeen', JSON.stringify({ chatId: activeConversationId, userId: user._id }));\r\n    }\r\n  }, [dispatch, conversation]);\r\n\r\n  const handleAddRecipient = (recipient) => {\r\n    dispatch(addRecipients(recipient));\r\n  };\r\n\r\n  const handleSendMessage = async (value) => {\r\n    try {\r\n      dispatch(onSendMessage(value));\r\n      const message = {\r\n        sender_id: value.senderId,\r\n        sender_name: value.senderName,\r\n        messageId: value.messageId,\r\n        chat_id: value.conversationId,\r\n        message: value.message,\r\n        receiver_id: value.receiverId,\r\n        message_type: value.messageType,\r\n        imgs: value.imgs\r\n      };\r\n      console.log('socket new message', message);\r\n      socket.emit('new_message', JSON.stringify(message));\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column' }}>\r\n      {/* {mode === 'DETAIL' ? (\r\n        <ChatHeaderDetail participants={displayParticipants} />\r\n      ) : (\r\n        <ChatHeaderCompose\r\n          recipients={recipients}\r\n          contacts={Object.values(contacts.byId)}\r\n          onAddRecipient={handleAddRecipient}\r\n        />\r\n      )} */}\r\n      <ChatHeaderDetail participants={displayParticipants} />\r\n\r\n      <Divider />\r\n\r\n      <Box sx={{ flexGrow: 1, display: 'flex', overflow: 'hidden' }}>\r\n        <Box sx={{ display: 'flex', flexGrow: 1, flexDirection: 'column' }}>\r\n          <ChatMessageList conversation={conversation} />\r\n\r\n          <Divider />\r\n\r\n          <ChatMessageInput\r\n            conversationId={activeConversationId}\r\n            opponentId={opponentId}\r\n            onSend={handleSendMessage}\r\n            disabled={pathname === PATH_DASHBOARD.chat.private}\r\n            messageMaxLen={parameterSettings && Number(parameterSettings.settings.message_limit_character_num)}\r\n          />\r\n        </Box>\r\n\r\n        {/* {mode === 'DETAIL' && <ChatRoom conversation={conversation} participants={displayParticipants} />} */}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import * as Yup from 'yup';\r\nimport PropTypes from 'prop-types';\r\nimport { useSnackbar } from 'notistack5';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Form, FormikProvider, useFormik } from 'formik';\r\n// material\r\nimport { LoadingButton } from '@material-ui/lab';\r\nimport {\r\n  Box,\r\n  Card,\r\n  Grid,\r\n  Stack,\r\n  Switch,\r\n  TextField,\r\n  Typography,\r\n  FormHelperText,\r\n  FormControlLabel\r\n} from '@material-ui/core';\r\n// utils\r\nimport axios from '../../../utils/axios';\r\nimport fakeRequest from '../../../utils/fakeRequest';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatAdminMessageForm.propTypes = {\r\n  chatSettings: PropTypes.object\r\n};\r\n\r\nexport default function ChatAdminMessageForm({ chatSettings }) {\r\n  const navigate = useNavigate();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const ChatAdminMessageSchema = Yup.object().shape({\r\n    admin_message: Yup.string().required('This field is required')\r\n  });\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      admin_message:\r\n        chatSettings?.settings.admin_message ||\r\n        'Please leave a message, I will reply to you as soon as possible. You may talk about anything: advertising, complaining, suggestions, advice, cooperation, etc.'\r\n    },\r\n    validationSchema: ChatAdminMessageSchema,\r\n    onSubmit: async (values, { setSubmitting, resetForm, setErrors }) => {\r\n      try {\r\n        await fakeRequest(500);\r\n\r\n        await axios.put(`/settings/chat`, values);\r\n\r\n        setSubmitting(false);\r\n        enqueueSnackbar('Update success', { variant: 'success' });\r\n      } catch (error) {\r\n        console.error(error);\r\n        setSubmitting(false);\r\n        setErrors(error);\r\n      }\r\n    }\r\n  });\r\n\r\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\r\n\r\n  return (\r\n    <FormikProvider value={formik}>\r\n      <Form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} md={12}>\r\n            <Card sx={{ p: 3 }}>\r\n              <Stack spacing={3}>\r\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Admin Message\"\r\n                    multiline\r\n                    minRows={2}\r\n                    maxRows={4}\r\n                    {...getFieldProps('admin_message')}\r\n                    error={Boolean(touched.message && errors.message)}\r\n                    helperText={touched.message && errors.message}\r\n                  />\r\n                  <LoadingButton type=\"submit\" variant=\"contained\" loading={isSubmitting}>\r\n                    Save\r\n                  </LoadingButton>\r\n                </Stack>\r\n              </Stack>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Form>\r\n    </FormikProvider>\r\n  );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport socketio from 'socket.io-client';\r\n// material\r\nimport { Card, Container } from '@material-ui/core';\r\n// redux\r\nimport { useDispatch, useSelector } from '../../redux/store';\r\nimport { getUserList } from '../../redux/slices/user';\r\nimport { getConversations, getContacts, onConnectChat, getConversation } from '../../redux/slices/privatechat';\r\nimport { getSettingsList } from '../../redux/slices/settings';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../routes/paths';\r\n// hooks\r\nimport useSettings from '../../hooks/useSettings';\r\nimport useAuth from '../../hooks/useAuth';\r\n// components\r\nimport Page from '../../components/Page';\r\nimport HeaderBreadcrumbs from '../../components/HeaderBreadcrumbs';\r\nimport { ChatSidebar, ChatWindow, ChatAdminMessageForm } from '../../components/_dashboard/privatechat';\r\nimport { serverConfig } from '../../config';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function PrivateChat() {\r\n  const { themeStretch } = useSettings();\r\n  const dispatch = useDispatch();\r\n  const { user } = useAuth();\r\n  const { opponentId } = useParams();\r\n  const { settingsList } = useSelector((state) => state.setting);\r\n  const chatSettings = settingsList.find((settingRow) => settingRow.type === 'chat');\r\n  const { activeConversationId } = useSelector((state) => state.privatechat);\r\n  const [currentConversationId, setCurrentCoversationId] = useState(null);\r\n\r\n  console.log('Private Chat');\r\n\r\n  useEffect(() => {\r\n    if (opponentId) {\r\n      const lastMessage =\r\n        chatSettings?.settings.admin_message ||\r\n        'Please leave a message, I will reply to you as soon as possible. You may talk about anything: advertising, complaining, suggestions, advice, cooperation, etc.';\r\n      dispatch(onConnectChat(user._id, opponentId, lastMessage));\r\n    }\r\n  }, [dispatch, opponentId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserList());\r\n    dispatch(getConversations());\r\n    dispatch(getContacts());\r\n    dispatch(getSettingsList());\r\n  }, [dispatch]);\r\n\r\n  const [socket, setSocket] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const newSocket = socketio.connect(`${serverConfig.socketUrl}/api/message`, {\r\n      // EIO: 2,\r\n      // reconnect: true,\r\n      transports: ['websocket']\r\n    });\r\n    newSocket.on('connect', () => {\r\n      console.log('Successfully connected');\r\n    });\r\n    newSocket.on('connect_failed', () => {\r\n      console.log('Connection Failed');\r\n    });\r\n    newSocket.on('disconnect', () => {\r\n      console.log('Disconnected');\r\n    });\r\n    newSocket.on('msgReceive', handleReceiveMessage);\r\n    newSocket.on('onDeleted', handleDeleteMessage);\r\n    newSocket.on('onTyping', onTyping);\r\n    setSocket(newSocket);\r\n    return () => newSocket.close();\r\n  }, [setSocket]);\r\n\r\n  useEffect(() => {\r\n    if (socket && activeConversationId) {\r\n      if (currentConversationId && currentConversationId !== activeConversationId) {\r\n        console.log('leaveChat', currentConversationId);\r\n        socket.emit(\r\n          'leaveChat',\r\n          JSON.stringify({\r\n            chatId: currentConversationId\r\n          })\r\n        );\r\n      }\r\n      console.log('joinChat', activeConversationId);\r\n      const params = { chatId: activeConversationId };\r\n      socket.emit('joinChat', JSON.stringify(params));\r\n      setCurrentCoversationId(activeConversationId);\r\n    }\r\n  }, [socket, dispatch, activeConversationId]);\r\n\r\n  const handleReceiveMessage = async (value) => {\r\n    console.log(activeConversationId, value);\r\n    if (activeConversationId) {\r\n      dispatch(getConversation(activeConversationId));\r\n    }\r\n  };\r\n\r\n  const handleDeleteMessage = async (value) => {\r\n    console.log(value);\r\n    dispatch(getConversation(activeConversationId));\r\n  };\r\n\r\n  const onTyping = async (value) => {\r\n    console.log(value);\r\n  };\r\n\r\n  const [roomListSocket, setRoomListSocket] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log('RoomList Socket!');\r\n    const newSocket = socketio.connect(`${serverConfig.socketUrl}/api/chatRoomList`, {\r\n      // reconnect: true,\r\n      transports: ['websocket']\r\n    });\r\n    newSocket.on('connect', () => {\r\n      console.log('Successfully connected: api/chatRoomList');\r\n    });\r\n    newSocket.on('updateChatRoomList', handleUpdateChatRoomList);\r\n    setRoomListSocket(newSocket);\r\n    return () => newSocket.close();\r\n  }, [setRoomListSocket]);\r\n\r\n  const handleUpdateChatRoomList = () => {\r\n    console.log('handleUpdateChatRoomList');\r\n    dispatch(getConversations());\r\n  };\r\n\r\n  return (\r\n    <Page title=\"Chat | Locals\">\r\n      <Container maxWidth={themeStretch ? false : 'xl'}>\r\n        <HeaderBreadcrumbs\r\n          heading=\"Private Chat\"\r\n          links={[{ name: 'Dashboard', href: PATH_DASHBOARD.root }, { name: 'Private Chat' }]}\r\n        />\r\n        <ChatAdminMessageForm chatSettings={chatSettings} />\r\n        <Card sx={{ height: '72vh', display: 'flex' }}>\r\n          <ChatSidebar />\r\n          {socket && <ChatWindow socket={socket} />}\r\n        </Card>\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n"]}}