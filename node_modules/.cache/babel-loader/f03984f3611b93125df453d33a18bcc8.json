{"ast":null,"code":"var _jsxFileName = \"E:\\\\projects\\\\localtalk.mobi(react+node)\\\\pro\\\\toptalk-adminpanel\\\\src\\\\components\\\\_dashboard\\\\mail\\\\MailItem.js\";\nimport PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport { useParams, Link as RouterLink } from 'react-router-dom';\nimport starFill from '@iconify/icons-eva/star-fill';\nimport linkFill from '@iconify/icons-eva/link-fill';\nimport starOutline from '@iconify/icons-eva/star-outline';\nimport roundLabelImportant from '@iconify/icons-ic/round-label-important'; // material\n\nimport { styled } from '@material-ui/core/styles';\nimport { Box, Link, Tooltip, Typography, Stack, Checkbox } from '@material-ui/core'; // redux\n\nimport { useSelector } from '../../../redux/store'; // utils\n\nimport { fDate } from '../../../utils/formatTime';\nimport createAvatar from '../../../utils/createAvatar'; // routes\n\nimport { PATH_DASHBOARD } from '../../../routes/paths'; //\n\nimport { MAvatar, MHidden } from '../../@material-extend';\nimport Label from '../../Label';\nimport MailItemAction from './MailItemAction'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RootStyle = styled('div')(({\n  theme\n}) => ({\n  position: 'relative',\n  padding: theme.spacing(0, 2),\n  color: theme.palette.text.secondary,\n  backgroundColor: theme.palette.background.neutral,\n  borderBottom: `1px solid ${theme.palette.divider}`,\n  [theme.breakpoints.up('md')]: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  '&:hover': {\n    zIndex: 999,\n    position: 'relative',\n    boxShadow: theme.customShadows.z24,\n    '& .showActions': {\n      opacity: 1\n    }\n  }\n}));\nconst WrapStyle = styled(Link)(({\n  theme\n}) => ({\n  minWidth: 0,\n  display: 'flex',\n  padding: theme.spacing(2, 0),\n  transition: theme.transitions.create('padding')\n})); // ----------------------------------------------------------------------\n\nconst linkTo = (params, mailId) => {\n  const {\n    systemLabel,\n    customLabel\n  } = params;\n  const baseUrl = PATH_DASHBOARD.mail.root;\n\n  if (systemLabel) {\n    return `${baseUrl}/${systemLabel}/${mailId}`;\n  }\n\n  if (customLabel) {\n    return `${baseUrl}/label/${customLabel}/${mailId}`;\n  }\n\n  return baseUrl;\n};\n\nMailItem.propTypes = {\n  mail: PropTypes.object.isRequired,\n  isDense: PropTypes.bool,\n  isSelected: PropTypes.bool.isRequired,\n  onDeselect: PropTypes.func,\n  onSelect: PropTypes.func\n};\nexport default function MailItem({\n  mail,\n  isDense,\n  isSelected,\n  onSelect,\n  onDeselect,\n  ...other\n}) {\n  const params = useParams();\n  const {\n    labels\n  } = useSelector(state => state.mail);\n  const isAttached = mail.files.length > 0;\n\n  const handleChangeCheckbox = event => event.target.checked ? onSelect() : onDeselect();\n\n  return /*#__PURE__*/_jsxDEV(RootStyle, {\n    sx: { ...(!mail.isUnread && {\n        color: 'text.primary',\n        backgroundColor: 'background.paper'\n      }),\n      ...(isSelected && {\n        bgcolor: 'action.selected'\n      })\n    },\n    ...other,\n    children: [/*#__PURE__*/_jsxDEV(MHidden, {\n      width: \"mdDown\",\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        sx: {\n          mr: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n          checked: isSelected,\n          onChange: handleChangeCheckbox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Starred\",\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            color: \"warning\",\n            defaultChecked: mail.isStarred,\n            icon: /*#__PURE__*/_jsxDEV(Icon, {\n              icon: starOutline\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 21\n            }, this),\n            checkedIcon: /*#__PURE__*/_jsxDEV(Icon, {\n              icon: starFill\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Important\",\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            color: \"warning\",\n            defaultChecked: mail.isImportant,\n            checkedIcon: /*#__PURE__*/_jsxDEV(Icon, {\n              icon: roundLabelImportant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 28\n            }, this),\n            icon: /*#__PURE__*/_jsxDEV(Icon, {\n              icon: roundLabelImportant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(WrapStyle, {\n      color: \"inherit\",\n      underline: \"none\",\n      component: RouterLink,\n      to: linkTo(params, mail.id),\n      sx: {\n        display: 'flex',\n        ...(isDense && {\n          py: 1\n        })\n      },\n      children: [/*#__PURE__*/_jsxDEV(MAvatar, {\n        alt: mail.from.name,\n        src: mail.from.avatar,\n        color: createAvatar(mail.from.name).color,\n        sx: {\n          width: 32,\n          height: 32\n        },\n        children: createAvatar(mail.from.name).name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          ml: 2,\n          minWidth: 0,\n          alignItems: 'center',\n          display: {\n            md: 'flex'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          noWrap: true,\n          sx: {\n            pr: 2,\n            minWidth: 200,\n            ...(!mail.isUnread && {\n              fontWeight: 'fontWeightBold'\n            })\n          },\n          children: mail.from.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          noWrap: true,\n          variant: \"body2\",\n          sx: {\n            pr: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            component: \"span\",\n            sx: { ...(!mail.isUnread && {\n                fontWeight: 'fontWeightBold'\n              })\n            },\n            children: mail.subject\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), \"\\xA0-\\xA0\", /*#__PURE__*/_jsxDEV(Box, {\n            component: \"span\",\n            sx: { ...(!mail.isUnread && {\n                color: 'text.secondary'\n              })\n            },\n            children: mail.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MHidden, {\n          width: \"mdDown\",\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex'\n            },\n            children: mail.labelIds.map(labelId => {\n              const label = labels.find(_label => _label.id === labelId);\n              if (!label) return null;\n              return /*#__PURE__*/_jsxDEV(Label, {\n                sx: {\n                  mx: 0.5,\n                  textTransform: 'capitalize',\n                  bgcolor: label.color,\n                  color: theme => theme.palette.getContrastText(label.color)\n                },\n                children: label.name\n              }, label.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), isAttached && /*#__PURE__*/_jsxDEV(Box, {\n            component: Icon,\n            icon: linkFill,\n            sx: {\n              mx: 2,\n              width: 20,\n              height: 20,\n              flexShrink: 0\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          sx: {\n            flexShrink: 0,\n            minWidth: 120,\n            textAlign: 'right',\n            ...(!mail.isUnread && {\n              fontWeight: 'fontWeightBold'\n            })\n          },\n          children: fDate(mail.createdAt)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MailItemAction, {\n      className: \"showActions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["E:/projects/localtalk.mobi(react+node)/pro/toptalk-adminpanel/src/components/_dashboard/mail/MailItem.js"],"names":["PropTypes","Icon","useParams","Link","RouterLink","starFill","linkFill","starOutline","roundLabelImportant","styled","Box","Tooltip","Typography","Stack","Checkbox","useSelector","fDate","createAvatar","PATH_DASHBOARD","MAvatar","MHidden","Label","MailItemAction","RootStyle","theme","position","padding","spacing","color","palette","text","secondary","backgroundColor","background","neutral","borderBottom","divider","breakpoints","up","display","alignItems","zIndex","boxShadow","customShadows","z24","opacity","WrapStyle","minWidth","transition","transitions","create","linkTo","params","mailId","systemLabel","customLabel","baseUrl","mail","root","MailItem","propTypes","object","isRequired","isDense","bool","isSelected","onDeselect","func","onSelect","other","labels","state","isAttached","files","length","handleChangeCheckbox","event","target","checked","isUnread","bgcolor","mr","isStarred","isImportant","id","py","from","name","avatar","width","height","ml","md","pr","fontWeight","subject","message","labelIds","map","labelId","label","find","_label","mx","textTransform","getContrastText","flexShrink","textAlign","createdAt"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { useParams, Link as RouterLink } from 'react-router-dom';\r\nimport starFill from '@iconify/icons-eva/star-fill';\r\nimport linkFill from '@iconify/icons-eva/link-fill';\r\nimport starOutline from '@iconify/icons-eva/star-outline';\r\nimport roundLabelImportant from '@iconify/icons-ic/round-label-important';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, Link, Tooltip, Typography, Stack, Checkbox } from '@material-ui/core';\r\n// redux\r\nimport { useSelector } from '../../../redux/store';\r\n// utils\r\nimport { fDate } from '../../../utils/formatTime';\r\nimport createAvatar from '../../../utils/createAvatar';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../../routes/paths';\r\n//\r\nimport { MAvatar, MHidden } from '../../@material-extend';\r\nimport Label from '../../Label';\r\nimport MailItemAction from './MailItemAction';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  position: 'relative',\r\n  padding: theme.spacing(0, 2),\r\n  color: theme.palette.text.secondary,\r\n  backgroundColor: theme.palette.background.neutral,\r\n  borderBottom: `1px solid ${theme.palette.divider}`,\r\n  [theme.breakpoints.up('md')]: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  '&:hover': {\r\n    zIndex: 999,\r\n    position: 'relative',\r\n    boxShadow: theme.customShadows.z24,\r\n    '& .showActions': { opacity: 1 }\r\n  }\r\n}));\r\n\r\nconst WrapStyle = styled(Link)(({ theme }) => ({\r\n  minWidth: 0,\r\n  display: 'flex',\r\n  padding: theme.spacing(2, 0),\r\n  transition: theme.transitions.create('padding')\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst linkTo = (params, mailId) => {\r\n  const { systemLabel, customLabel } = params;\r\n  const baseUrl = PATH_DASHBOARD.mail.root;\r\n\r\n  if (systemLabel) {\r\n    return `${baseUrl}/${systemLabel}/${mailId}`;\r\n  }\r\n  if (customLabel) {\r\n    return `${baseUrl}/label/${customLabel}/${mailId}`;\r\n  }\r\n  return baseUrl;\r\n};\r\n\r\nMailItem.propTypes = {\r\n  mail: PropTypes.object.isRequired,\r\n  isDense: PropTypes.bool,\r\n  isSelected: PropTypes.bool.isRequired,\r\n  onDeselect: PropTypes.func,\r\n  onSelect: PropTypes.func\r\n};\r\n\r\nexport default function MailItem({ mail, isDense, isSelected, onSelect, onDeselect, ...other }) {\r\n  const params = useParams();\r\n  const { labels } = useSelector((state) => state.mail);\r\n  const isAttached = mail.files.length > 0;\r\n\r\n  const handleChangeCheckbox = (event) => (event.target.checked ? onSelect() : onDeselect());\r\n\r\n  return (\r\n    <RootStyle\r\n      sx={{\r\n        ...(!mail.isUnread && {\r\n          color: 'text.primary',\r\n          backgroundColor: 'background.paper'\r\n        }),\r\n        ...(isSelected && { bgcolor: 'action.selected' })\r\n      }}\r\n      {...other}\r\n    >\r\n      <MHidden width=\"mdDown\">\r\n        <Stack direction=\"row\" sx={{ mr: 2 }}>\r\n          <Checkbox checked={isSelected} onChange={handleChangeCheckbox} />\r\n          <Tooltip title=\"Starred\">\r\n            <Checkbox\r\n              color=\"warning\"\r\n              defaultChecked={mail.isStarred}\r\n              icon={<Icon icon={starOutline} />}\r\n              checkedIcon={<Icon icon={starFill} />}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"Important\">\r\n            <Checkbox\r\n              color=\"warning\"\r\n              defaultChecked={mail.isImportant}\r\n              checkedIcon={<Icon icon={roundLabelImportant} />}\r\n              icon={<Icon icon={roundLabelImportant} />}\r\n            />\r\n          </Tooltip>\r\n        </Stack>\r\n      </MHidden>\r\n\r\n      <WrapStyle\r\n        color=\"inherit\"\r\n        underline=\"none\"\r\n        component={RouterLink}\r\n        to={linkTo(params, mail.id)}\r\n        sx={{ display: 'flex', ...(isDense && { py: 1 }) }}\r\n      >\r\n        <MAvatar\r\n          alt={mail.from.name}\r\n          src={mail.from.avatar}\r\n          color={createAvatar(mail.from.name).color}\r\n          sx={{ width: 32, height: 32 }}\r\n        >\r\n          {createAvatar(mail.from.name).name}\r\n        </MAvatar>\r\n\r\n        <Box\r\n          sx={{\r\n            ml: 2,\r\n            minWidth: 0,\r\n            alignItems: 'center',\r\n            display: { md: 'flex' }\r\n          }}\r\n        >\r\n          <Typography\r\n            variant=\"body2\"\r\n            noWrap\r\n            sx={{\r\n              pr: 2,\r\n              minWidth: 200,\r\n              ...(!mail.isUnread && { fontWeight: 'fontWeightBold' })\r\n            }}\r\n          >\r\n            {mail.from.name}\r\n          </Typography>\r\n\r\n          <Typography\r\n            noWrap\r\n            variant=\"body2\"\r\n            sx={{\r\n              pr: 2\r\n            }}\r\n          >\r\n            <Box component=\"span\" sx={{ ...(!mail.isUnread && { fontWeight: 'fontWeightBold' }) }}>\r\n              {mail.subject}\r\n            </Box>\r\n            &nbsp;-&nbsp;\r\n            <Box\r\n              component=\"span\"\r\n              sx={{\r\n                ...(!mail.isUnread && { color: 'text.secondary' })\r\n              }}\r\n            >\r\n              {mail.message}\r\n            </Box>\r\n          </Typography>\r\n\r\n          <MHidden width=\"mdDown\">\r\n            <Box sx={{ display: 'flex' }}>\r\n              {mail.labelIds.map((labelId) => {\r\n                const label = labels.find((_label) => _label.id === labelId);\r\n                if (!label) return null;\r\n                return (\r\n                  <Label\r\n                    key={label.id}\r\n                    sx={{\r\n                      mx: 0.5,\r\n                      textTransform: 'capitalize',\r\n                      bgcolor: label.color,\r\n                      color: (theme) => theme.palette.getContrastText(label.color)\r\n                    }}\r\n                  >\r\n                    {label.name}\r\n                  </Label>\r\n                );\r\n              })}\r\n            </Box>\r\n\r\n            {isAttached && (\r\n              <Box\r\n                component={Icon}\r\n                icon={linkFill}\r\n                sx={{\r\n                  mx: 2,\r\n                  width: 20,\r\n                  height: 20,\r\n                  flexShrink: 0\r\n                }}\r\n              />\r\n            )}\r\n          </MHidden>\r\n\r\n          <Typography\r\n            variant=\"caption\"\r\n            sx={{\r\n              flexShrink: 0,\r\n              minWidth: 120,\r\n              textAlign: 'right',\r\n              ...(!mail.isUnread && { fontWeight: 'fontWeightBold' })\r\n            }}\r\n          >\r\n            {fDate(mail.createdAt)}\r\n          </Typography>\r\n        </Box>\r\n      </WrapStyle>\r\n\r\n      <MailItemAction className=\"showActions\" />\r\n    </RootStyle>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}