{"ast":null,"code":"var _jsxFileName = \"E:\\\\projects\\\\localtalk.mobi(back)\\\\pro\\\\toptalk-adminpanel\\\\src\\\\components\\\\_dashboard\\\\chat\\\\ChatRoomAttachment.js\";\nimport PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport { uniq, flatten } from 'lodash';\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\nimport arrowIosDownwardFill from '@iconify/icons-eva/arrow-ios-downward-fill'; // material\n\nimport { styled } from '@material-ui/core/styles';\nimport { Box, Button, Divider, Collapse, Typography } from '@material-ui/core'; // utils\n\nimport { fDateTime } from '../../../utils/formatTime';\nimport { getFileFullName, getFileThumb } from '../../../utils/getFileFormat'; //\n\nimport Scrollbar from '../../Scrollbar'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RootStyle = styled('div')(({\n  theme\n}) => ({\n  flexGrow: 1,\n  height: '100%',\n  display: 'flex',\n  overflow: 'hidden',\n  flexDirection: 'column',\n  paddingBottom: theme.spacing(2)\n}));\nconst FileItemStyle = styled('div')(({\n  theme\n}) => ({\n  display: 'flex',\n  alignItems: 'center',\n  marginTop: theme.spacing(2),\n  padding: theme.spacing(0, 2.5)\n}));\nconst FileThumbStyle = styled('div')(({\n  theme\n}) => ({\n  width: 40,\n  height: 40,\n  flexShrink: 0,\n  display: 'flex',\n  overflow: 'hidden',\n  alignItems: 'center',\n  justifyContent: 'center',\n  color: theme.palette.text.secondary,\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: theme.palette.grey[50016]\n}));\nconst CollapseButtonStyle = styled(Button)(({\n  theme\n}) => ({ ...theme.typography.overline,\n  height: 40,\n  flexShrink: 0,\n  borderRadius: 0,\n  padding: theme.spacing(1, 2),\n  justifyContent: 'space-between',\n  color: theme.palette.text.disabled\n})); // ----------------------------------------------------------------------\n\nAttachmentItem.propTypes = {\n  file: PropTypes.object,\n  fileUrl: PropTypes.string\n};\n\nfunction AttachmentItem({\n  file,\n  fileUrl\n}) {\n  return /*#__PURE__*/_jsxDEV(FileItemStyle, {\n    children: [/*#__PURE__*/_jsxDEV(FileThumbStyle, {\n      children: getFileThumb(fileUrl)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        ml: 1.5,\n        maxWidth: 150\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        noWrap: true,\n        children: getFileFullName(fileUrl)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        noWrap: true,\n        variant: \"caption\",\n        sx: {\n          color: 'text.secondary',\n          display: 'block'\n        },\n        children: fDateTime(file.createdAt)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, fileUrl, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_c = AttachmentItem;\nChatRoomAttachment.propTypes = {\n  conversation: PropTypes.object.isRequired,\n  isCollapse: PropTypes.bool,\n  onCollapse: PropTypes.func\n};\nexport default function ChatRoomAttachment({\n  conversation,\n  isCollapse,\n  onCollapse,\n  ...other\n}) {\n  const totalAttachment = uniq(flatten(conversation.messages.map(item => item.attachments))).length;\n  return /*#__PURE__*/_jsxDEV(RootStyle, { ...other,\n    children: [/*#__PURE__*/_jsxDEV(CollapseButtonStyle, {\n      fullWidth: true,\n      color: \"inherit\",\n      onClick: onCollapse,\n      endIcon: /*#__PURE__*/_jsxDEV(Icon, {\n        icon: isCollapse ? arrowIosDownwardFill : arrowIosForwardFill,\n        width: 16,\n        height: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 18\n      }, this),\n      children: [\"attachment (\", totalAttachment, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), !isCollapse && /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(Scrollbar, {\n      children: /*#__PURE__*/_jsxDEV(Collapse, {\n        in: isCollapse,\n        children: conversation.messages.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: file.attachments.map(fileUrl => /*#__PURE__*/_jsxDEV(AttachmentItem, {\n            file: file,\n            fileUrl: fileUrl\n          }, fileUrl, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this))\n        }, file.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n_c2 = ChatRoomAttachment;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AttachmentItem\");\n$RefreshReg$(_c2, \"ChatRoomAttachment\");","map":{"version":3,"sources":["E:/projects/localtalk.mobi(back)/pro/toptalk-adminpanel/src/components/_dashboard/chat/ChatRoomAttachment.js"],"names":["PropTypes","Icon","uniq","flatten","arrowIosForwardFill","arrowIosDownwardFill","styled","Box","Button","Divider","Collapse","Typography","fDateTime","getFileFullName","getFileThumb","Scrollbar","RootStyle","theme","flexGrow","height","display","overflow","flexDirection","paddingBottom","spacing","FileItemStyle","alignItems","marginTop","padding","FileThumbStyle","width","flexShrink","justifyContent","color","palette","text","secondary","borderRadius","shape","backgroundColor","grey","CollapseButtonStyle","typography","overline","disabled","AttachmentItem","propTypes","file","object","fileUrl","string","ml","maxWidth","createdAt","ChatRoomAttachment","conversation","isRequired","isCollapse","bool","onCollapse","func","other","totalAttachment","messages","map","item","attachments","length","id"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { uniq, flatten } from 'lodash';\r\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\r\nimport arrowIosDownwardFill from '@iconify/icons-eva/arrow-ios-downward-fill';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, Button, Divider, Collapse, Typography } from '@material-ui/core';\r\n// utils\r\nimport { fDateTime } from '../../../utils/formatTime';\r\nimport { getFileFullName, getFileThumb } from '../../../utils/getFileFormat';\r\n//\r\nimport Scrollbar from '../../Scrollbar';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  flexGrow: 1,\r\n  height: '100%',\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  flexDirection: 'column',\r\n  paddingBottom: theme.spacing(2)\r\n}));\r\n\r\nconst FileItemStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  marginTop: theme.spacing(2),\r\n  padding: theme.spacing(0, 2.5)\r\n}));\r\n\r\nconst FileThumbStyle = styled('div')(({ theme }) => ({\r\n  width: 40,\r\n  height: 40,\r\n  flexShrink: 0,\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  color: theme.palette.text.secondary,\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.grey[500_16]\r\n}));\r\n\r\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\r\n  ...theme.typography.overline,\r\n  height: 40,\r\n  flexShrink: 0,\r\n  borderRadius: 0,\r\n  padding: theme.spacing(1, 2),\r\n  justifyContent: 'space-between',\r\n  color: theme.palette.text.disabled\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nAttachmentItem.propTypes = {\r\n  file: PropTypes.object,\r\n  fileUrl: PropTypes.string\r\n};\r\n\r\nfunction AttachmentItem({ file, fileUrl }) {\r\n  return (\r\n    <FileItemStyle key={fileUrl}>\r\n      <FileThumbStyle>{getFileThumb(fileUrl)}</FileThumbStyle>\r\n      <Box sx={{ ml: 1.5, maxWidth: 150 }}>\r\n        <Typography variant=\"body2\" noWrap>\r\n          {getFileFullName(fileUrl)}\r\n        </Typography>\r\n        <Typography noWrap variant=\"caption\" sx={{ color: 'text.secondary', display: 'block' }}>\r\n          {fDateTime(file.createdAt)}\r\n        </Typography>\r\n      </Box>\r\n    </FileItemStyle>\r\n  );\r\n}\r\n\r\nChatRoomAttachment.propTypes = {\r\n  conversation: PropTypes.object.isRequired,\r\n  isCollapse: PropTypes.bool,\r\n  onCollapse: PropTypes.func\r\n};\r\n\r\nexport default function ChatRoomAttachment({ conversation, isCollapse, onCollapse, ...other }) {\r\n  const totalAttachment = uniq(flatten(conversation.messages.map((item) => item.attachments))).length;\r\n\r\n  return (\r\n    <RootStyle {...other}>\r\n      <CollapseButtonStyle\r\n        fullWidth\r\n        color=\"inherit\"\r\n        onClick={onCollapse}\r\n        endIcon={<Icon icon={isCollapse ? arrowIosDownwardFill : arrowIosForwardFill} width={16} height={16} />}\r\n      >\r\n        attachment ({totalAttachment})\r\n      </CollapseButtonStyle>\r\n\r\n      {!isCollapse && <Divider />}\r\n\r\n      <Scrollbar>\r\n        <Collapse in={isCollapse}>\r\n          {conversation.messages.map((file) => (\r\n            <div key={file.id}>\r\n              {file.attachments.map((fileUrl) => (\r\n                <AttachmentItem key={fileUrl} file={file} fileUrl={fileUrl} />\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </Collapse>\r\n      </Scrollbar>\r\n    </RootStyle>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}