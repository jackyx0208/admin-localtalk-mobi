{"ast":null,"code":"var _jsxFileName = \"E:\\\\projects\\\\localtalk.mobi\\\\mobilechat-adminpanel\\\\src\\\\components\\\\_dashboard\\\\privatechat\\\\ChatConversationItem.js\";\nimport { last } from 'lodash';\nimport PropTypes from 'prop-types';\nimport { formatDistanceToNowStrict } from 'date-fns'; // material\n\nimport { styled } from '@material-ui/core/styles';\nimport { Box, Avatar, ListItemText, ListItemAvatar, ListItemButton, Badge } from '@material-ui/core'; //\n\nimport BadgeStatus from '../../BadgeStatus';\nimport { serverConfig } from '../../../config'; // hooks\n\nimport useAuth from '../../../hooks/useAuth'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AVATAR_SIZE = 48;\nconst AVATAR_SIZE_GROUP = 32;\nconst RootStyle = styled(ListItemButton)(({\n  theme\n}) => ({\n  padding: theme.spacing(1.5, 3),\n  transition: theme.transitions.create('all')\n}));\nconst AvatarWrapperStyle = styled('div')({\n  position: 'relative',\n  width: AVATAR_SIZE,\n  height: AVATAR_SIZE,\n  '& .MuiAvatar-img': {\n    borderRadius: '50%'\n  },\n  '& .MuiAvatar-root': {\n    width: '100%',\n    height: '100%'\n  }\n}); // ----------------------------------------------------------------------\n\nconst getDetails = (conversation, currentUserId) => {\n  const otherParticipants = conversation.participants.filter(participant => participant.id !== currentUserId);\n  const displayNames = otherParticipants.reduce((names, participant) => [...names, participant.name], []).join(', ');\n  let displayText = '';\n  const lastMessage = conversation.messages[conversation.messages.length - 1];\n\n  if (lastMessage) {\n    const sender = lastMessage.senderId === currentUserId ? 'You: ' : '';\n    const message = lastMessage.contentType === 'image' ? 'Sent a photo' : lastMessage.body;\n    displayText = `${sender}${message}`;\n  }\n\n  return {\n    otherParticipants,\n    displayNames,\n    displayText\n  };\n};\n\nChatConversationItem.propTypes = {\n  isSelected: PropTypes.bool,\n  opponent: PropTypes.object,\n  // conversation: PropTypes.object.isRequired,\n  isOpenSidebar: PropTypes.bool,\n  onSelectConversation: PropTypes.func\n};\nexport default function ChatConversationItem({\n  isSelected,\n  opponent,\n  conversation,\n  onSelectConversation,\n  isOpenSidebar,\n  ...other\n}) {\n  const {\n    user\n  } = useAuth(); // const displayLastActivity = last(conversation.messages).createdAt;\n\n  const displayLastActivity = opponent.created; // const isGroup = details.otherParticipants.length > 1;\n\n  const isGroup = false; // const isOnlineGroup = isGroup && details.otherParticipants.map((item) => item.status).includes('online');\n\n  const avatarImgSrc = `${serverConfig.baseUrl}/user/img-src/${opponent.avatarUrl}`;\n  const opponentStatus = opponent.online ? 'online' : 'offline';\n  const unreadCount = conversation && (conversation.lastMessage.users_see_message.indexOf(user._id) > -1 ? 0 : conversation.lastMessage.unread_count) || 0;\n  const isUnread = unreadCount > 0;\n  return /*#__PURE__*/_jsxDEV(RootStyle, {\n    disableGutters: true,\n    onClick: onSelectConversation,\n    sx: { ...(isSelected && {\n        bgcolor: 'action.selected'\n      })\n    },\n    ...other,\n    children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: { ...(isGroup && {\n            position: 'relative',\n            width: AVATAR_SIZE,\n            height: AVATAR_SIZE,\n            '& .avatarWrapper': {\n              position: 'absolute',\n              width: AVATAR_SIZE_GROUP,\n              height: AVATAR_SIZE_GROUP,\n              '&:nth-of-type(1)': {\n                left: 0,\n                zIndex: 9,\n                bottom: 2,\n                '& .MuiAvatar-root': {\n                  border: theme => `solid 2px ${theme.palette.background.paper}`\n                }\n              },\n              '&:nth-of-type(2)': {\n                top: 2,\n                right: 0\n              }\n            }\n          })\n        },\n        children: /*#__PURE__*/_jsxDEV(AvatarWrapperStyle, {\n          className: \"avatarWrapper\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            alt: opponent.name,\n            src: avatarImgSrc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BadgeStatus, {\n            status: opponentStatus,\n            sx: {\n              right: 2,\n              bottom: 2,\n              position: 'absolute'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, opponent._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), isOpenSidebar && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: opponent.name,\n        primaryTypographyProps: {\n          noWrap: true,\n          variant: 'subtitle2'\n        },\n        secondary: conversation && conversation.lastMessage.message,\n        secondaryTypographyProps: {\n          noWrap: true,\n          variant: isUnread ? 'subtitle2' : 'body2',\n          color: isUnread ? 'textPrimary' : 'textSecondary'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          ml: 2,\n          height: 44,\n          display: 'flex',\n          alignItems: 'flex-end',\n          flexDirection: 'column'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 1.25,\n            fontSize: 12,\n            lineHeight: '22px',\n            whiteSpace: 'nowrap',\n            color: 'text.disabled'\n          },\n          children: formatDistanceToNowStrict(new Date(displayLastActivity), {\n            addSuffix: false\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), isUnread && /*#__PURE__*/_jsxDEV(Badge, {\n          color: \"secondary\",\n          badgeContent: unreadCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/privatechat/ChatConversationItem.js"],"names":["last","PropTypes","formatDistanceToNowStrict","styled","Box","Avatar","ListItemText","ListItemAvatar","ListItemButton","Badge","BadgeStatus","serverConfig","useAuth","AVATAR_SIZE","AVATAR_SIZE_GROUP","RootStyle","theme","padding","spacing","transition","transitions","create","AvatarWrapperStyle","position","width","height","borderRadius","getDetails","conversation","currentUserId","otherParticipants","participants","filter","participant","id","displayNames","reduce","names","name","join","displayText","lastMessage","messages","length","sender","senderId","message","contentType","body","ChatConversationItem","propTypes","isSelected","bool","opponent","object","isOpenSidebar","onSelectConversation","func","other","user","displayLastActivity","created","isGroup","avatarImgSrc","baseUrl","avatarUrl","opponentStatus","online","unreadCount","users_see_message","indexOf","_id","unread_count","isUnread","bgcolor","left","zIndex","bottom","border","palette","background","paper","top","right","noWrap","variant","color","ml","display","alignItems","flexDirection","mb","fontSize","lineHeight","whiteSpace","Date","addSuffix"],"mappings":"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","sourcesContent":["import { last } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport { formatDistanceToNowStrict } from 'date-fns';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, Avatar, ListItemText, ListItemAvatar, ListItemButton, Badge } from '@material-ui/core';\r\n//\r\nimport BadgeStatus from '../../BadgeStatus';\r\nimport { serverConfig } from '../../../config';\r\n// hooks\r\nimport useAuth from '../../../hooks/useAuth';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst AVATAR_SIZE = 48;\r\nconst AVATAR_SIZE_GROUP = 32;\r\n\r\nconst RootStyle = styled(ListItemButton)(({ theme }) => ({\r\n  padding: theme.spacing(1.5, 3),\r\n  transition: theme.transitions.create('all')\r\n}));\r\n\r\nconst AvatarWrapperStyle = styled('div')({\r\n  position: 'relative',\r\n  width: AVATAR_SIZE,\r\n  height: AVATAR_SIZE,\r\n  '& .MuiAvatar-img': { borderRadius: '50%' },\r\n  '& .MuiAvatar-root': { width: '100%', height: '100%' }\r\n});\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst getDetails = (conversation, currentUserId) => {\r\n  const otherParticipants = conversation.participants.filter((participant) => participant.id !== currentUserId);\r\n  const displayNames = otherParticipants.reduce((names, participant) => [...names, participant.name], []).join(', ');\r\n  let displayText = '';\r\n  const lastMessage = conversation.messages[conversation.messages.length - 1];\r\n  if (lastMessage) {\r\n    const sender = lastMessage.senderId === currentUserId ? 'You: ' : '';\r\n    const message = lastMessage.contentType === 'image' ? 'Sent a photo' : lastMessage.body;\r\n    displayText = `${sender}${message}`;\r\n  }\r\n  return { otherParticipants, displayNames, displayText };\r\n};\r\n\r\nChatConversationItem.propTypes = {\r\n  isSelected: PropTypes.bool,\r\n  opponent: PropTypes.object,\r\n  // conversation: PropTypes.object.isRequired,\r\n  isOpenSidebar: PropTypes.bool,\r\n  onSelectConversation: PropTypes.func\r\n};\r\n\r\nexport default function ChatConversationItem({\r\n  isSelected,\r\n  opponent,\r\n  conversation,\r\n  onSelectConversation,\r\n  isOpenSidebar,\r\n  ...other\r\n}) {\r\n  const { user } = useAuth();\r\n  // const displayLastActivity = last(conversation.messages).createdAt;\r\n  const displayLastActivity = opponent.created;\r\n  // const isGroup = details.otherParticipants.length > 1;\r\n  const isGroup = false;\r\n  // const isOnlineGroup = isGroup && details.otherParticipants.map((item) => item.status).includes('online');\r\n  const avatarImgSrc = `${serverConfig.baseUrl}/user/img-src/${opponent.avatarUrl}`;\r\n  const opponentStatus = opponent.online ? 'online' : 'offline';\r\n\r\n  const unreadCount =\r\n    (conversation &&\r\n      (conversation.lastMessage.users_see_message.indexOf(user._id) > -1\r\n        ? 0\r\n        : conversation.lastMessage.unread_count)) ||\r\n    0;\r\n  const isUnread = unreadCount > 0;\r\n\r\n  return (\r\n    <RootStyle\r\n      disableGutters\r\n      onClick={onSelectConversation}\r\n      sx={{\r\n        ...(isSelected && { bgcolor: 'action.selected' })\r\n      }}\r\n      {...other}\r\n    >\r\n      <ListItemAvatar>\r\n        <Box\r\n          sx={{\r\n            ...(isGroup && {\r\n              position: 'relative',\r\n              width: AVATAR_SIZE,\r\n              height: AVATAR_SIZE,\r\n              '& .avatarWrapper': {\r\n                position: 'absolute',\r\n                width: AVATAR_SIZE_GROUP,\r\n                height: AVATAR_SIZE_GROUP,\r\n                '&:nth-of-type(1)': {\r\n                  left: 0,\r\n                  zIndex: 9,\r\n                  bottom: 2,\r\n                  '& .MuiAvatar-root': {\r\n                    border: (theme) => `solid 2px ${theme.palette.background.paper}`\r\n                  }\r\n                },\r\n                '&:nth-of-type(2)': { top: 2, right: 0 }\r\n              }\r\n            })\r\n          }}\r\n        >\r\n          {/* {details.otherParticipants.slice(0, 2).map((participant) => ( */}\r\n          <AvatarWrapperStyle className=\"avatarWrapper\" key={opponent._id}>\r\n            <Avatar alt={opponent.name} src={avatarImgSrc} />\r\n            <BadgeStatus status={opponentStatus} sx={{ right: 2, bottom: 2, position: 'absolute' }} />\r\n          </AvatarWrapperStyle>\r\n          {/* ))} */}\r\n          {/* {opponent.online && <BadgeStatus status=\"online\" sx={{ right: 2, bottom: 2, position: 'absolute' }} />} */}\r\n        </Box>\r\n      </ListItemAvatar>\r\n\r\n      {isOpenSidebar && (\r\n        <>\r\n          <ListItemText\r\n            primary={opponent.name}\r\n            primaryTypographyProps={{\r\n              noWrap: true,\r\n              variant: 'subtitle2'\r\n            }}\r\n            secondary={conversation && conversation.lastMessage.message}\r\n            secondaryTypographyProps={{\r\n              noWrap: true,\r\n              variant: isUnread ? 'subtitle2' : 'body2',\r\n              color: isUnread ? 'textPrimary' : 'textSecondary'\r\n            }}\r\n          />\r\n\r\n          <Box\r\n            sx={{\r\n              ml: 2,\r\n              height: 44,\r\n              display: 'flex',\r\n              alignItems: 'flex-end',\r\n              flexDirection: 'column'\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                mb: 1.25,\r\n                fontSize: 12,\r\n                lineHeight: '22px',\r\n                whiteSpace: 'nowrap',\r\n                color: 'text.disabled'\r\n              }}\r\n            >\r\n              {formatDistanceToNowStrict(new Date(displayLastActivity), {\r\n                addSuffix: false\r\n              })}\r\n            </Box>\r\n            {/* {isUnread && <BadgeStatus status=\"unread\" size=\"small\" />} */}\r\n            {isUnread && <Badge color=\"secondary\" badgeContent={unreadCount} />}\r\n          </Box>\r\n        </>\r\n      )}\r\n    </RootStyle>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}