{"ast":null,"code":"import _objectSpread from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useRef,useState}from'react';import*as Yup from'yup';import{Icon}from'@iconify/react';import{useSnackbar}from'notistack5';import{useNavigate}from'react-router-dom';import{Form,FormikProvider,useFormik}from'formik';// material\nimport{LoadingButton}from'@material-ui/lab';import{Box,Card,Grid,Stack,Typography,TextareaAutosize,TextField,IconButton,Radio,RadioGroup,FormControlLabel,styled,ImageList,ImageListItem,ImageListItemBar}from'@material-ui/core';import CloseIcon from'@material-ui/icons/Close';import HighlightOffIcon from'@material-ui/icons/HighlightOff';import CancelIcon from'@material-ui/icons/Cancel';import roundAddPhotoAlternate from'@iconify/icons-ic/round-add-photo-alternate';// utils\nimport axios from'../../../utils/axios';import fakeRequest from'../../../utils/fakeRequest';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AnnouncementPostForm(){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var fileInputRef=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),imageFiles=_useState2[0],setImageFiles=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),uploadImgs=_useState4[0],setUploadImgs=_useState4[1];var handleAttach=function handleAttach(){if(imageFiles.length===9){enqueueSnackbar('Uploaded pictures (max. 9) from hard-disk.',{variant:'info'});return;}fileInputRef.current.click();};var handleImageUpload=function handleImageUpload(e){// console.log(e.target.files);\nvar fileObj=[];var fileArray=[];if(imageFiles.length>0){fileArray=imageFiles.map(function(file){return file;});}var formData=uploadImgs||new FormData();fileObj.push(e.target.files);var startIndex=imageFiles.length>0&&imageFiles[imageFiles.length-1].index+1||0;for(var i=0,index=startIndex;i<fileObj[0].length&&fileArray.length<9;i+=1,index+=1){var file=fileObj[0][i];formData.append(\"img[\".concat(index,\"]\"),file,file.name);fileArray.push({index:index,name:file.name,url:URL.createObjectURL(file)});}console.log(fileArray,formData);setImageFiles(fileArray);setUploadImgs(formData);};var handleCloseImage=function handleCloseImage(index){var filterFiles=imageFiles.filter(function(file){return file.index!==index;});var formData=uploadImgs;formData.delete(\"img[\".concat(index,\"]\"));setImageFiles(filterFiles);setUploadImgs(formData);};var MessageImgStyle=styled('img')(function(_ref){var theme=_ref.theme;return{height:80,minWidth:80,width:'auto',cursor:'pointer',objectFit:'cover',borderRadius:theme.shape.borderRadius};});var itemValidation=Yup.object().shape({message:Yup.string().required('This field is required'),position:Yup.string().required('This field is required'),coverage:Yup.string().required('This field is required')});var formik=useFormik({enableReinitialize:true,initialValues:{message:'',posted_at:'public',publisher:'admin',position:'',coverage:150},validationSchema:itemValidation,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref2){var setSubmitting,resetForm,setErrors,imgs,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitting=_ref2.setSubmitting,resetForm=_ref2.resetForm,setErrors=_ref2.setErrors;_context.prev=1;_context.next=4;return fakeRequest(500);case 4:imgs=[];if(!uploadImgs){_context.next=12;break;}_context.next=8;return axios.post('/roomMessages/upload_multi_imgs',uploadImgs);case 8:res=_context.sent;imgs=res.data.data;setImageFiles([]);setUploadImgs(null);case 12:values.imgs=imgs;_context.next=15;return axios.post('/roomMessages/announcement',values);case 15:resetForm();setSubmitting(false);enqueueSnackbar('Posted announcement successfully',{variant:'success'});_context.next=26;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setSubmitting(false);enqueueSnackbar(\"Error occured: \".concat(_context.t0.message),{variant:'error'});setErrors(_context.t0);case 26:case\"end\":return _context.stop();}}},_callee,null,[[1,20]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var errors=formik.errors,values=formik.values,touched=formik.touched,handleSubmit=formik.handleSubmit,isSubmitting=formik.isSubmitting,setFieldValue=formik.setFieldValue,getFieldProps=formik.getFieldProps;// console.log(values);\nconsole.log(imageFiles);return/*#__PURE__*/_jsxs(FormikProvider,{value:formik,children:[/*#__PURE__*/_jsx(Form,{noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsx(Card,{sx:{p:3},children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:/*#__PURE__*/_jsx(TextareaAutosize,_objectSpread(_objectSpread({},getFieldProps('message')),{},{maxRows:20,minRows:6,\"aria-label\":\"Post Public Announcement\",placeholder:\"text input(max. 2000 words)\",style:{width:'100%',padding:'10px'}// inputProps={{ maxLength: 2000 }}\n// error={Boolean(touched.message && errors.message)}\n// helperText={touched.message && errors.message}\n}))}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:3},children:\"Add pictures (max. 9) from hard-disk.\"}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:handleAttach,children:/*#__PURE__*/_jsx(Icon,{icon:roundAddPhotoAlternate,width:24,height:24})})]}),imageFiles.length>0&&/*#__PURE__*/_jsx(Stack,{direction:{xs:'column',sm:'row'},sx:{mt:1,mb:1},spacing:{xs:3,sm:2},children:imageFiles.map(function(img){return/*#__PURE__*/ (// <MessageImgStyle key={`${img.index}`} alt=\"attachment\" src={`${img.url}`} />\n_jsxs(ImageListItem,{children:[/*#__PURE__*/_jsx(MessageImgStyle,{alt:\"attachment\",src:\"\".concat(img.url)},\"\".concat(img.index)),/*#__PURE__*/_jsx(ImageListItemBar,{sx:{background:'transparent'}// title={item.title}\n,position:\"top\",actionIcon:/*#__PURE__*/_jsx(IconButton,{sx:{color:'#115293',backgroundColor:'white'},\"aria-label\":\"close\",onClick:function onClick(e){return handleCloseImage(img.index);},size:\"small\",style:{position:'absolute',top:'-15px',right:'-15px'},children:/*#__PURE__*/_jsx(CancelIcon,{width:15,height:15})}),actionPosition:\"right\"})]},\"\".concat(img.index)));})}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:10,sm:8},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:\"div\",style:{lineHeight:2},children:\"Post at\"}),/*#__PURE__*/_jsxs(RadioGroup,_objectSpread(_objectSpread({},getFieldProps('posted_at')),{},{\"aria-label\":\"Posted at\"// error={Boolean(touched.posted_at && errors.posted_at)}\n// helperText={touched.posted_at && errors.posted_at}\n,children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"public\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Public chat room\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"top\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Top column\"})]}))]}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:8,sm:5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:\"div\",style:{lineHeight:2},children:\"Publisher\"}),/*#__PURE__*/_jsxs(RadioGroup,_objectSpread(_objectSpread({},getFieldProps('publisher')),{},{\"aria-label\":\"Publisher\"// error={Boolean(touched.publisher && errors.publisher)}\n// helperText={touched.publisher && errors.publisher}\n,children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"admin\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"App administrator (default)\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"user\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"User email\"})]}))]}),values.publisher==='user'&&/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:18,sm:15},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"\\xA0\"}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},getFieldProps('poster_email')),{},{variant:\"standard\",style:{width:200}// error={Boolean(touched.poster_email && errors.poster_email)}\n// helperText={touched.poster_email && errors.poster_email}\n})),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"(announcement post by user's name/avatar)\"})]})]}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:\"div\",style:{lineHeight:2},children:\"Range Setting\"}),/*#__PURE__*/_jsxs(Stack,{spacing:1,children:[/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"Center (longitude, latitude)\"}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},getFieldProps('position')),{},{variant:\"standard\",style:{width:300},error:Boolean(touched.position&&errors.position),helperText:touched.position&&errors.position}))]}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"Cover people\"}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},getFieldProps('coverage')),{},{variant:\"standard\",style:{width:200},error:Boolean(touched.coverage&&errors.coverage),helperText:touched.coverage&&errors.coverage})),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"person\\uFF08 between 0 ~ 1 million )\"})]})]})]}),/*#__PURE__*/_jsx(Box,{sx:{mt:10,display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(LoadingButton,{type:\"submit\",variant:\"contained\",loading:isSubmitting,children:\"SEND MESSAGE\"})})]})})})})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,ref:fileInputRef,accept:\"image/*\",style:{display:'none'},onChange:handleImageUpload})]});}","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/announcement/PostForm.js"],"names":["useRef","useState","Yup","Icon","useSnackbar","useNavigate","Form","FormikProvider","useFormik","LoadingButton","Box","Card","Grid","Stack","Typography","TextareaAutosize","TextField","IconButton","Radio","RadioGroup","FormControlLabel","styled","ImageList","ImageListItem","ImageListItemBar","CloseIcon","HighlightOffIcon","CancelIcon","roundAddPhotoAlternate","axios","fakeRequest","AnnouncementPostForm","enqueueSnackbar","fileInputRef","imageFiles","setImageFiles","uploadImgs","setUploadImgs","handleAttach","length","variant","current","click","handleImageUpload","e","fileObj","fileArray","map","file","formData","FormData","push","target","files","startIndex","index","i","append","name","url","URL","createObjectURL","console","log","handleCloseImage","filterFiles","filter","delete","MessageImgStyle","theme","height","minWidth","width","cursor","objectFit","borderRadius","shape","itemValidation","object","message","string","required","position","coverage","formik","enableReinitialize","initialValues","posted_at","publisher","validationSchema","onSubmit","values","setSubmitting","resetForm","setErrors","imgs","post","res","data","error","errors","touched","handleSubmit","isSubmitting","setFieldValue","getFieldProps","p","xs","sm","padding","lineHeight","mt","mb","img","background","color","backgroundColor","top","right","Boolean","display","justifyContent"],"mappings":"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","sourcesContent":["import { useRef, useState } from 'react';\r\nimport * as Yup from 'yup';\r\nimport PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { useSnackbar } from 'notistack5';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Form, FormikProvider, useFormik } from 'formik';\r\n// material\r\nimport { LoadingButton } from '@material-ui/lab';\r\nimport {\r\n  Box,\r\n  Card,\r\n  Grid,\r\n  Stack,\r\n  Typography,\r\n  TextareaAutosize,\r\n  TextField,\r\n  IconButton,\r\n  Radio,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  styled,\r\n  ImageList,\r\n  ImageListItem,\r\n  ImageListItemBar\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport roundAddPhotoAlternate from '@iconify/icons-ic/round-add-photo-alternate';\r\n// utils\r\nimport axios from '../../../utils/axios';\r\nimport fakeRequest from '../../../utils/fakeRequest';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function AnnouncementPostForm() {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const fileInputRef = useRef(null);\r\n  const [imageFiles, setImageFiles] = useState([]);\r\n  const [uploadImgs, setUploadImgs] = useState(null);\r\n\r\n  const handleAttach = () => {\r\n    if (imageFiles.length === 9) {\r\n      enqueueSnackbar('Uploaded pictures (max. 9) from hard-disk.', { variant: 'info' });\r\n      return;\r\n    }\r\n    fileInputRef.current.click();\r\n  };\r\n\r\n  const handleImageUpload = (e) => {\r\n    // console.log(e.target.files);\r\n    const fileObj = [];\r\n    let fileArray = [];\r\n    if (imageFiles.length > 0) {\r\n      fileArray = imageFiles.map((file) => file);\r\n    }\r\n    const formData = uploadImgs || new FormData();\r\n    fileObj.push(e.target.files);\r\n    const startIndex = (imageFiles.length > 0 && imageFiles[imageFiles.length - 1].index + 1) || 0;\r\n    for (let i = 0, index = startIndex; i < fileObj[0].length && fileArray.length < 9; i += 1, index += 1) {\r\n      const file = fileObj[0][i];\r\n      formData.append(`img[${index}]`, file, file.name);\r\n      fileArray.push({ index, name: file.name, url: URL.createObjectURL(file) });\r\n    }\r\n    console.log(fileArray, formData);\r\n    setImageFiles(fileArray);\r\n    setUploadImgs(formData);\r\n  };\r\n\r\n  const handleCloseImage = (index) => {\r\n    const filterFiles = imageFiles.filter((file) => file.index !== index);\r\n    const formData = uploadImgs;\r\n    formData.delete(`img[${index}]`);\r\n    setImageFiles(filterFiles);\r\n    setUploadImgs(formData);\r\n  };\r\n\r\n  const MessageImgStyle = styled('img')(({ theme }) => ({\r\n    height: 80,\r\n    minWidth: 80,\r\n    width: 'auto',\r\n    cursor: 'pointer',\r\n    objectFit: 'cover',\r\n    borderRadius: theme.shape.borderRadius\r\n  }));\r\n\r\n  const itemValidation = Yup.object().shape({\r\n    message: Yup.string().required('This field is required'),\r\n    position: Yup.string().required('This field is required'),\r\n    coverage: Yup.string().required('This field is required')\r\n  });\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      message: '',\r\n      posted_at: 'public',\r\n      publisher: 'admin',\r\n      position: '',\r\n      coverage: 150\r\n    },\r\n    validationSchema: itemValidation,\r\n    onSubmit: async (values, { setSubmitting, resetForm, setErrors }) => {\r\n      try {\r\n        await fakeRequest(500);\r\n\r\n        let imgs = [];\r\n\r\n        if (uploadImgs) {\r\n          const res = await axios.post('/roomMessages/upload_multi_imgs', uploadImgs);\r\n          imgs = res.data.data;\r\n          setImageFiles([]);\r\n          setUploadImgs(null);\r\n        }\r\n\r\n        values.imgs = imgs;\r\n        await axios.post('/roomMessages/announcement', values);\r\n\r\n        resetForm();\r\n        setSubmitting(false);\r\n        enqueueSnackbar('Posted announcement successfully', { variant: 'success' });\r\n      } catch (error) {\r\n        console.error(error);\r\n        setSubmitting(false);\r\n        enqueueSnackbar(`Error occured: ${error.message}`, { variant: 'error' });\r\n        setErrors(error);\r\n      }\r\n    }\r\n  });\r\n\r\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\r\n  // console.log(values);\r\n\r\n  console.log(imageFiles);\r\n\r\n  return (\r\n    <FormikProvider value={formik}>\r\n      <Form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} md={12}>\r\n            <Card sx={{ p: 3 }}>\r\n              <Stack spacing={2}>\r\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextareaAutosize\r\n                    {...getFieldProps('message')}\r\n                    maxRows={20}\r\n                    minRows={6}\r\n                    aria-label=\"Post Public Announcement\"\r\n                    placeholder=\"text input(max. 2000 words)\"\r\n                    style={{ width: '100%', padding: '10px' }}\r\n                    // inputProps={{ maxLength: 2000 }}\r\n                    // error={Boolean(touched.message && errors.message)}\r\n                    // helperText={touched.message && errors.message}\r\n                  />\r\n                </Stack>\r\n\r\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 3 }}>\r\n                    Add pictures (max. 9) from hard-disk.\r\n                  </Typography>\r\n                  <IconButton size=\"small\" onClick={handleAttach}>\r\n                    <Icon icon={roundAddPhotoAlternate} width={24} height={24} />\r\n                  </IconButton>\r\n                </Stack>\r\n\r\n                {imageFiles.length > 0 && (\r\n                  <Stack direction={{ xs: 'column', sm: 'row' }} sx={{ mt: 1, mb: 1 }} spacing={{ xs: 3, sm: 2 }}>\r\n                    {/* <ImageList sx={{ width: '100%', height: 50 }} cols={10} rowHeight={164}> */}\r\n                    {imageFiles.map((img) => (\r\n                      // <MessageImgStyle key={`${img.index}`} alt=\"attachment\" src={`${img.url}`} />\r\n                      <ImageListItem key={`${img.index}`}>\r\n                        <MessageImgStyle key={`${img.index}`} alt=\"attachment\" src={`${img.url}`} />\r\n                        <ImageListItemBar\r\n                          sx={{ background: 'transparent' }}\r\n                          // title={item.title}\r\n                          position=\"top\"\r\n                          actionIcon={\r\n                            <IconButton\r\n                              sx={{ color: '#115293', backgroundColor: 'white' }}\r\n                              aria-label=\"close\"\r\n                              onClick={(e) => handleCloseImage(img.index)}\r\n                              size=\"small\"\r\n                              style={{ position: 'absolute', top: '-15px', right: '-15px' }}\r\n                            >\r\n                              <CancelIcon width={15} height={15} />\r\n                            </IconButton>\r\n                          }\r\n                          actionPosition=\"right\"\r\n                        />\r\n                      </ImageListItem>\r\n                    ))}\r\n                    {/* </ImageList> */}\r\n                  </Stack>\r\n                )}\r\n\r\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 10, sm: 8 }}>\r\n                  <Typography variant=\"subtitle1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                    Post at\r\n                  </Typography>\r\n                  <RadioGroup\r\n                    {...getFieldProps('posted_at')}\r\n                    aria-label=\"Posted at\"\r\n                    // error={Boolean(touched.posted_at && errors.posted_at)}\r\n                    // helperText={touched.posted_at && errors.posted_at}\r\n                  >\r\n                    <FormControlLabel value=\"public\" control={<Radio />} label=\"Public chat room\" />\r\n                    <FormControlLabel value=\"top\" control={<Radio />} label=\"Top column\" />\r\n                  </RadioGroup>\r\n                </Stack>\r\n\r\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 8, sm: 5 }}>\r\n                  <Typography variant=\"subtitle1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                    Publisher\r\n                  </Typography>\r\n                  <RadioGroup\r\n                    {...getFieldProps('publisher')}\r\n                    aria-label=\"Publisher\"\r\n                    // error={Boolean(touched.publisher && errors.publisher)}\r\n                    // helperText={touched.publisher && errors.publisher}\r\n                  >\r\n                    <FormControlLabel value=\"admin\" control={<Radio />} label=\"App administrator (default)\" />\r\n                    <FormControlLabel value=\"user\" control={<Radio />} label=\"User email\" />\r\n                  </RadioGroup>\r\n                </Stack>\r\n\r\n                {values.publisher === 'user' && (\r\n                  <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 18, sm: 15 }}>\r\n                    <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                      &nbsp;\r\n                    </Typography>\r\n                    <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                      <TextField\r\n                        {...getFieldProps('poster_email')}\r\n                        variant=\"standard\"\r\n                        style={{ width: 200 }}\r\n                        // error={Boolean(touched.poster_email && errors.poster_email)}\r\n                        // helperText={touched.poster_email && errors.poster_email}\r\n                      />\r\n                      <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                        (announcement post by user's name/avatar)\r\n                      </Typography>\r\n                    </Stack>\r\n                  </Stack>\r\n                )}\r\n\r\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <Typography variant=\"subtitle1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                    Range Setting\r\n                  </Typography>\r\n                  <Stack spacing={1}>\r\n                    <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                      <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                        Center (longitude, latitude)\r\n                      </Typography>\r\n                      <TextField\r\n                        {...getFieldProps('position')}\r\n                        variant=\"standard\"\r\n                        style={{ width: 300 }}\r\n                        error={Boolean(touched.position && errors.position)}\r\n                        helperText={touched.position && errors.position}\r\n                      />\r\n                    </Stack>\r\n                    <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                      <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                        Cover people\r\n                      </Typography>\r\n                      <TextField\r\n                        {...getFieldProps('coverage')}\r\n                        variant=\"standard\"\r\n                        style={{ width: 200 }}\r\n                        error={Boolean(touched.coverage && errors.coverage)}\r\n                        helperText={touched.coverage && errors.coverage}\r\n                      />\r\n                      <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                        person（ between 0 ~ 1 million )\r\n                      </Typography>\r\n                    </Stack>\r\n                  </Stack>\r\n                </Stack>\r\n\r\n                <Box sx={{ mt: 10, display: 'flex', justifyContent: 'center' }}>\r\n                  <LoadingButton type=\"submit\" variant=\"contained\" loading={isSubmitting}>\r\n                    SEND MESSAGE\r\n                  </LoadingButton>\r\n                </Box>\r\n              </Stack>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Form>\r\n      <input\r\n        type=\"file\"\r\n        multiple\r\n        ref={fileInputRef}\r\n        accept=\"image/*\"\r\n        style={{ display: 'none' }}\r\n        onChange={handleImageUpload}\r\n      />\r\n    </FormikProvider>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}