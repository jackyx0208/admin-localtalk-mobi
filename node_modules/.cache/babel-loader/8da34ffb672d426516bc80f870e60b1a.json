{"ast":null,"code":"import _regeneratorRuntime from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import*as Yup from'yup';import{useFormik}from'formik';import{useState}from'react';import{useSnackbar}from'notistack5';// material\nimport{Box,Grid,Card,Button,Typography,Stack}from'@material-ui/core';// redux\nimport{useSelector}from'../../../../redux/store';// utils\nimport fakeRequest from'../../../../utils/fakeRequest';//\nimport AccountBillingAddressBook from'./AccountBillingAddressBook';import AccountBillingPaymentMethod from'./AccountBillingPaymentMethod';import AccountBillingInvoiceHistory from'./AccountBillingInvoiceHistory';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AccountBilling(){var _useSelector=useSelector(function(state){return state.user;}),cards=_useSelector.cards,invoices=_useSelector.invoices,addressBook=_useSelector.addressBook;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var NewCardSchema=Yup.object().shape({cardName:Yup.string().required('Name is required'),cardNumber:Yup.string().required('Card number is required'),cardExpired:Yup.string().required('Card expired is required'),cardCvv:Yup.string().required('Cvv is required')});var formik=useFormik({initialValues:{cardName:'',cardNumber:'',cardExpired:'',cardCvv:''},validationSchema:NewCardSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var setSubmitting,resetForm;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitting=_ref.setSubmitting,resetForm=_ref.resetForm;_context.next=3;return fakeRequest(500);case 3:handleCancel();resetForm();setSubmitting(false);alert(JSON.stringify(values,null,2));enqueueSnackbar('Add card success',{variant:'success'});case 8:case\"end\":return _context.stop();}}},_callee);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var handleOpenAddCard=function handleOpenAddCard(){setOpen(function(prevOpen){return!prevOpen;});};var handleCancel=function handleCancel(){setOpen(false);formik.resetForm();};return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:5,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsxs(Stack,{spacing:3,children:[/*#__PURE__*/_jsxs(Card,{sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"overline\",sx:{mb:3,display:'block',color:'text.secondary'},children:\"Your Plan\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Premium\"}),/*#__PURE__*/_jsxs(Box,{sx:{mt:{xs:2,sm:0},position:{sm:'absolute'},top:{sm:24},right:{sm:24}},children:[/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"inherit\",variant:\"outlined\",sx:{mr:1},children:\"Cancel plan\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",children:\"Upgrade plan\"})]})]}),/*#__PURE__*/_jsx(AccountBillingPaymentMethod,{cards:cards,formik:formik,isOpen:open,onOpen:handleOpenAddCard,onCancel:handleCancel}),/*#__PURE__*/_jsx(AccountBillingAddressBook,{addressBook:addressBook})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(AccountBillingInvoiceHistory,{invoices:invoices})})]});}","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/user/account/AccountBilling.js"],"names":["Yup","useFormik","useState","useSnackbar","Box","Grid","Card","Button","Typography","Stack","useSelector","fakeRequest","AccountBillingAddressBook","AccountBillingPaymentMethod","AccountBillingInvoiceHistory","AccountBilling","state","user","cards","invoices","addressBook","open","setOpen","enqueueSnackbar","NewCardSchema","object","shape","cardName","string","required","cardNumber","cardExpired","cardCvv","formik","initialValues","validationSchema","onSubmit","values","setSubmitting","resetForm","handleCancel","alert","JSON","stringify","variant","handleOpenAddCard","prevOpen","p","mb","display","color","mt","xs","sm","position","top","right","mr"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\r\nimport { useFormik } from 'formik';\r\nimport { useState } from 'react';\r\nimport { useSnackbar } from 'notistack5';\r\n// material\r\nimport { Box, Grid, Card, Button, Typography, Stack } from '@material-ui/core';\r\n// redux\r\nimport { useSelector } from '../../../../redux/store';\r\n// utils\r\nimport fakeRequest from '../../../../utils/fakeRequest';\r\n//\r\nimport AccountBillingAddressBook from './AccountBillingAddressBook';\r\nimport AccountBillingPaymentMethod from './AccountBillingPaymentMethod';\r\nimport AccountBillingInvoiceHistory from './AccountBillingInvoiceHistory';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function AccountBilling() {\r\n  const { cards, invoices, addressBook } = useSelector((state) => state.user);\r\n  const [open, setOpen] = useState(false);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const NewCardSchema = Yup.object().shape({\r\n    cardName: Yup.string().required('Name is required'),\r\n    cardNumber: Yup.string().required('Card number is required'),\r\n    cardExpired: Yup.string().required('Card expired is required'),\r\n    cardCvv: Yup.string().required('Cvv is required')\r\n  });\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      cardName: '',\r\n      cardNumber: '',\r\n      cardExpired: '',\r\n      cardCvv: ''\r\n    },\r\n    validationSchema: NewCardSchema,\r\n    onSubmit: async (values, { setSubmitting, resetForm }) => {\r\n      await fakeRequest(500);\r\n      handleCancel();\r\n      resetForm();\r\n      setSubmitting(false);\r\n      alert(JSON.stringify(values, null, 2));\r\n      enqueueSnackbar('Add card success', { variant: 'success' });\r\n    }\r\n  });\r\n\r\n  const handleOpenAddCard = () => {\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setOpen(false);\r\n    formik.resetForm();\r\n  };\r\n\r\n  return (\r\n    <Grid container spacing={5}>\r\n      <Grid item xs={12} md={8}>\r\n        <Stack spacing={3}>\r\n          <Card sx={{ p: 3 }}>\r\n            <Typography variant=\"overline\" sx={{ mb: 3, display: 'block', color: 'text.secondary' }}>\r\n              Your Plan\r\n            </Typography>\r\n            <Typography variant=\"h4\">Premium</Typography>\r\n            <Box\r\n              sx={{\r\n                mt: { xs: 2, sm: 0 },\r\n                position: { sm: 'absolute' },\r\n                top: { sm: 24 },\r\n                right: { sm: 24 }\r\n              }}\r\n            >\r\n              <Button size=\"small\" color=\"inherit\" variant=\"outlined\" sx={{ mr: 1 }}>\r\n                Cancel plan\r\n              </Button>\r\n              <Button size=\"small\" variant=\"outlined\">\r\n                Upgrade plan\r\n              </Button>\r\n            </Box>\r\n          </Card>\r\n\r\n          <AccountBillingPaymentMethod\r\n            cards={cards}\r\n            formik={formik}\r\n            isOpen={open}\r\n            onOpen={handleOpenAddCard}\r\n            onCancel={handleCancel}\r\n          />\r\n\r\n          <AccountBillingAddressBook addressBook={addressBook} />\r\n        </Stack>\r\n      </Grid>\r\n\r\n      <Grid item xs={12} md={4}>\r\n        <AccountBillingInvoiceHistory invoices={invoices} />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}