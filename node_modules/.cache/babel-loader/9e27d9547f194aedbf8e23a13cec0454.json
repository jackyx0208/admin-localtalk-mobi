{"ast":null,"code":"var _jsxFileName = \"E:\\\\projects\\\\localtalk.mobi(react+node)\\\\pro\\\\toptalk-adminpanel\\\\src\\\\pages\\\\dashboard\\\\GeneralApp.js\";\nimport React from 'react'; // material\n\nimport { Container, Grid, Box, TextField, Typography } from '@material-ui/core';\nimport { format } from 'date-fns'; // hooks\n\nimport useAuth from '../../hooks/useAuth';\nimport useSettings from '../../hooks/useSettings'; // components\n\nimport Page from '../../components/Page';\nimport { AppWelcome, AppWidgets1, AppWidgets2, AppFeatured, AppNewInvoice, AppTopAuthors, AppTopRelated, AppAreaInstalled, AppTotalDownloads, AppTotalInstalled, AppCurrentDownload, AppTotalActiveUsers, AppTotalRegisterUsers, AppTotalOnlineVisitors, AppTotalChart, AppTopInstalledCountries } from '../../components/_dashboard/general-app';\nimport axios from '../../utils/axios'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GeneralApp() {\n  const {\n    themeStretch\n  } = useSettings();\n  const [totalUsers, setTotalUsers] = React.useState(0);\n  const [totalRegisteredUsers, setTotalRegisteredUsers] = React.useState(0);\n  const [totalOnlineVisitors, setTotalOnlineVisitors] = React.useState(0);\n  const [totalInstalled, setTotalInstalled] = React.useState(0);\n  const [totalDownloads, setTotalDownloads] = React.useState(0);\n  const [selectedDate, setSelectedDate] = React.useState(format(new Date(), 'yyyy-MM-dd'));\n  const {\n    user\n  } = useAuth();\n\n  const handleDateChange = e => {\n    setSelectedDate(e.target.value);\n  };\n\n  React.useEffect(() => {\n    async function getAnalytics() {\n      if (selectedDate) {\n        const {\n          data\n        } = await axios.get(`/analytics/logs/${selectedDate}`);\n\n        if (data.error) {\n          console.log(data);\n          setTotalRegisteredUsers(0);\n          setTotalOnlineVisitors(0);\n          return;\n        } // setTotalUsers(data.logs.active_user_num);\n\n\n        setTotalRegisteredUsers(data.logs.register_user_num);\n        setTotalOnlineVisitors(data.logs.online_user_num); // setTotalInstalled(data.statistics.installs);\n        // setTotalDownloads(data.statistics.maxInstalls);\n      }\n    }\n\n    getAnalytics();\n  }, [selectedDate]);\n  return /*#__PURE__*/_jsxDEV(Page, {\n    title: \"App | Locals\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: themeStretch ? false : 'xl',\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          pb: 5\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          children: \"Hi, Welcome back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 12,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"date\",\n            label: \"Date\",\n            InputLabelProps: {\n              shrink: true,\n              required: true\n            },\n            type: \"date\",\n            onChange: handleDateChange,\n            defaultValue: selectedDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(AppTotalOnlineVisitors, {\n            totalUsers: totalOnlineVisitors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(AppTotalRegisterUsers, {\n            totalUsers: totalRegisteredUsers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 12,\n          lg: 12,\n          children: /*#__PURE__*/_jsxDEV(AppTotalChart, {\n            chartDate: selectedDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["E:/projects/localtalk.mobi(react+node)/pro/toptalk-adminpanel/src/pages/dashboard/GeneralApp.js"],"names":["React","Container","Grid","Box","TextField","Typography","format","useAuth","useSettings","Page","AppWelcome","AppWidgets1","AppWidgets2","AppFeatured","AppNewInvoice","AppTopAuthors","AppTopRelated","AppAreaInstalled","AppTotalDownloads","AppTotalInstalled","AppCurrentDownload","AppTotalActiveUsers","AppTotalRegisterUsers","AppTotalOnlineVisitors","AppTotalChart","AppTopInstalledCountries","axios","GeneralApp","themeStretch","totalUsers","setTotalUsers","useState","totalRegisteredUsers","setTotalRegisteredUsers","totalOnlineVisitors","setTotalOnlineVisitors","totalInstalled","setTotalInstalled","totalDownloads","setTotalDownloads","selectedDate","setSelectedDate","Date","user","handleDateChange","e","target","value","useEffect","getAnalytics","data","get","error","console","log","logs","register_user_num","online_user_num","pb","shrink","required"],"mappings":"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","sourcesContent":["import React from 'react';\r\n// material\r\nimport { Container, Grid, Box, TextField, Typography } from '@material-ui/core';\r\nimport { format } from 'date-fns';\r\n// hooks\r\nimport useAuth from '../../hooks/useAuth';\r\nimport useSettings from '../../hooks/useSettings';\r\n// components\r\nimport Page from '../../components/Page';\r\nimport {\r\n  AppWelcome,\r\n  AppWidgets1,\r\n  AppWidgets2,\r\n  AppFeatured,\r\n  AppNewInvoice,\r\n  AppTopAuthors,\r\n  AppTopRelated,\r\n  AppAreaInstalled,\r\n  AppTotalDownloads,\r\n  AppTotalInstalled,\r\n  AppCurrentDownload,\r\n  AppTotalActiveUsers,\r\n  AppTotalRegisterUsers,\r\n  AppTotalOnlineVisitors,\r\n  AppTotalChart,\r\n  AppTopInstalledCountries\r\n} from '../../components/_dashboard/general-app';\r\nimport axios from '../../utils/axios';\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function GeneralApp() {\r\n  const { themeStretch } = useSettings();\r\n  const [totalUsers, setTotalUsers] = React.useState(0);\r\n  const [totalRegisteredUsers, setTotalRegisteredUsers] = React.useState(0);\r\n  const [totalOnlineVisitors, setTotalOnlineVisitors] = React.useState(0);\r\n  const [totalInstalled, setTotalInstalled] = React.useState(0);\r\n  const [totalDownloads, setTotalDownloads] = React.useState(0);\r\n  const [selectedDate, setSelectedDate] = React.useState(format(new Date(), 'yyyy-MM-dd'));\r\n  const { user } = useAuth();\r\n\r\n  const handleDateChange = (e) => {\r\n    setSelectedDate(e.target.value);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    async function getAnalytics() {\r\n      if (selectedDate) {\r\n        const { data } = await axios.get(`/analytics/logs/${selectedDate}`);\r\n        if (data.error) {\r\n          console.log(data);\r\n          setTotalRegisteredUsers(0);\r\n          setTotalOnlineVisitors(0);\r\n          return;\r\n        }\r\n        // setTotalUsers(data.logs.active_user_num);\r\n        setTotalRegisteredUsers(data.logs.register_user_num);\r\n        setTotalOnlineVisitors(data.logs.online_user_num);\r\n        // setTotalInstalled(data.statistics.installs);\r\n        // setTotalDownloads(data.statistics.maxInstalls);\r\n      }\r\n    }\r\n    getAnalytics();\r\n  }, [selectedDate]);\r\n\r\n  return (\r\n    <Page title=\"App | Locals\">\r\n      <Container maxWidth={themeStretch ? false : 'xl'}>\r\n        <Box sx={{ pb: 5 }}>\r\n          <Typography variant=\"h4\">Hi, Welcome back</Typography>\r\n        </Box>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} md={12}>\r\n            <TextField\r\n              name=\"date\"\r\n              label=\"Date\"\r\n              InputLabelProps={{ shrink: true, required: true }}\r\n              type=\"date\"\r\n              onChange={handleDateChange}\r\n              defaultValue={selectedDate}\r\n            />\r\n          </Grid>\r\n          {/* <Grid item xs={12} md={4}>\r\n            <AppTotalActiveUsers totalUsers={totalUsers} />\r\n          </Grid> */}\r\n\r\n          <Grid item xs={12} md={4}>\r\n            <AppTotalOnlineVisitors totalUsers={totalOnlineVisitors} />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} md={4}>\r\n            <AppTotalRegisterUsers totalUsers={totalRegisteredUsers} />\r\n          </Grid>\r\n\r\n          {/* <Grid item xs={12} md={4}>\r\n            <AppTotalInstalled totalInstalled={totalInstalled} />\r\n          </Grid> */}\r\n\r\n          {/* <Grid item xs={12} md={4}>\r\n            <AppTotalDownloads totalDownloads={totalDownloads} />\r\n          </Grid> */}\r\n\r\n          <Grid item xs={12} md={12} lg={12}>\r\n            <AppTotalChart chartDate={selectedDate} />\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}