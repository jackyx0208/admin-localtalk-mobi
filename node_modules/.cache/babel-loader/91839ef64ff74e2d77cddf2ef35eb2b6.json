{"ast":null,"code":"import _regeneratorRuntime from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{map,filter}from'lodash';import{createSlice}from'@reduxjs/toolkit';// utils\nimport axios from'../../utils/axios';// ----------------------------------------------------------------------\nvar initialState={isLoading:false,error:false,myProfile:null,posts:[],users:[],userList:[],followers:[],friends:[],gallery:[],cards:null,addressBook:[],invoices:[],notifications:null,specialPermissionList:[]};var slice=createSlice({name:'user',initialState:initialState,reducers:{// START LOADING\nstartLoading:function startLoading(state){state.isLoading=true;},// HAS ERROR\nhasError:function hasError(state,action){state.isLoading=false;state.error=action.payload;},// GET PROFILE\ngetProfileSuccess:function getProfileSuccess(state,action){state.isLoading=false;state.myProfile=action.payload;},// GET POSTS\ngetPostsSuccess:function getPostsSuccess(state,action){state.isLoading=false;state.posts=action.payload;},// GET USERS\ngetUsersSuccess:function getUsersSuccess(state,action){state.isLoading=false;state.users=action.payload;},// DELETE USERS\ndeleteUser:function deleteUser(state,action){var deleteUser=filter(state.userList,function(user){return user._id!==action.payload;});state.userList=deleteUser;},// GET FOLLOWERS\ngetFollowersSuccess:function getFollowersSuccess(state,action){state.isLoading=false;state.followers=action.payload;},// ON TOGGLE FOLLOW\nonToggleFollow:function onToggleFollow(state,action){var followerId=action.payload;var handleToggle=map(state.followers,function(follower){if(follower.id===followerId){return _objectSpread(_objectSpread({},follower),{},{isFollowed:!follower.isFollowed});}return follower;});state.followers=handleToggle;},// GET FRIENDS\ngetFriendsSuccess:function getFriendsSuccess(state,action){state.isLoading=false;state.friends=action.payload;},// GET GALLERY\ngetGallerySuccess:function getGallerySuccess(state,action){state.isLoading=false;state.gallery=action.payload;},// GET MANAGE USERS\ngetUserListSuccess:function getUserListSuccess(state,action){state.isLoading=false;state.userList=action.payload;},// GET CARDS\ngetCardsSuccess:function getCardsSuccess(state,action){state.isLoading=false;state.cards=action.payload;},// GET ADDRESS BOOK\ngetAddressBookSuccess:function getAddressBookSuccess(state,action){state.isLoading=false;state.addressBook=action.payload;},// GET INVOICES\ngetInvoicesSuccess:function getInvoicesSuccess(state,action){state.isLoading=false;state.invoices=action.payload;},// GET NOTIFICATIONS\ngetNotificationsSuccess:function getNotificationsSuccess(state,action){state.isLoading=false;state.notifications=action.payload;},// GET SpecialPermssions\ngetSpecialPermissionListSuccess:function getSpecialPermissionListSuccess(state,action){state.isLoading=false;state.specialPermissionList=action.payload;}}});// Reducer\nexport default slice.reducer;// Actions\nvar _slice$actions=slice.actions,onToggleFollow=_slice$actions.onToggleFollow,deleteUser=_slice$actions.deleteUser;// ----------------------------------------------------------------------\nexport{onToggleFollow,deleteUser};export function getProfile(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(slice.actions.startLoading());_context.prev=1;_context.next=4;return axios.get('/api/user/profile');case 4:response=_context.sent;dispatch(slice.actions.getProfileSuccess(response.data.profile));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(slice.actions.hasError(_context.t0));case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getPosts(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(slice.actions.startLoading());_context2.prev=1;_context2.next=4;return axios.get('/api/user/posts');case 4:response=_context2.sent;dispatch(slice.actions.getPostsSuccess(response.data.posts));_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch(slice.actions.hasError(_context2.t0));case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getFollowers(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(slice.actions.startLoading());_context3.prev=1;_context3.next=4;return axios.get('/api/user/social/followers');case 4:response=_context3.sent;dispatch(slice.actions.getFollowersSuccess(response.data.followers));_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);dispatch(slice.actions.hasError(_context3.t0));case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getFriends(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(slice.actions.startLoading());_context4.prev=1;_context4.next=4;return axios.get('/api/user/social/friends');case 4:response=_context4.sent;dispatch(slice.actions.getFriendsSuccess(response.data.friends));_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);dispatch(slice.actions.hasError(_context4.t0));case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getGallery(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch(slice.actions.startLoading());_context5.prev=1;_context5.next=4;return axios.get('/api/user/social/gallery');case 4:response=_context5.sent;dispatch(slice.actions.getGallerySuccess(response.data.gallery));_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](1);dispatch(slice.actions.hasError(_context5.t0));case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[1,8]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getUserList(){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:dispatch(slice.actions.startLoading());_context6.prev=1;_context6.next=4;return axios.get('/user/getUsers');case 4:response=_context6.sent;dispatch(slice.actions.getUserListSuccess(response.data.data));_context6.next=11;break;case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](1);dispatch(slice.actions.hasError(_context6.t0));case 11:case\"end\":return _context6.stop();}}},_callee6,null,[[1,8]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getCards(){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var response;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispatch(slice.actions.startLoading());_context7.prev=1;_context7.next=4;return axios.get('/api/user/account/cards');case 4:response=_context7.sent;dispatch(slice.actions.getCardsSuccess(response.data.cards));_context7.next=11;break;case 8:_context7.prev=8;_context7.t0=_context7[\"catch\"](1);dispatch(slice.actions.hasError(_context7.t0));case 11:case\"end\":return _context7.stop();}}},_callee7,null,[[1,8]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getAddressBook(){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var response;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:dispatch(slice.actions.startLoading());_context8.prev=1;_context8.next=4;return axios.get('/api/user/account/address-book');case 4:response=_context8.sent;dispatch(slice.actions.getAddressBookSuccess(response.data.addressBook));_context8.next=11;break;case 8:_context8.prev=8;_context8.t0=_context8[\"catch\"](1);dispatch(slice.actions.hasError(_context8.t0));case 11:case\"end\":return _context8.stop();}}},_callee8,null,[[1,8]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getInvoices(){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){var response;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:dispatch(slice.actions.startLoading());_context9.prev=1;_context9.next=4;return axios.get('/api/user/account/invoices');case 4:response=_context9.sent;dispatch(slice.actions.getInvoicesSuccess(response.data.invoices));_context9.next=11;break;case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](1);dispatch(slice.actions.hasError(_context9.t0));case 11:case\"end\":return _context9.stop();}}},_callee9,null,[[1,8]]);}));return function(_x9){return _ref9.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getNotifications(){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){var response;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:dispatch(slice.actions.startLoading());_context10.prev=1;_context10.next=4;return axios.get('/api/user/account/notifications-settings');case 4:response=_context10.sent;dispatch(slice.actions.getNotificationsSuccess(response.data.notifications));_context10.next=11;break;case 8:_context10.prev=8;_context10.t0=_context10[\"catch\"](1);dispatch(slice.actions.hasError(_context10.t0));case 11:case\"end\":return _context10.stop();}}},_callee10,null,[[1,8]]);}));return function(_x10){return _ref10.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getUsers(){return/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(dispatch){var response;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:dispatch(slice.actions.startLoading());_context11.prev=1;_context11.next=4;return axios.get('/api/user/all');case 4:response=_context11.sent;dispatch(slice.actions.getUsersSuccess(response.data.users));_context11.next=11;break;case 8:_context11.prev=8;_context11.t0=_context11[\"catch\"](1);dispatch(slice.actions.hasError(_context11.t0));case 11:case\"end\":return _context11.stop();}}},_callee11,null,[[1,8]]);}));return function(_x11){return _ref11.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getSpecialPermssionList(){return/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(dispatch){var response;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:dispatch(slice.actions.startLoading());_context12.prev=1;_context12.next=4;return axios.post('/user/getSpecialPermissions');case 4:response=_context12.sent;dispatch(slice.actions.getSpecialPermissionListSuccess(response.data.data));_context12.next=11;break;case 8:_context12.prev=8;_context12.t0=_context12[\"catch\"](1);dispatch(slice.actions.hasError(_context12.t0));case 11:case\"end\":return _context12.stop();}}},_callee12,null,[[1,8]]);}));return function(_x12){return _ref12.apply(this,arguments);};}();}","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/redux/slices/user.js"],"names":["map","filter","createSlice","axios","initialState","isLoading","error","myProfile","posts","users","userList","followers","friends","gallery","cards","addressBook","invoices","notifications","specialPermissionList","slice","name","reducers","startLoading","state","hasError","action","payload","getProfileSuccess","getPostsSuccess","getUsersSuccess","deleteUser","user","_id","getFollowersSuccess","onToggleFollow","followerId","handleToggle","follower","id","isFollowed","getFriendsSuccess","getGallerySuccess","getUserListSuccess","getCardsSuccess","getAddressBookSuccess","getInvoicesSuccess","getNotificationsSuccess","getSpecialPermissionListSuccess","reducer","actions","getProfile","dispatch","get","response","data","profile","getPosts","getFollowers","getFriends","getGallery","getUserList","getCards","getAddressBook","getInvoices","getNotifications","getUsers","getSpecialPermssionList","post"],"mappings":"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","sourcesContent":["import { map, filter } from 'lodash';\r\nimport { createSlice } from '@reduxjs/toolkit';\r\n// utils\r\nimport axios from '../../utils/axios';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  error: false,\r\n  myProfile: null,\r\n  posts: [],\r\n  users: [],\r\n  userList: [],\r\n  followers: [],\r\n  friends: [],\r\n  gallery: [],\r\n  cards: null,\r\n  addressBook: [],\r\n  invoices: [],\r\n  notifications: null,\r\n  specialPermissionList: []\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    // START LOADING\r\n    startLoading(state) {\r\n      state.isLoading = true;\r\n    },\r\n\r\n    // HAS ERROR\r\n    hasError(state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n\r\n    // GET PROFILE\r\n    getProfileSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.myProfile = action.payload;\r\n    },\r\n\r\n    // GET POSTS\r\n    getPostsSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.posts = action.payload;\r\n    },\r\n\r\n    // GET USERS\r\n    getUsersSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.users = action.payload;\r\n    },\r\n\r\n    // DELETE USERS\r\n    deleteUser(state, action) {\r\n      const deleteUser = filter(state.userList, (user) => user._id !== action.payload);\r\n      state.userList = deleteUser;\r\n    },\r\n\r\n    // GET FOLLOWERS\r\n    getFollowersSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.followers = action.payload;\r\n    },\r\n\r\n    // ON TOGGLE FOLLOW\r\n    onToggleFollow(state, action) {\r\n      const followerId = action.payload;\r\n\r\n      const handleToggle = map(state.followers, (follower) => {\r\n        if (follower.id === followerId) {\r\n          return {\r\n            ...follower,\r\n            isFollowed: !follower.isFollowed\r\n          };\r\n        }\r\n        return follower;\r\n      });\r\n\r\n      state.followers = handleToggle;\r\n    },\r\n\r\n    // GET FRIENDS\r\n    getFriendsSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.friends = action.payload;\r\n    },\r\n\r\n    // GET GALLERY\r\n    getGallerySuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.gallery = action.payload;\r\n    },\r\n\r\n    // GET MANAGE USERS\r\n    getUserListSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.userList = action.payload;\r\n    },\r\n\r\n    // GET CARDS\r\n    getCardsSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.cards = action.payload;\r\n    },\r\n\r\n    // GET ADDRESS BOOK\r\n    getAddressBookSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.addressBook = action.payload;\r\n    },\r\n\r\n    // GET INVOICES\r\n    getInvoicesSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.invoices = action.payload;\r\n    },\r\n\r\n    // GET NOTIFICATIONS\r\n    getNotificationsSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.notifications = action.payload;\r\n    },\r\n\r\n    // GET SpecialPermssions\r\n    getSpecialPermissionListSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.specialPermissionList = action.payload;\r\n    }\r\n  }\r\n});\r\n\r\n// Reducer\r\nexport default slice.reducer;\r\n\r\n// Actions\r\nexport const { onToggleFollow, deleteUser } = slice.actions;\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getProfile() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/api/user/profile');\r\n      dispatch(slice.actions.getProfileSuccess(response.data.profile));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getPosts() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/api/user/posts');\r\n      dispatch(slice.actions.getPostsSuccess(response.data.posts));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getFollowers() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/api/user/social/followers');\r\n      dispatch(slice.actions.getFollowersSuccess(response.data.followers));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getFriends() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/api/user/social/friends');\r\n      dispatch(slice.actions.getFriendsSuccess(response.data.friends));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getGallery() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/api/user/social/gallery');\r\n      dispatch(slice.actions.getGallerySuccess(response.data.gallery));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getUserList() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/user/getUsers');\r\n      dispatch(slice.actions.getUserListSuccess(response.data.data));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getCards() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/api/user/account/cards');\r\n      dispatch(slice.actions.getCardsSuccess(response.data.cards));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getAddressBook() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/api/user/account/address-book');\r\n      dispatch(slice.actions.getAddressBookSuccess(response.data.addressBook));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getInvoices() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/api/user/account/invoices');\r\n      dispatch(slice.actions.getInvoicesSuccess(response.data.invoices));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getNotifications() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/api/user/account/notifications-settings');\r\n      dispatch(slice.actions.getNotificationsSuccess(response.data.notifications));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getUsers() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/api/user/all');\r\n      dispatch(slice.actions.getUsersSuccess(response.data.users));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getSpecialPermssionList() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.post('/user/getSpecialPermissions');\r\n      dispatch(slice.actions.getSpecialPermissionListSuccess(response.data.data));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}