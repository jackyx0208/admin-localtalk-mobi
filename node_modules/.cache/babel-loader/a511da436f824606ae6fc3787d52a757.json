{"ast":null,"code":"import _objectWithoutProperties from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _objectSpread from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var _excluded=[\"conversation\",\"isCollapse\",\"onCollapse\"];import{Icon}from'@iconify/react';import{uniq,flatten}from'lodash';import arrowIosForwardFill from'@iconify/icons-eva/arrow-ios-forward-fill';import arrowIosDownwardFill from'@iconify/icons-eva/arrow-ios-downward-fill';// material\nimport{styled}from'@material-ui/core/styles';import{Box,Button,Divider,Collapse,Typography}from'@material-ui/core';// utils\nimport{fDateTime}from'../../../utils/formatTime';import{getFileFullName,getFileThumb}from'../../../utils/getFileFormat';//\nimport Scrollbar from'../../Scrollbar';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RootStyle=styled('div')(function(_ref){var theme=_ref.theme;return{flexGrow:1,height:'100%',display:'flex',overflow:'hidden',flexDirection:'column',paddingBottom:theme.spacing(2)};});var FileItemStyle=styled('div')(function(_ref2){var theme=_ref2.theme;return{display:'flex',alignItems:'center',marginTop:theme.spacing(2),padding:theme.spacing(0,2.5)};});var FileThumbStyle=styled('div')(function(_ref3){var theme=_ref3.theme;return{width:40,height:40,flexShrink:0,display:'flex',overflow:'hidden',alignItems:'center',justifyContent:'center',color:theme.palette.text.secondary,borderRadius:theme.shape.borderRadius,backgroundColor:theme.palette.grey[50016]};});var CollapseButtonStyle=styled(Button)(function(_ref4){var theme=_ref4.theme;return _objectSpread(_objectSpread({},theme.typography.overline),{},{height:40,flexShrink:0,borderRadius:0,padding:theme.spacing(1,2),justifyContent:'space-between',color:theme.palette.text.disabled});});// ----------------------------------------------------------------------\nfunction AttachmentItem(_ref5){var file=_ref5.file,fileUrl=_ref5.fileUrl;return/*#__PURE__*/_jsxs(FileItemStyle,{children:[/*#__PURE__*/_jsx(FileThumbStyle,{children:getFileThumb(fileUrl)}),/*#__PURE__*/_jsxs(Box,{sx:{ml:1.5,maxWidth:150},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",noWrap:true,children:getFileFullName(fileUrl)}),/*#__PURE__*/_jsx(Typography,{noWrap:true,variant:\"caption\",sx:{color:'text.secondary',display:'block'},children:fDateTime(file.createdAt)})]})]},fileUrl);}export default function ChatRoomAttachment(_ref6){var conversation=_ref6.conversation,isCollapse=_ref6.isCollapse,onCollapse=_ref6.onCollapse,other=_objectWithoutProperties(_ref6,_excluded);var totalAttachment=uniq(flatten(conversation.messages.map(function(item){return item.attachments;}))).length;return/*#__PURE__*/_jsxs(RootStyle,_objectSpread(_objectSpread({},other),{},{children:[/*#__PURE__*/_jsxs(CollapseButtonStyle,{fullWidth:true,color:\"inherit\",onClick:onCollapse,endIcon:/*#__PURE__*/_jsx(Icon,{icon:isCollapse?arrowIosDownwardFill:arrowIosForwardFill,width:16,height:16}),children:[\"attachment (\",totalAttachment,\")\"]}),!isCollapse&&/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Scrollbar,{children:/*#__PURE__*/_jsx(Collapse,{in:isCollapse,children:conversation.messages.map(function(file){return/*#__PURE__*/_jsx(\"div\",{children:file.attachments.map(function(fileUrl){return/*#__PURE__*/_jsx(AttachmentItem,{file:file,fileUrl:fileUrl},fileUrl);})},file.id);})})})]}));}","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/chat/ChatRoomAttachment.js"],"names":["Icon","uniq","flatten","arrowIosForwardFill","arrowIosDownwardFill","styled","Box","Button","Divider","Collapse","Typography","fDateTime","getFileFullName","getFileThumb","Scrollbar","RootStyle","theme","flexGrow","height","display","overflow","flexDirection","paddingBottom","spacing","FileItemStyle","alignItems","marginTop","padding","FileThumbStyle","width","flexShrink","justifyContent","color","palette","text","secondary","borderRadius","shape","backgroundColor","grey","CollapseButtonStyle","typography","overline","disabled","AttachmentItem","file","fileUrl","ml","maxWidth","createdAt","ChatRoomAttachment","conversation","isCollapse","onCollapse","other","totalAttachment","messages","map","item","attachments","length","id"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { uniq, flatten } from 'lodash';\r\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\r\nimport arrowIosDownwardFill from '@iconify/icons-eva/arrow-ios-downward-fill';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, Button, Divider, Collapse, Typography } from '@material-ui/core';\r\n// utils\r\nimport { fDateTime } from '../../../utils/formatTime';\r\nimport { getFileFullName, getFileThumb } from '../../../utils/getFileFormat';\r\n//\r\nimport Scrollbar from '../../Scrollbar';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  flexGrow: 1,\r\n  height: '100%',\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  flexDirection: 'column',\r\n  paddingBottom: theme.spacing(2)\r\n}));\r\n\r\nconst FileItemStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  marginTop: theme.spacing(2),\r\n  padding: theme.spacing(0, 2.5)\r\n}));\r\n\r\nconst FileThumbStyle = styled('div')(({ theme }) => ({\r\n  width: 40,\r\n  height: 40,\r\n  flexShrink: 0,\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  color: theme.palette.text.secondary,\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.grey[500_16]\r\n}));\r\n\r\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\r\n  ...theme.typography.overline,\r\n  height: 40,\r\n  flexShrink: 0,\r\n  borderRadius: 0,\r\n  padding: theme.spacing(1, 2),\r\n  justifyContent: 'space-between',\r\n  color: theme.palette.text.disabled\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nAttachmentItem.propTypes = {\r\n  file: PropTypes.object,\r\n  fileUrl: PropTypes.string\r\n};\r\n\r\nfunction AttachmentItem({ file, fileUrl }) {\r\n  return (\r\n    <FileItemStyle key={fileUrl}>\r\n      <FileThumbStyle>{getFileThumb(fileUrl)}</FileThumbStyle>\r\n      <Box sx={{ ml: 1.5, maxWidth: 150 }}>\r\n        <Typography variant=\"body2\" noWrap>\r\n          {getFileFullName(fileUrl)}\r\n        </Typography>\r\n        <Typography noWrap variant=\"caption\" sx={{ color: 'text.secondary', display: 'block' }}>\r\n          {fDateTime(file.createdAt)}\r\n        </Typography>\r\n      </Box>\r\n    </FileItemStyle>\r\n  );\r\n}\r\n\r\nChatRoomAttachment.propTypes = {\r\n  conversation: PropTypes.object.isRequired,\r\n  isCollapse: PropTypes.bool,\r\n  onCollapse: PropTypes.func\r\n};\r\n\r\nexport default function ChatRoomAttachment({ conversation, isCollapse, onCollapse, ...other }) {\r\n  const totalAttachment = uniq(flatten(conversation.messages.map((item) => item.attachments))).length;\r\n\r\n  return (\r\n    <RootStyle {...other}>\r\n      <CollapseButtonStyle\r\n        fullWidth\r\n        color=\"inherit\"\r\n        onClick={onCollapse}\r\n        endIcon={<Icon icon={isCollapse ? arrowIosDownwardFill : arrowIosForwardFill} width={16} height={16} />}\r\n      >\r\n        attachment ({totalAttachment})\r\n      </CollapseButtonStyle>\r\n\r\n      {!isCollapse && <Divider />}\r\n\r\n      <Scrollbar>\r\n        <Collapse in={isCollapse}>\r\n          {conversation.messages.map((file) => (\r\n            <div key={file.id}>\r\n              {file.attachments.map((fileUrl) => (\r\n                <AttachmentItem key={fileUrl} file={file} fileUrl={fileUrl} />\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </Collapse>\r\n      </Scrollbar>\r\n    </RootStyle>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}