{"ast":null,"code":"import _objectSpread from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"error\",\"file\",\"caption\",\"sx\"];import{isString}from'lodash';import{Icon}from'@iconify/react';import{useDropzone}from'react-dropzone';import roundAddAPhoto from'@iconify/icons-ic/round-add-a-photo';// material\nimport{alpha,styled}from'@material-ui/core/styles';import{Box,Typography,Paper}from'@material-ui/core';// utils\nimport{fData}from'../../utils/formatNumber';// ----------------------------------------------------------------------\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RootStyle=styled('div')(function(_ref){var theme=_ref.theme;return{width:144,height:144,margin:'auto',borderRadius:'50%',padding:theme.spacing(1),border:\"1px dashed \".concat(theme.palette.grey[50032])};});var DropZoneStyle=styled('div')({zIndex:0,width:'100%',height:'100%',outline:'none',display:'flex',overflow:'hidden',borderRadius:'50%',position:'relative',alignItems:'center',justifyContent:'center','& > *':{width:'100%',height:'100%'},'&:hover':{cursor:'pointer','& .placeholder':{zIndex:9}}});var PlaceholderStyle=styled('div')(function(_ref2){var theme=_ref2.theme;return{display:'flex',position:'absolute',alignItems:'center',flexDirection:'column',justifyContent:'center',color:theme.palette.text.secondary,backgroundColor:theme.palette.background.neutral,transition:theme.transitions.create('opacity',{easing:theme.transitions.easing.easeInOut,duration:theme.transitions.duration.shorter}),'&:hover':{opacity:0.72}};});// ----------------------------------------------------------------------\nexport default function UploadAvatar(_ref3){var error=_ref3.error,file=_ref3.file,caption=_ref3.caption,sx=_ref3.sx,other=_objectWithoutProperties(_ref3,_excluded);var _useDropzone=useDropzone(_objectSpread({multiple:false},other)),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps,isDragActive=_useDropzone.isDragActive,isDragReject=_useDropzone.isDragReject,fileRejections=_useDropzone.fileRejections;var ShowRejectionItems=function ShowRejectionItems(){return/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",sx:{py:1,px:2,my:2,borderColor:'error.light',bgcolor:function bgcolor(theme){return alpha(theme.palette.error.main,0.08);}},children:fileRejections.map(function(_ref4){var file=_ref4.file,errors=_ref4.errors;var path=file.path,size=file.size;return/*#__PURE__*/_jsxs(Box,{sx:{my:1},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",noWrap:true,children:[path,\" - \",fData(size)]}),errors.map(function(e){return/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",component:\"p\",children:[\"- \",e.message]},e.code);})]},path);})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RootStyle,{sx:sx,children:/*#__PURE__*/_jsxs(DropZoneStyle,_objectSpread(_objectSpread({},getRootProps()),{},{sx:_objectSpread(_objectSpread({},isDragActive&&{opacity:0.72}),(isDragReject||error)&&{color:'error.main',borderColor:'error.light',bgcolor:'error.lighter'}),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),file&&/*#__PURE__*/_jsx(Box,{component:\"img\",alt:\"avatar\",src:isString(file)?file:file.preview,sx:{zIndex:8,objectFit:'cover'}}),/*#__PURE__*/_jsxs(PlaceholderStyle,{className:\"placeholder\",sx:_objectSpread({},file&&{opacity:0,color:'common.white',bgcolor:'grey.900','&:hover':{opacity:0.72}}),children:[/*#__PURE__*/_jsx(Box,{component:Icon,icon:roundAddAPhoto,sx:{width:24,height:24,mb:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:file?'Update photo':'Upload photo'})]})]}))}),caption,fileRejections.length>0&&/*#__PURE__*/_jsx(ShowRejectionItems,{})]});}","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/upload/UploadAvatar.js"],"names":["isString","Icon","useDropzone","roundAddAPhoto","alpha","styled","Box","Typography","Paper","fData","RootStyle","theme","width","height","margin","borderRadius","padding","spacing","border","palette","grey","DropZoneStyle","zIndex","outline","display","overflow","position","alignItems","justifyContent","cursor","PlaceholderStyle","flexDirection","color","text","secondary","backgroundColor","background","neutral","transition","transitions","create","easing","easeInOut","duration","shorter","opacity","UploadAvatar","error","file","caption","sx","other","multiple","getRootProps","getInputProps","isDragActive","isDragReject","fileRejections","ShowRejectionItems","py","px","my","borderColor","bgcolor","main","map","errors","path","size","e","message","code","preview","objectFit","mb","length"],"mappings":"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","sourcesContent":["import { isString } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport roundAddAPhoto from '@iconify/icons-ic/round-add-a-photo';\r\n// material\r\nimport { alpha, styled } from '@material-ui/core/styles';\r\nimport { Box, Typography, Paper } from '@material-ui/core';\r\n// utils\r\nimport { fData } from '../../utils/formatNumber';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  width: 144,\r\n  height: 144,\r\n  margin: 'auto',\r\n  borderRadius: '50%',\r\n  padding: theme.spacing(1),\r\n  border: `1px dashed ${theme.palette.grey[500_32]}`\r\n}));\r\n\r\nconst DropZoneStyle = styled('div')({\r\n  zIndex: 0,\r\n  width: '100%',\r\n  height: '100%',\r\n  outline: 'none',\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  borderRadius: '50%',\r\n  position: 'relative',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  '& > *': { width: '100%', height: '100%' },\r\n  '&:hover': {\r\n    cursor: 'pointer',\r\n    '& .placeholder': {\r\n      zIndex: 9\r\n    }\r\n  }\r\n});\r\n\r\nconst PlaceholderStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  position: 'absolute',\r\n  alignItems: 'center',\r\n  flexDirection: 'column',\r\n  justifyContent: 'center',\r\n  color: theme.palette.text.secondary,\r\n  backgroundColor: theme.palette.background.neutral,\r\n  transition: theme.transitions.create('opacity', {\r\n    easing: theme.transitions.easing.easeInOut,\r\n    duration: theme.transitions.duration.shorter\r\n  }),\r\n  '&:hover': { opacity: 0.72 }\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nUploadAvatar.propTypes = {\r\n  error: PropTypes.bool,\r\n  file: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n  caption: PropTypes.node,\r\n  sx: PropTypes.object\r\n};\r\n\r\nexport default function UploadAvatar({ error, file, caption, sx, ...other }) {\r\n  const { getRootProps, getInputProps, isDragActive, isDragReject, fileRejections } = useDropzone({\r\n    multiple: false,\r\n    ...other\r\n  });\r\n\r\n  const ShowRejectionItems = () => (\r\n    <Paper\r\n      variant=\"outlined\"\r\n      sx={{\r\n        py: 1,\r\n        px: 2,\r\n        my: 2,\r\n        borderColor: 'error.light',\r\n        bgcolor: (theme) => alpha(theme.palette.error.main, 0.08)\r\n      }}\r\n    >\r\n      {fileRejections.map(({ file, errors }) => {\r\n        const { path, size } = file;\r\n        return (\r\n          <Box key={path} sx={{ my: 1 }}>\r\n            <Typography variant=\"subtitle2\" noWrap>\r\n              {path} - {fData(size)}\r\n            </Typography>\r\n            {errors.map((e) => (\r\n              <Typography key={e.code} variant=\"caption\" component=\"p\">\r\n                - {e.message}\r\n              </Typography>\r\n            ))}\r\n          </Box>\r\n        );\r\n      })}\r\n    </Paper>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <RootStyle sx={sx}>\r\n        <DropZoneStyle\r\n          {...getRootProps()}\r\n          sx={{\r\n            ...(isDragActive && { opacity: 0.72 }),\r\n            ...((isDragReject || error) && {\r\n              color: 'error.main',\r\n              borderColor: 'error.light',\r\n              bgcolor: 'error.lighter'\r\n            })\r\n          }}\r\n        >\r\n          <input {...getInputProps()} />\r\n\r\n          {file && (\r\n            <Box\r\n              component=\"img\"\r\n              alt=\"avatar\"\r\n              src={isString(file) ? file : file.preview}\r\n              sx={{ zIndex: 8, objectFit: 'cover' }}\r\n            />\r\n          )}\r\n\r\n          <PlaceholderStyle\r\n            className=\"placeholder\"\r\n            sx={{\r\n              ...(file && {\r\n                opacity: 0,\r\n                color: 'common.white',\r\n                bgcolor: 'grey.900',\r\n                '&:hover': { opacity: 0.72 }\r\n              })\r\n            }}\r\n          >\r\n            <Box component={Icon} icon={roundAddAPhoto} sx={{ width: 24, height: 24, mb: 1 }} />\r\n            <Typography variant=\"caption\">{file ? 'Update photo' : 'Upload photo'}</Typography>\r\n          </PlaceholderStyle>\r\n        </DropZoneStyle>\r\n      </RootStyle>\r\n\r\n      {caption}\r\n\r\n      {fileRejections.length > 0 && <ShowRejectionItems />}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}