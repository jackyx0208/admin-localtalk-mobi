{"ast":null,"code":"var _jsxFileName = \"E:\\\\projects\\\\localtalk.mobi\\\\mobilechat-adminpanel\\\\src\\\\components\\\\_dashboard\\\\chat\\\\ChatMessageItem.js\";\nimport PropTypes from 'prop-types';\nimport { formatDistanceToNowStrict } from 'date-fns'; // material\n\nimport { styled } from '@material-ui/core/styles';\nimport { Avatar, Box, Typography } from '@material-ui/core'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RootStyle = styled('div')(({\n  theme\n}) => ({\n  display: 'flex',\n  marginBottom: theme.spacing(3)\n}));\nconst ContentStyle = styled('div')(({\n  theme\n}) => ({\n  maxWidth: 320,\n  padding: theme.spacing(1.5),\n  marginTop: theme.spacing(0.5),\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: theme.palette.background.neutral\n}));\nconst InfoStyle = styled(Typography)(({\n  theme\n}) => ({\n  display: 'flex',\n  marginBottom: theme.spacing(0.75),\n  color: theme.palette.text.secondary\n}));\nconst MessageImgStyle = styled('img')(({\n  theme\n}) => ({\n  height: 200,\n  minWidth: 296,\n  width: '100%',\n  cursor: 'pointer',\n  objectFit: 'cover',\n  borderRadius: theme.shape.borderRadius\n})); // ----------------------------------------------------------------------\n\nChatMessageItem.propTypes = {\n  message: PropTypes.object.isRequired,\n  conversation: PropTypes.object.isRequired,\n  onOpenLightbox: PropTypes.func\n};\nexport default function ChatMessageItem({\n  message,\n  conversation,\n  onOpenLightbox,\n  ...other\n}) {\n  console.log(message);\n  const sender = conversation.participants.find(participant => participant._id === message.senderId._id);\n  const senderDetails = message.senderId === '8864c717-587d-472a-929a-8e5f298024da-0' ? {\n    type: 'me'\n  } : {\n    avatar: sender.avatarUrl,\n    name: sender.name\n  };\n  const isMe = senderDetails.type === 'me';\n  const isImage = message.contentType === 'image';\n  const firstName = senderDetails.name && senderDetails.name.split(' ')[0];\n  return /*#__PURE__*/_jsxDEV(RootStyle, { ...other,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        ...(isMe && {\n          ml: 'auto'\n        })\n      },\n      children: [senderDetails.type !== 'me' && /*#__PURE__*/_jsxDEV(Avatar, {\n        alt: senderDetails.name,\n        src: senderDetails.avatar,\n        sx: {\n          width: 32,\n          height: 32\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          ml: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(InfoStyle, {\n          noWrap: true,\n          variant: \"caption\",\n          sx: { ...(isMe && {\n              justifyContent: 'flex-end'\n            })\n          },\n          children: [!isMe && `${firstName},`, \"\\xA0\", formatDistanceToNowStrict(new Date(message.createdAt), {\n            addSuffix: true\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ContentStyle, {\n          sx: { ...(isMe && {\n              color: 'grey.800',\n              bgcolor: 'primary.lighter'\n            })\n          },\n          children: isImage ? /*#__PURE__*/_jsxDEV(MessageImgStyle, {\n            alt: \"attachment\",\n            src: message.body,\n            onClick: () => onOpenLightbox(message.body)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: message.body\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/chat/ChatMessageItem.js"],"names":["PropTypes","formatDistanceToNowStrict","styled","Avatar","Box","Typography","RootStyle","theme","display","marginBottom","spacing","ContentStyle","maxWidth","padding","marginTop","borderRadius","shape","backgroundColor","palette","background","neutral","InfoStyle","color","text","secondary","MessageImgStyle","height","minWidth","width","cursor","objectFit","ChatMessageItem","propTypes","message","object","isRequired","conversation","onOpenLightbox","func","other","console","log","sender","participants","find","participant","_id","senderId","senderDetails","type","avatar","avatarUrl","name","isMe","isImage","contentType","firstName","split","ml","justifyContent","Date","createdAt","addSuffix","bgcolor","body"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { formatDistanceToNowStrict } from 'date-fns';\r\n// material\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Avatar, Box, Typography } from '@material-ui/core';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  marginBottom: theme.spacing(3)\r\n}));\r\n\r\nconst ContentStyle = styled('div')(({ theme }) => ({\r\n  maxWidth: 320,\r\n  padding: theme.spacing(1.5),\r\n  marginTop: theme.spacing(0.5),\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.background.neutral\r\n}));\r\n\r\nconst InfoStyle = styled(Typography)(({ theme }) => ({\r\n  display: 'flex',\r\n  marginBottom: theme.spacing(0.75),\r\n  color: theme.palette.text.secondary\r\n}));\r\n\r\nconst MessageImgStyle = styled('img')(({ theme }) => ({\r\n  height: 200,\r\n  minWidth: 296,\r\n  width: '100%',\r\n  cursor: 'pointer',\r\n  objectFit: 'cover',\r\n  borderRadius: theme.shape.borderRadius\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatMessageItem.propTypes = {\r\n  message: PropTypes.object.isRequired,\r\n  conversation: PropTypes.object.isRequired,\r\n  onOpenLightbox: PropTypes.func\r\n};\r\n\r\nexport default function ChatMessageItem({ message, conversation, onOpenLightbox, ...other }) {\r\n  console.log(message);\r\n  const sender = conversation.participants.find((participant) => participant._id === message.senderId._id);\r\n  const senderDetails =\r\n    message.senderId === '8864c717-587d-472a-929a-8e5f298024da-0'\r\n      ? { type: 'me' }\r\n      : { avatar: sender.avatarUrl, name: sender.name };\r\n\r\n  const isMe = senderDetails.type === 'me';\r\n  const isImage = message.contentType === 'image';\r\n  const firstName = senderDetails.name && senderDetails.name.split(' ')[0];\r\n\r\n  return (\r\n    <RootStyle {...other}>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          ...(isMe && {\r\n            ml: 'auto'\r\n          })\r\n        }}\r\n      >\r\n        {senderDetails.type !== 'me' && (\r\n          <Avatar alt={senderDetails.name} src={senderDetails.avatar} sx={{ width: 32, height: 32 }} />\r\n        )}\r\n\r\n        <Box sx={{ ml: 2 }}>\r\n          <InfoStyle noWrap variant=\"caption\" sx={{ ...(isMe && { justifyContent: 'flex-end' }) }}>\r\n            {!isMe && `${firstName},`}&nbsp;\r\n            {formatDistanceToNowStrict(new Date(message.createdAt), {\r\n              addSuffix: true\r\n            })}\r\n          </InfoStyle>\r\n\r\n          <ContentStyle\r\n            sx={{\r\n              ...(isMe && {\r\n                color: 'grey.800',\r\n                bgcolor: 'primary.lighter'\r\n              })\r\n            }}\r\n          >\r\n            {isImage ? (\r\n              <MessageImgStyle alt=\"attachment\" src={message.body} onClick={() => onOpenLightbox(message.body)} />\r\n            ) : (\r\n              <Typography variant=\"body2\">{message.body}</Typography>\r\n            )}\r\n          </ContentStyle>\r\n        </Box>\r\n      </Box>\r\n    </RootStyle>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}