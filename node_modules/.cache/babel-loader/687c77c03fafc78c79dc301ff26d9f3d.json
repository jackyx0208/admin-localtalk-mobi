{"ast":null,"code":"var _jsxFileName = \"E:\\\\projects\\\\localtalk.mobi(back)\\\\pro\\\\toptalk-adminpanel\\\\src\\\\components\\\\_dashboard\\\\user\\\\account\\\\AccountGeneral.js\",\n    _s = $RefreshSig$();\n\nimport * as Yup from 'yup';\nimport { useSnackbar } from 'notistack5';\nimport { useCallback } from 'react';\nimport { Form, FormikProvider, useFormik } from 'formik'; // material\n\nimport { Box, Grid, Card, Stack, Switch, TextField, FormControlLabel, Typography, FormHelperText } from '@material-ui/core';\nimport { LoadingButton } from '@material-ui/lab'; // hooks\n\nimport useAuth from '../../../../hooks/useAuth';\nimport useIsMountedRef from '../../../../hooks/useIsMountedRef';\nimport { UploadAvatar } from '../../../upload'; // utils\n\nimport { fData } from '../../../../utils/formatNumber'; //\n\nimport countries from '../countries'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AccountGeneral() {\n  _s();\n\n  const isMountedRef = useIsMountedRef();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    user,\n    updateProfile\n  } = useAuth();\n  const UpdateUserSchema = Yup.object().shape({\n    displayName: Yup.string().required('Name is required')\n  });\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      displayName: user.displayName || '',\n      email: user.email,\n      photoURL: user.photoURL,\n      phoneNumber: user.phoneNumber,\n      country: user.country,\n      address: user.address,\n      state: user.state,\n      city: user.city,\n      zipCode: user.zipCode,\n      about: user.about,\n      isPublic: user.isPublic\n    },\n    validationSchema: UpdateUserSchema,\n    onSubmit: async (values, {\n      setErrors,\n      setSubmitting\n    }) => {\n      try {\n        await updateProfile({ ...values\n        });\n        enqueueSnackbar('Update success', {\n          variant: 'success'\n        });\n\n        if (isMountedRef.current) {\n          setSubmitting(false);\n        }\n      } catch (error) {\n        if (isMountedRef.current) {\n          setErrors({\n            afterSubmit: error.code\n          });\n          setSubmitting(false);\n        }\n      }\n    }\n  });\n  const {\n    values,\n    errors,\n    touched,\n    isSubmitting,\n    handleSubmit,\n    getFieldProps,\n    setFieldValue\n  } = formik;\n  const handleDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n\n    if (file) {\n      setFieldValue('photoURL', { ...file,\n        preview: URL.createObjectURL(file)\n      });\n    }\n  }, [setFieldValue]);\n  return /*#__PURE__*/_jsxDEV(FormikProvider, {\n    value: formik,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      autoComplete: \"off\",\n      noValidate: true,\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              py: 10,\n              px: 3,\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(UploadAvatar, {\n              accept: \"image/*\",\n              file: values.photoURL,\n              maxSize: 3145728,\n              onDrop: handleDrop,\n              error: Boolean(touched.photoURL && errors.photoURL),\n              caption: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  mt: 2,\n                  mx: 'auto',\n                  display: 'block',\n                  textAlign: 'center',\n                  color: 'text.secondary'\n                },\n                children: [\"Allowed *.jpeg, *.jpg, *.png, *.gif\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this), \" max size of \", fData(3145728)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n              error: true,\n              sx: {\n                px: 2,\n                textAlign: 'center'\n              },\n              children: touched.photoURL && errors.photoURL\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Switch, { ...getFieldProps('isPublic'),\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 26\n              }, this),\n              labelPlacement: \"start\",\n              label: \"Public Profile\",\n              sx: {\n                mt: 5\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              p: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Stack, {\n              spacing: {\n                xs: 2,\n                md: 3\n              },\n              children: [/*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  md: 'row'\n                },\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Name\",\n                  ...getFieldProps('displayName')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  disabled: true,\n                  label: \"Email Address\",\n                  ...getFieldProps('email')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  md: 'row'\n                },\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Phone Number\",\n                  ...getFieldProps('phoneNumber')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Address\",\n                  ...getFieldProps('address')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  md: 'row'\n                },\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  select: true,\n                  fullWidth: true,\n                  label: \"Country\",\n                  placeholder: \"Country\",\n                  ...getFieldProps('country'),\n                  SelectProps: {\n                    native: true\n                  },\n                  error: Boolean(touched.country && errors.country),\n                  helperText: touched.country && errors.country,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 21\n                  }, this), countries.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: option.label,\n                    children: option.label\n                  }, option.code, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"State/Region\",\n                  ...getFieldProps('state')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  md: 'row'\n                },\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"City\",\n                  ...getFieldProps('city')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Zip/Code\",\n                  ...getFieldProps('zipCode')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, { ...getFieldProps('about'),\n                fullWidth: true,\n                multiline: true,\n                minRows: 4,\n                maxRows: 4,\n                label: \"About\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 3,\n                display: 'flex',\n                justifyContent: 'flex-end'\n              },\n              children: /*#__PURE__*/_jsxDEV(LoadingButton, {\n                type: \"submit\",\n                variant: \"contained\",\n                loading: isSubmitting,\n                children: \"Save Changes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AccountGeneral, \"KVOuu2XbFIZ0VQh++qLqzVcdjNM=\", false, function () {\n  return [useIsMountedRef, useSnackbar, useAuth, useFormik];\n});\n\n_c = AccountGeneral;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountGeneral\");","map":{"version":3,"sources":["E:/projects/localtalk.mobi(back)/pro/toptalk-adminpanel/src/components/_dashboard/user/account/AccountGeneral.js"],"names":["Yup","useSnackbar","useCallback","Form","FormikProvider","useFormik","Box","Grid","Card","Stack","Switch","TextField","FormControlLabel","Typography","FormHelperText","LoadingButton","useAuth","useIsMountedRef","UploadAvatar","fData","countries","AccountGeneral","isMountedRef","enqueueSnackbar","user","updateProfile","UpdateUserSchema","object","shape","displayName","string","required","formik","enableReinitialize","initialValues","email","photoURL","phoneNumber","country","address","state","city","zipCode","about","isPublic","validationSchema","onSubmit","values","setErrors","setSubmitting","variant","current","error","afterSubmit","code","errors","touched","isSubmitting","handleSubmit","getFieldProps","setFieldValue","handleDrop","acceptedFiles","file","preview","URL","createObjectURL","py","px","textAlign","Boolean","mt","mx","display","color","p","xs","md","native","map","option","label","justifyContent"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\r\nimport { useSnackbar } from 'notistack5';\r\nimport { useCallback } from 'react';\r\nimport { Form, FormikProvider, useFormik } from 'formik';\r\n// material\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Card,\r\n  Stack,\r\n  Switch,\r\n  TextField,\r\n  FormControlLabel,\r\n  Typography,\r\n  FormHelperText\r\n} from '@material-ui/core';\r\nimport { LoadingButton } from '@material-ui/lab';\r\n// hooks\r\nimport useAuth from '../../../../hooks/useAuth';\r\nimport useIsMountedRef from '../../../../hooks/useIsMountedRef';\r\nimport { UploadAvatar } from '../../../upload';\r\n// utils\r\nimport { fData } from '../../../../utils/formatNumber';\r\n//\r\nimport countries from '../countries';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function AccountGeneral() {\r\n  const isMountedRef = useIsMountedRef();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { user, updateProfile } = useAuth();\r\n\r\n  const UpdateUserSchema = Yup.object().shape({\r\n    displayName: Yup.string().required('Name is required')\r\n  });\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      displayName: user.displayName || '',\r\n      email: user.email,\r\n      photoURL: user.photoURL,\r\n      phoneNumber: user.phoneNumber,\r\n      country: user.country,\r\n      address: user.address,\r\n      state: user.state,\r\n      city: user.city,\r\n      zipCode: user.zipCode,\r\n      about: user.about,\r\n      isPublic: user.isPublic\r\n    },\r\n\r\n    validationSchema: UpdateUserSchema,\r\n    onSubmit: async (values, { setErrors, setSubmitting }) => {\r\n      try {\r\n        await updateProfile({ ...values });\r\n        enqueueSnackbar('Update success', { variant: 'success' });\r\n        if (isMountedRef.current) {\r\n          setSubmitting(false);\r\n        }\r\n      } catch (error) {\r\n        if (isMountedRef.current) {\r\n          setErrors({ afterSubmit: error.code });\r\n          setSubmitting(false);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  const { values, errors, touched, isSubmitting, handleSubmit, getFieldProps, setFieldValue } = formik;\r\n\r\n  const handleDrop = useCallback(\r\n    (acceptedFiles) => {\r\n      const file = acceptedFiles[0];\r\n      if (file) {\r\n        setFieldValue('photoURL', {\r\n          ...file,\r\n          preview: URL.createObjectURL(file)\r\n        });\r\n      }\r\n    },\r\n    [setFieldValue]\r\n  );\r\n\r\n  return (\r\n    <FormikProvider value={formik}>\r\n      <Form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} md={4}>\r\n            <Card sx={{ py: 10, px: 3, textAlign: 'center' }}>\r\n              <UploadAvatar\r\n                accept=\"image/*\"\r\n                file={values.photoURL}\r\n                maxSize={3145728}\r\n                onDrop={handleDrop}\r\n                error={Boolean(touched.photoURL && errors.photoURL)}\r\n                caption={\r\n                  <Typography\r\n                    variant=\"caption\"\r\n                    sx={{\r\n                      mt: 2,\r\n                      mx: 'auto',\r\n                      display: 'block',\r\n                      textAlign: 'center',\r\n                      color: 'text.secondary'\r\n                    }}\r\n                  >\r\n                    Allowed *.jpeg, *.jpg, *.png, *.gif\r\n                    <br /> max size of {fData(3145728)}\r\n                  </Typography>\r\n                }\r\n              />\r\n\r\n              <FormHelperText error sx={{ px: 2, textAlign: 'center' }}>\r\n                {touched.photoURL && errors.photoURL}\r\n              </FormHelperText>\r\n\r\n              <FormControlLabel\r\n                control={<Switch {...getFieldProps('isPublic')} color=\"primary\" />}\r\n                labelPlacement=\"start\"\r\n                label=\"Public Profile\"\r\n                sx={{ mt: 5 }}\r\n              />\r\n            </Card>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} md={8}>\r\n            <Card sx={{ p: 3 }}>\r\n              <Stack spacing={{ xs: 2, md: 3 }}>\r\n                <Stack direction={{ xs: 'column', md: 'row' }} spacing={2}>\r\n                  <TextField fullWidth label=\"Name\" {...getFieldProps('displayName')} />\r\n                  <TextField fullWidth disabled label=\"Email Address\" {...getFieldProps('email')} />\r\n                </Stack>\r\n\r\n                <Stack direction={{ xs: 'column', md: 'row' }} spacing={2}>\r\n                  <TextField fullWidth label=\"Phone Number\" {...getFieldProps('phoneNumber')} />\r\n                  <TextField fullWidth label=\"Address\" {...getFieldProps('address')} />\r\n                </Stack>\r\n\r\n                <Stack direction={{ xs: 'column', md: 'row' }} spacing={2}>\r\n                  <TextField\r\n                    select\r\n                    fullWidth\r\n                    label=\"Country\"\r\n                    placeholder=\"Country\"\r\n                    {...getFieldProps('country')}\r\n                    SelectProps={{ native: true }}\r\n                    error={Boolean(touched.country && errors.country)}\r\n                    helperText={touched.country && errors.country}\r\n                  >\r\n                    <option value=\"\" />\r\n                    {countries.map((option) => (\r\n                      <option key={option.code} value={option.label}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </TextField>\r\n                  <TextField fullWidth label=\"State/Region\" {...getFieldProps('state')} />\r\n                </Stack>\r\n\r\n                <Stack direction={{ xs: 'column', md: 'row' }} spacing={2}>\r\n                  <TextField fullWidth label=\"City\" {...getFieldProps('city')} />\r\n                  <TextField fullWidth label=\"Zip/Code\" {...getFieldProps('zipCode')} />\r\n                </Stack>\r\n\r\n                <TextField {...getFieldProps('about')} fullWidth multiline minRows={4} maxRows={4} label=\"About\" />\r\n              </Stack>\r\n\r\n              <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\r\n                <LoadingButton type=\"submit\" variant=\"contained\" loading={isSubmitting}>\r\n                  Save Changes\r\n                </LoadingButton>\r\n              </Box>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Form>\r\n    </FormikProvider>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}