{"ast":null,"code":"import _regeneratorRuntime from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{map,filter}from'lodash';import{createSlice}from'@reduxjs/toolkit';// utils\nimport axios from'../../utils/axios';var initialState={isLoading:false,error:false,settings:[],settingsList:[]};var slice=createSlice({name:'settings',initialState:initialState,reducers:{// START LOADING\nstartLoading:function startLoading(state){state.isLoading=true;},// HAS ERROR\nhasError:function hasError(state,action){state.isLoading=false;state.error=action.payload;},// GET Settings\ngetSettingsSuccess:function getSettingsSuccess(state,action){state.isLoading=false;state.settingsList=action.payload;},// DELETE Setting\ndeleteSetting:function deleteSetting(state,action){var deleteSetting=filter(state.settingsList,function(setting){return setting._id!==action.payload;});state.settingsList=deleteSetting;}}});// Reducer\nexport default slice.reducer;// Actions\nvar deleteSetting=slice.actions.deleteSetting;// ----------------------------------------------------------------------\nexport{deleteSetting};export function getSettingsList(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(slice.actions.startLoading());_context.prev=1;_context.next=4;return axios.get('/settings');case 4:response=_context.sent;// console.log(response.data.settings);\ndispatch(slice.actions.getSettingsSuccess(response.data.settings));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(slice.actions.hasError(_context.t0));case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();}// ----------------------------------------------------------------------","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/redux/slices/settings.js"],"names":["map","filter","createSlice","axios","initialState","isLoading","error","settings","settingsList","slice","name","reducers","startLoading","state","hasError","action","payload","getSettingsSuccess","deleteSetting","setting","_id","reducer","actions","getSettingsList","dispatch","get","response","data"],"mappings":"2UAAA,OAASA,GAAT,CAAcC,MAAd,KAA4B,QAA5B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,SAAS,CAAE,KADQ,CAEnBC,KAAK,CAAE,KAFY,CAGnBC,QAAQ,CAAE,EAHS,CAInBC,YAAY,CAAE,EAJK,CAArB,CAOA,GAAMC,CAAAA,KAAK,CAAGP,WAAW,CAAC,CACxBQ,IAAI,CAAE,UADkB,CAExBN,YAAY,CAAZA,YAFwB,CAGxBO,QAAQ,CAAE,CACR;AACAC,YAFQ,uBAEKC,KAFL,CAEY,CAClBA,KAAK,CAACR,SAAN,CAAkB,IAAlB,CACD,CAJO,CAKR;AACAS,QANQ,mBAMCD,KAND,CAMQE,MANR,CAMgB,CACtBF,KAAK,CAACR,SAAN,CAAkB,KAAlB,CACAQ,KAAK,CAACP,KAAN,CAAcS,MAAM,CAACC,OAArB,CACD,CATO,CAUR;AACAC,kBAXQ,6BAWWJ,KAXX,CAWkBE,MAXlB,CAW0B,CAChCF,KAAK,CAACR,SAAN,CAAkB,KAAlB,CACAQ,KAAK,CAACL,YAAN,CAAqBO,MAAM,CAACC,OAA5B,CACD,CAdO,CAeR;AACAE,aAhBQ,wBAgBML,KAhBN,CAgBaE,MAhBb,CAgBqB,CAC3B,GAAMG,CAAAA,aAAa,CAAGjB,MAAM,CAACY,KAAK,CAACL,YAAP,CAAqB,SAACW,OAAD,QAAaA,CAAAA,OAAO,CAACC,GAAR,GAAgBL,MAAM,CAACC,OAApC,EAArB,CAA5B,CACAH,KAAK,CAACL,YAAN,CAAqBU,aAArB,CACD,CAnBO,CAHc,CAAD,CAAzB,CA0BA;AACA,cAAeT,CAAAA,KAAK,CAACY,OAArB,CACA;AACO,GAAQH,CAAAA,aAAR,CAA0BT,KAAK,CAACa,OAAhC,CAAQJ,aAAR,CAEP;sBAEA,MAAO,SAASK,CAAAA,eAAT,EAA2B,CAChC,+FAAO,iBAAOC,QAAP,+HACLA,QAAQ,CAACf,KAAK,CAACa,OAAN,CAAcV,YAAd,EAAD,CAAR,CADK,sCAGoBT,CAAAA,KAAK,CAACsB,GAAN,CAAU,WAAV,CAHpB,QAGGC,QAHH,eAIH;AACAF,QAAQ,CAACf,KAAK,CAACa,OAAN,CAAcL,kBAAd,CAAiCS,QAAQ,CAACC,IAAT,CAAcpB,QAA/C,CAAD,CAAR,CALG,+EAOHiB,QAAQ,CAACf,KAAK,CAACa,OAAN,CAAcR,QAAd,aAAD,CAAR,CAPG,oEAAP,+DAUD,CAED","sourcesContent":["import { map, filter } from 'lodash';\r\nimport { createSlice } from '@reduxjs/toolkit';\r\n// utils\r\nimport axios from '../../utils/axios';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  error: false,\r\n  settings: [],\r\n  settingsList: []\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: 'settings',\r\n  initialState,\r\n  reducers: {\r\n    // START LOADING\r\n    startLoading(state) {\r\n      state.isLoading = true;\r\n    },\r\n    // HAS ERROR\r\n    hasError(state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n    // GET Settings\r\n    getSettingsSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.settingsList = action.payload;\r\n    },\r\n    // DELETE Setting\r\n    deleteSetting(state, action) {\r\n      const deleteSetting = filter(state.settingsList, (setting) => setting._id !== action.payload);\r\n      state.settingsList = deleteSetting;\r\n    }\r\n  }\r\n});\r\n\r\n// Reducer\r\nexport default slice.reducer;\r\n// Actions\r\nexport const { deleteSetting } = slice.actions;\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getSettingsList() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/settings');\r\n      // console.log(response.data.settings);\r\n      dispatch(slice.actions.getSettingsSuccess(response.data.settings));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n"]},"metadata":{},"sourceType":"module"}