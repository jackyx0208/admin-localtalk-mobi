{"ast":null,"code":"import _objectSpread from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import*as Yup from'yup';import{useCallback,useState,useEffect}from'react';import{useSnackbar}from'notistack5';import{useNavigate}from'react-router-dom';import{Form,FormikProvider,useFormik}from'formik';// material\nimport{LoadingButton}from'@material-ui/lab';import{Box,Card,Grid,Stack,Switch,TextField,Typography,FormHelperText,FormControlLabel}from'@material-ui/core';// utils\nimport axios from'../../../utils/axios';import{fData}from'../../../utils/formatNumber';import fakeRequest from'../../../utils/fakeRequest';// routes\nimport{PATH_DASHBOARD}from'../../../routes/paths';//\nimport Label from'../../Label';import{UploadAvatar}from'../../upload';import countries from'./countries';import useAuth from'../../../hooks/useAuth';import ConfirmDialog from'../../ConfirmDialog';import{serverConfig}from'../../../config';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function UserNewForm(_ref){var isEdit=_ref.isEdit,currentUser=_ref.currentUser;var navigate=useNavigate();var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useAuth=useAuth(),user=_useAuth.user;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openDeleteConfirm=_useState2[0],setOpenDeleteConfirm=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),avatarImage=_useState4[0],setAvatarImage=_useState4[1];var handleCloseDeleteConfirm=function handleCloseDeleteConfirm(){setOpenDeleteConfirm(false);};var onDeleteUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(currentUser._id!==user._id){setOpenDeleteConfirm(true);}else{enqueueSnackbar(\"You can't delete this user you logged in\",{variant:'warning'});}case 1:case\"end\":return _context.stop();}}},_callee);}));return function onDeleteUser(){return _ref2.apply(this,arguments);};}();var handleDeleteUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(currentUser._id!==user._id)){_context2.next=4;break;}_context2.next=3;return axios.delete(\"user/delete/\".concat(currentUser._id));case 3:navigate(PATH_DASHBOARD.user.list);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDeleteUser(){return _ref3.apply(this,arguments);};}();var currencies=[{value:'USD',label:'$'},{value:'EUR',label:'€'},{value:'BTC',label:'฿'},{value:'JPY',label:'¥'}];var NewUserSchema=null;if(!isEdit){NewUserSchema=Yup.object().shape({// name: Yup.string().required('Name is required'),\nemail:Yup.string().required('Email is required').email(),password:Yup.string().required('Password is required'),gender:Yup.string().required('Gender is required'),role:Yup.string().required('Role is required')// coverage: Yup.string().required('Coverage is required'),\n// address: Yup.string().required('Address is required'),\n// phoneNumber: Yup.string().required('Phone number is required'),\n// country: Yup.string().required('country is required'),\n// state: Yup.string().required('State is required'),\n// city: Yup.string().required('City is required')\n});}else{NewUserSchema=Yup.object().shape({// name: Yup.string().required('Name is required'),\nemail:Yup.string().required('Email is required').email(),password:Yup.string().required('Password is required'),gender:Yup.string().required('Gender is required')// role: Yup.string().required('Role is required'),\n// coverage: Yup.string().required('Coverage is required'),\n// address: Yup.string().required('Address is required'),\n// phoneNumber: Yup.string().required('Phone number is required'),\n});}var formik=useFormik({enableReinitialize:true,initialValues:{name:(currentUser===null||currentUser===void 0?void 0:currentUser.name)||'',email:(currentUser===null||currentUser===void 0?void 0:currentUser.email)||'',password:(currentUser===null||currentUser===void 0?void 0:currentUser.originPassword)||'',gender:currentUser&&currentUser.gender>-1?currentUser.gender:'',role:(currentUser===null||currentUser===void 0?void 0:currentUser.role)||'',balance:(currentUser===null||currentUser===void 0?void 0:currentUser.balance)||0,balanceCurrency:(currentUser===null||currentUser===void 0?void 0:currentUser.balanceCurrency)||'$',punishment:(currentUser===null||currentUser===void 0?void 0:currentUser.punishment)||0,fixedLocation:(currentUser===null||currentUser===void 0?void 0:currentUser.fixedLocation)||'',phoneNumber:(currentUser===null||currentUser===void 0?void 0:currentUser.phoneNumber)||'',address:(currentUser===null||currentUser===void 0?void 0:currentUser.address)||'',country:(currentUser===null||currentUser===void 0?void 0:currentUser.country)||'',state:(currentUser===null||currentUser===void 0?void 0:currentUser.state)||'',city:(currentUser===null||currentUser===void 0?void 0:currentUser.city)||'',zipCode:(currentUser===null||currentUser===void 0?void 0:currentUser.zipCode)||'',avatarUrl:currentUser&&\"\".concat(serverConfig.baseUrl,\"/user/img-src/\").concat(currentUser.avatarUrl)||null,isVerified:(currentUser===null||currentUser===void 0?void 0:currentUser.isVerified)||true,status:currentUser===null||currentUser===void 0?void 0:currentUser.status,username:(currentUser===null||currentUser===void 0?void 0:currentUser.username)||'',note:(currentUser===null||currentUser===void 0?void 0:currentUser.note)||''},validationSchema:NewUserSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(values,_ref4){var setSubmitting,resetForm,setErrors;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setSubmitting=_ref4.setSubmitting,resetForm=_ref4.resetForm,setErrors=_ref4.setErrors;_context3.prev=1;_context3.next=4;return fakeRequest(500);case 4:if(isEdit){_context3.next=10;break;}if(!values.isVerified){enqueueSnackbar('The system sends an email to your email address, please click the link in the email to finish verification, thank you.',{variant:'info',delay:3000});}_context3.next=8;return axios.post('/user/create',values);case 8:_context3.next=12;break;case 10:_context3.next=12;return axios.post(\"/user/update/\".concat(currentUser._id),values);case 12:if(!avatarImage){_context3.next=15;break;}_context3.next=15;return axios.post(\"/user/img/\".concat(currentUser._id),avatarImage);case 15:resetForm();setSubmitting(false);enqueueSnackbar(!isEdit?'Create success':'Update success',{variant:'success'});navigate(PATH_DASHBOARD.user.list);_context3.next=27;break;case 21:_context3.prev=21;_context3.t0=_context3[\"catch\"](1);console.error(_context3.t0);enqueueSnackbar(_context3.t0.message,{variant:'error'});setSubmitting(false);setErrors(_context3.t0);case 27:case\"end\":return _context3.stop();}}},_callee3,null,[[1,21]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var handleAbort=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:navigate(PATH_DASHBOARD.user.list);case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function handleAbort(){return _ref5.apply(this,arguments);};}();var errors=formik.errors,values=formik.values,touched=formik.touched,handleSubmit=formik.handleSubmit,isSubmitting=formik.isSubmitting,setFieldValue=formik.setFieldValue,getFieldProps=formik.getFieldProps;var handleDrop=useCallback(function(acceptedFiles){var file=acceptedFiles[0];if(file){var formData=new FormData();formData.append('img',file,file.name);setAvatarImage(formData);setFieldValue('avatarUrl',_objectSpread(_objectSpread({},file),{},{preview:URL.createObjectURL(file)}));}},[setFieldValue]);var handleChangeEmail=useCallback(function(event){var emailValue=event.target.value;setFieldValue('email',emailValue);var currentName=getFieldProps('name').value;if(currentName.trim()===''){var nameInd=emailValue.indexOf('@');if(nameInd!==-1){setFieldValue('name',emailValue.slice(0,nameInd));}}});return/*#__PURE__*/_jsxs(FormikProvider,{value:formik,children:[/*#__PURE__*/_jsx(Form,{noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{py:10,px:3},children:[isEdit&&/*#__PURE__*/_jsx(Label,{color:values.status!=='active'?'error':'success',sx:{textTransform:'uppercase',position:'absolute',top:24,right:24},children:values.status}),isEdit&&/*#__PURE__*/_jsxs(Box,{sx:{mb:5},children:[/*#__PURE__*/_jsx(UploadAvatar,{accept:\"image/*\",file:values.avatarUrl,maxSize:3145728,onDrop:handleDrop,error:Boolean(touched.avatarUrl&&errors.avatarUrl),caption:/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{mt:2,mx:'auto',display:'block',textAlign:'center',color:'text.secondary'},children:[\"Allowed *.jpeg, *.jpg, *.png, *.gif\",/*#__PURE__*/_jsx(\"br\",{}),\" max size of \",fData(3145728)]})}),/*#__PURE__*/_jsx(FormHelperText,{error:true,sx:{px:2,textAlign:'center'},children:touched.avatarUrl&&errors.avatarUrl})]}),isEdit&&/*#__PURE__*/_jsx(FormControlLabel,{labelPlacement:\"start\",control:/*#__PURE__*/_jsx(Switch,{onChange:function onChange(event){return setFieldValue('status',event.target.checked?'banned':'active');},checked:values.status!=='active'}),label:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{mb:0.5},children:\"Banned\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{color:'text.secondary'},children:\"Apply disable account\"})]}),sx:{mx:0,mb:3,width:1,justifyContent:'space-between'}}),/*#__PURE__*/_jsx(FormControlLabel,{labelPlacement:\"start\",control:/*#__PURE__*/_jsx(Switch,_objectSpread(_objectSpread({},getFieldProps('isVerified')),{},{checked:values.isVerified})),label:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{mb:0.5},children:\"Email Verified\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{color:'text.secondary'},children:\"Disabling this will automatically send the user a verification email\"})]}),sx:{mx:0,width:1,justifyContent:'space-between'}})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsx(Card,{sx:{p:3},children:/*#__PURE__*/_jsxs(Stack,{spacing:3,children:[/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,label:\"Email Address\"},getFieldProps('email')),{},{error:Boolean(touched.email&&errors.email),helperText:touched.email&&errors.email,onChange:handleChangeEmail})),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,label:\"NickName\"},getFieldProps('name')),{},{error:Boolean(touched.name&&errors.name),helperText:touched.name&&errors.name}))]}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(TextField// type=\"password\"\n,_objectSpread(_objectSpread({fullWidth:true,label:\"Password\"},getFieldProps('password')),{},{error:Boolean(touched.password&&errors.password),helperText:touched.password&&errors.password})),/*#__PURE__*/_jsxs(TextField,_objectSpread(_objectSpread({select:true,fullWidth:true,label:\"Gender\"},getFieldProps('gender')),{},{SelectProps:{native:true},error:Boolean(touched.gender&&errors.gender),helperText:touched.gender&&errors.gender,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Male\"},\"male\"),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Female\"},\"female\"),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Business\"},\"business\")]}))]}),!isEdit&&/*#__PURE__*/_jsx(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:/*#__PURE__*/_jsxs(TextField,_objectSpread(_objectSpread({select:true,fullWidth:true,label:\"Role\"},getFieldProps('role')),{},{SelectProps:{native:true},error:Boolean(touched.role&&errors.role),helperText:touched.role&&errors.role,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\"}),/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"user\"},\"user\"),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"admin\"},\"admin\")]}))}),isEdit&&/*#__PURE__*/_jsx(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,label:\"Fixed Location\"},getFieldProps('fixedLocation')),{},{error:Boolean(touched.fixedLocation&&errors.fixedLocation),helperText:touched.fixedLocation&&errors.fixedLocation}))}),/*#__PURE__*/_jsx(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,label:\"Note\",multiline:true,minRows:4,maxRows:4},getFieldProps('note')),{},{error:Boolean(touched.note&&errors.note),helperText:touched.note&&errors.note}))}),isEdit&&/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"Balance: \\xA0\\xA0\\xA0\"}),/*#__PURE__*/_jsx(TextField// select\n,_objectSpread(_objectSpread({variant:\"standard\",style:{width:100}},getFieldProps('balanceCurrency')),{},{// SelectProps={{ native: true }}\nerror:Boolean(touched.balanceCurrency&&errors.balanceCurrency),helperText:touched.balanceCurrency&&errors.balanceCurrency})),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({variant:\"standard\",style:{width:100},inputProps:{inputMode:'numeric',pattern:'[0-9]*'}},getFieldProps('balance')),{},{error:Boolean(touched.balance&&errors.balance),helperText:touched.balance&&errors.balance}))]}),isEdit&&/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"Punishment: \\xA0\\xA0\\xA0 banned from talking,\"}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({variant:\"standard\",style:{width:50},inputProps:{inputMode:'numeric',pattern:'[0-9]*'}},getFieldProps('punishment')),{},{error:Boolean(touched.punishment&&errors.punishment),helperText:touched.punishment&&errors.punishment})),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"hours remaining\"})]}),/*#__PURE__*/_jsx(Box,{sx:{mt:3,display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[isEdit&&/*#__PURE__*/_jsx(LoadingButton,{type:\"button\",color:\"error\",variant:\"contained\",onClick:onDeleteUser,children:\"Delete This User\"}),/*#__PURE__*/_jsx(LoadingButton,{type:\"submit\",variant:\"contained\",loading:isSubmitting,children:!isEdit?'Create User':'Save Changes'}),/*#__PURE__*/_jsx(LoadingButton,{type:\"button\",color:\"warning\",variant:\"contained\",onClick:handleAbort,children:\"Abort\"})]})})]})})})]})}),openDeleteConfirm&&/*#__PURE__*/_jsx(ConfirmDialog,{message:\"Are you sure you are going to delete this user?\",onConfirm:handleDeleteUser,onClose:handleCloseDeleteConfirm})]});}","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/components/_dashboard/user/UserNewForm.js"],"names":["Yup","useCallback","useState","useEffect","useSnackbar","useNavigate","Form","FormikProvider","useFormik","LoadingButton","Box","Card","Grid","Stack","Switch","TextField","Typography","FormHelperText","FormControlLabel","axios","fData","fakeRequest","PATH_DASHBOARD","Label","UploadAvatar","countries","useAuth","ConfirmDialog","serverConfig","UserNewForm","isEdit","currentUser","navigate","enqueueSnackbar","user","openDeleteConfirm","setOpenDeleteConfirm","avatarImage","setAvatarImage","handleCloseDeleteConfirm","onDeleteUser","_id","variant","handleDeleteUser","delete","list","currencies","value","label","NewUserSchema","object","shape","email","string","required","password","gender","role","formik","enableReinitialize","initialValues","name","originPassword","balance","balanceCurrency","punishment","fixedLocation","phoneNumber","address","country","state","city","zipCode","avatarUrl","baseUrl","isVerified","status","username","note","validationSchema","onSubmit","values","setSubmitting","resetForm","setErrors","delay","post","console","error","message","handleAbort","errors","touched","handleSubmit","isSubmitting","setFieldValue","getFieldProps","handleDrop","acceptedFiles","file","formData","FormData","append","preview","URL","createObjectURL","handleChangeEmail","event","emailValue","target","currentName","trim","nameInd","indexOf","slice","py","px","textTransform","position","top","right","mb","Boolean","mt","mx","display","textAlign","color","checked","width","justifyContent","p","xs","sm","native","lineHeight","inputMode","pattern"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\r\nimport PropTypes from 'prop-types';\r\nimport { useCallback, useState, useEffect } from 'react';\r\nimport { useSnackbar } from 'notistack5';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Form, FormikProvider, useFormik } from 'formik';\r\n// material\r\nimport { LoadingButton } from '@material-ui/lab';\r\nimport {\r\n  Box,\r\n  Card,\r\n  Grid,\r\n  Stack,\r\n  Switch,\r\n  TextField,\r\n  Typography,\r\n  FormHelperText,\r\n  FormControlLabel\r\n} from '@material-ui/core';\r\n// utils\r\nimport axios from '../../../utils/axios';\r\nimport { fData } from '../../../utils/formatNumber';\r\nimport fakeRequest from '../../../utils/fakeRequest';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../../routes/paths';\r\n//\r\nimport Label from '../../Label';\r\nimport { UploadAvatar } from '../../upload';\r\nimport countries from './countries';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport ConfirmDialog from '../../ConfirmDialog';\r\nimport { serverConfig } from '../../../config';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nUserNewForm.propTypes = {\r\n  isEdit: PropTypes.bool,\r\n  currentUser: PropTypes.object\r\n};\r\n\r\nexport default function UserNewForm({ isEdit, currentUser }) {\r\n  const navigate = useNavigate();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const { user } = useAuth();\r\n  const [openDeleteConfirm, setOpenDeleteConfirm] = useState(false);\r\n  const [avatarImage, setAvatarImage] = useState(null);\r\n\r\n  const handleCloseDeleteConfirm = () => {\r\n    setOpenDeleteConfirm(false);\r\n  };\r\n\r\n  const onDeleteUser = async () => {\r\n    if (currentUser._id !== user._id) {\r\n      setOpenDeleteConfirm(true);\r\n    } else {\r\n      enqueueSnackbar(\"You can't delete this user you logged in\", { variant: 'warning' });\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async () => {\r\n    if (currentUser._id !== user._id) {\r\n      await axios.delete(`user/delete/${currentUser._id}`);\r\n      navigate(PATH_DASHBOARD.user.list);\r\n    }\r\n  };\r\n\r\n  const currencies = [\r\n    {\r\n      value: 'USD',\r\n      label: '$'\r\n    },\r\n    {\r\n      value: 'EUR',\r\n      label: '€'\r\n    },\r\n    {\r\n      value: 'BTC',\r\n      label: '฿'\r\n    },\r\n    {\r\n      value: 'JPY',\r\n      label: '¥'\r\n    }\r\n  ];\r\n\r\n  let NewUserSchema = null;\r\n\r\n  if (!isEdit) {\r\n    NewUserSchema = Yup.object().shape({\r\n      // name: Yup.string().required('Name is required'),\r\n      email: Yup.string().required('Email is required').email(),\r\n      password: Yup.string().required('Password is required'),\r\n      gender: Yup.string().required('Gender is required'),\r\n      role: Yup.string().required('Role is required')\r\n      // coverage: Yup.string().required('Coverage is required'),\r\n      // address: Yup.string().required('Address is required'),\r\n      // phoneNumber: Yup.string().required('Phone number is required'),\r\n      // country: Yup.string().required('country is required'),\r\n      // state: Yup.string().required('State is required'),\r\n      // city: Yup.string().required('City is required')\r\n    });\r\n  } else {\r\n    NewUserSchema = Yup.object().shape({\r\n      // name: Yup.string().required('Name is required'),\r\n      email: Yup.string().required('Email is required').email(),\r\n      password: Yup.string().required('Password is required'),\r\n      gender: Yup.string().required('Gender is required')\r\n      // role: Yup.string().required('Role is required'),\r\n      // coverage: Yup.string().required('Coverage is required'),\r\n      // address: Yup.string().required('Address is required'),\r\n      // phoneNumber: Yup.string().required('Phone number is required'),\r\n    });\r\n  }\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      name: currentUser?.name || '',\r\n      email: currentUser?.email || '',\r\n      password: currentUser?.originPassword || '',\r\n      gender: currentUser && currentUser.gender > -1 ? currentUser.gender : '',\r\n      role: currentUser?.role || '',\r\n      balance: currentUser?.balance || 0,\r\n      balanceCurrency: currentUser?.balanceCurrency || '$',\r\n      punishment: currentUser?.punishment || 0,\r\n      fixedLocation: currentUser?.fixedLocation || '',\r\n      phoneNumber: currentUser?.phoneNumber || '',\r\n      address: currentUser?.address || '',\r\n      country: currentUser?.country || '',\r\n      state: currentUser?.state || '',\r\n      city: currentUser?.city || '',\r\n      zipCode: currentUser?.zipCode || '',\r\n      avatarUrl: (currentUser && `${serverConfig.baseUrl}/user/img-src/${currentUser.avatarUrl}`) || null,\r\n      isVerified: currentUser?.isVerified || true,\r\n      status: currentUser?.status,\r\n      username: currentUser?.username || '',\r\n      note: currentUser?.note || ''\r\n    },\r\n    validationSchema: NewUserSchema,\r\n    onSubmit: async (values, { setSubmitting, resetForm, setErrors }) => {\r\n      try {\r\n        await fakeRequest(500);\r\n\r\n        if (!isEdit) {\r\n          if (!values.isVerified) {\r\n            enqueueSnackbar(\r\n              'The system sends an email to your email address, please click the link in the email to finish verification, thank you.',\r\n              { variant: 'info', delay: 3000 }\r\n            );\r\n          }\r\n          await axios.post('/user/create', values);\r\n        } else {\r\n          await axios.post(`/user/update/${currentUser._id}`, values);\r\n        }\r\n\r\n        if (avatarImage) {\r\n          await axios.post(`/user/img/${currentUser._id}`, avatarImage);\r\n        }\r\n\r\n        resetForm();\r\n        setSubmitting(false);\r\n        enqueueSnackbar(!isEdit ? 'Create success' : 'Update success', { variant: 'success' });\r\n        navigate(PATH_DASHBOARD.user.list);\r\n      } catch (error) {\r\n        console.error(error);\r\n        enqueueSnackbar(error.message, { variant: 'error' });\r\n        setSubmitting(false);\r\n        setErrors(error);\r\n      }\r\n    }\r\n  });\r\n\r\n  const handleAbort = async () => {\r\n    navigate(PATH_DASHBOARD.user.list);\r\n  };\r\n\r\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\r\n\r\n  const handleDrop = useCallback(\r\n    (acceptedFiles) => {\r\n      const file = acceptedFiles[0];\r\n      if (file) {\r\n        const formData = new FormData();\r\n        formData.append('img', file, file.name);\r\n        setAvatarImage(formData);\r\n        setFieldValue('avatarUrl', {\r\n          ...file,\r\n          preview: URL.createObjectURL(file)\r\n        });\r\n      }\r\n    },\r\n    [setFieldValue]\r\n  );\r\n\r\n  const handleChangeEmail = useCallback((event) => {\r\n    const emailValue = event.target.value;\r\n    setFieldValue('email', emailValue);\r\n    const currentName = getFieldProps('name').value;\r\n    if (currentName.trim() === '') {\r\n      const nameInd = emailValue.indexOf('@');\r\n      if (nameInd !== -1) {\r\n        setFieldValue('name', emailValue.slice(0, nameInd));\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <FormikProvider value={formik}>\r\n      <Form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} md={4}>\r\n            <Card sx={{ py: 10, px: 3 }}>\r\n              {isEdit && (\r\n                <Label\r\n                  color={values.status !== 'active' ? 'error' : 'success'}\r\n                  sx={{ textTransform: 'uppercase', position: 'absolute', top: 24, right: 24 }}\r\n                >\r\n                  {values.status}\r\n                </Label>\r\n              )}\r\n\r\n              {isEdit && (\r\n                <Box sx={{ mb: 5 }}>\r\n                  <UploadAvatar\r\n                    accept=\"image/*\"\r\n                    file={values.avatarUrl}\r\n                    maxSize={3145728}\r\n                    onDrop={handleDrop}\r\n                    error={Boolean(touched.avatarUrl && errors.avatarUrl)}\r\n                    caption={\r\n                      <Typography\r\n                        variant=\"caption\"\r\n                        sx={{\r\n                          mt: 2,\r\n                          mx: 'auto',\r\n                          display: 'block',\r\n                          textAlign: 'center',\r\n                          color: 'text.secondary'\r\n                        }}\r\n                      >\r\n                        Allowed *.jpeg, *.jpg, *.png, *.gif\r\n                        <br /> max size of {fData(3145728)}\r\n                      </Typography>\r\n                    }\r\n                  />\r\n                  <FormHelperText error sx={{ px: 2, textAlign: 'center' }}>\r\n                    {touched.avatarUrl && errors.avatarUrl}\r\n                  </FormHelperText>\r\n                </Box>\r\n              )}\r\n\r\n              {isEdit && (\r\n                <FormControlLabel\r\n                  labelPlacement=\"start\"\r\n                  control={\r\n                    <Switch\r\n                      onChange={(event) => setFieldValue('status', event.target.checked ? 'banned' : 'active')}\r\n                      checked={values.status !== 'active'}\r\n                    />\r\n                  }\r\n                  label={\r\n                    <>\r\n                      <Typography variant=\"subtitle2\" sx={{ mb: 0.5 }}>\r\n                        Banned\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n                        Apply disable account\r\n                      </Typography>\r\n                    </>\r\n                  }\r\n                  sx={{ mx: 0, mb: 3, width: 1, justifyContent: 'space-between' }}\r\n                />\r\n              )}\r\n\r\n              <FormControlLabel\r\n                labelPlacement=\"start\"\r\n                control={<Switch {...getFieldProps('isVerified')} checked={values.isVerified} />}\r\n                label={\r\n                  <>\r\n                    <Typography variant=\"subtitle2\" sx={{ mb: 0.5 }}>\r\n                      Email Verified\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n                      Disabling this will automatically send the user a verification email\r\n                    </Typography>\r\n                  </>\r\n                }\r\n                sx={{ mx: 0, width: 1, justifyContent: 'space-between' }}\r\n              />\r\n            </Card>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} md={8}>\r\n            <Card sx={{ p: 3 }}>\r\n              <Stack spacing={3}>\r\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Email Address\"\r\n                    {...getFieldProps('email')}\r\n                    error={Boolean(touched.email && errors.email)}\r\n                    helperText={touched.email && errors.email}\r\n                    onChange={handleChangeEmail}\r\n                  />\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"NickName\"\r\n                    {...getFieldProps('name')}\r\n                    error={Boolean(touched.name && errors.name)}\r\n                    helperText={touched.name && errors.name}\r\n                  />\r\n                </Stack>\r\n\r\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    // type=\"password\"\r\n                    fullWidth\r\n                    label=\"Password\"\r\n                    {...getFieldProps('password')}\r\n                    error={Boolean(touched.password && errors.password)}\r\n                    helperText={touched.password && errors.password}\r\n                  />\r\n                  <TextField\r\n                    select\r\n                    fullWidth\r\n                    label=\"Gender\"\r\n                    {...getFieldProps('gender')}\r\n                    SelectProps={{ native: true }}\r\n                    error={Boolean(touched.gender && errors.gender)}\r\n                    helperText={touched.gender && errors.gender}\r\n                  >\r\n                    <option value=\"\" />\r\n                    <option key=\"male\" value=\"0\">\r\n                      Male\r\n                    </option>\r\n                    <option key=\"female\" value=\"1\">\r\n                      Female\r\n                    </option>\r\n                    <option key=\"business\" value=\"2\">\r\n                      Business\r\n                    </option>\r\n                  </TextField>\r\n                </Stack>\r\n\r\n                {!isEdit && (\r\n                  <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                    <TextField\r\n                      select\r\n                      fullWidth\r\n                      label=\"Role\"\r\n                      {...getFieldProps('role')}\r\n                      SelectProps={{ native: true }}\r\n                      error={Boolean(touched.role && errors.role)}\r\n                      helperText={touched.role && errors.role}\r\n                    >\r\n                      <option value=\"\" />\r\n                      <option key=\"user\" value=\"user\">\r\n                        user\r\n                      </option>\r\n                      <option key=\"admin\" value=\"admin\">\r\n                        admin\r\n                      </option>\r\n                    </TextField>\r\n                    {/* {isEdit && (\r\n                      <TextField\r\n                        fullWidth\r\n                        inputProps={{ inputMode: 'numeric', pattern: '[0-9]*' }}\r\n                        label=\"Coverage\"\r\n                        {...getFieldProps('coverage')}\r\n                        error={Boolean(touched.coverage && errors.coverage)}\r\n                        helperText={touched.coverage && errors.coverage}\r\n                      />\r\n                    )} */}\r\n                  </Stack>\r\n                )}\r\n\r\n                {/* <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Phone Number\"\r\n                    {...getFieldProps('phoneNumber')}\r\n                    error={Boolean(touched.phoneNumber && errors.phoneNumber)}\r\n                    helperText={touched.phoneNumber && errors.phoneNumber}\r\n                  />\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Address\"\r\n                    {...getFieldProps('address')}\r\n                    error={Boolean(touched.address && errors.address)}\r\n                    helperText={touched.address && errors.address}\r\n                  />\r\n                </Stack> */}\r\n\r\n                {/* <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Location\"\r\n                    {...getFieldProps('address')}\r\n                    error={Boolean(touched.address && errors.address)}\r\n                    helperText={touched.address && errors.address}\r\n                  />\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Latitude and longitude\"\r\n                    {...getFieldProps('location')}\r\n                    error={Boolean(touched.location && errors.location)}\r\n                    helperText={touched.location && errors.location}\r\n                  />\r\n                </Stack> */}\r\n\r\n                {isEdit && (\r\n                  <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Fixed Location\"\r\n                      {...getFieldProps('fixedLocation')}\r\n                      error={Boolean(touched.fixedLocation && errors.fixedLocation)}\r\n                      helperText={touched.fixedLocation && errors.fixedLocation}\r\n                    />\r\n                  </Stack>\r\n                )}\r\n\r\n                {/* <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    select\r\n                    fullWidth\r\n                    label=\"Country\"\r\n                    placeholder=\"Country\"\r\n                    {...getFieldProps('country')}\r\n                    SelectProps={{ native: true }}\r\n                    error={Boolean(touched.country && errors.country)}\r\n                    helperText={touched.country && errors.country}\r\n                  >\r\n                    <option value=\"\" />\r\n                    {countries.map((option) => (\r\n                      <option key={option.code} value={option.label}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </TextField>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"State/Region\"\r\n                    {...getFieldProps('state')}\r\n                    error={Boolean(touched.state && errors.state)}\r\n                    helperText={touched.state && errors.state}\r\n                  />\r\n                </Stack> */}\r\n\r\n                {/* <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"City\"\r\n                    {...getFieldProps('city')}\r\n                    error={Boolean(touched.city && errors.city)}\r\n                    helperText={touched.city && errors.city}\r\n                  />\r\n                  <TextField fullWidth label=\"Zip/Code\" {...getFieldProps('zipCode')} />\r\n                </Stack> */}\r\n\r\n                {/* <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Username\"\r\n                    {...getFieldProps('username')}\r\n                    error={Boolean(touched.username && errors.username)}\r\n                    helperText={touched.username && errors.username}\r\n                  />\r\n                </Stack> */}\r\n\r\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Note\"\r\n                    multiline\r\n                    minRows={4}\r\n                    maxRows={4}\r\n                    {...getFieldProps('note')}\r\n                    error={Boolean(touched.note && errors.note)}\r\n                    helperText={touched.note && errors.note}\r\n                  />\r\n                </Stack>\r\n\r\n                {isEdit && (\r\n                  <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                    <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                      Balance: &nbsp;&nbsp;&nbsp;\r\n                    </Typography>\r\n                    <TextField\r\n                      // select\r\n                      variant=\"standard\"\r\n                      style={{ width: 100 }}\r\n                      {...getFieldProps('balanceCurrency')}\r\n                      // SelectProps={{ native: true }}\r\n                      error={Boolean(touched.balanceCurrency && errors.balanceCurrency)}\r\n                      helperText={touched.balanceCurrency && errors.balanceCurrency}\r\n                    >\r\n                      {/* {currencies.map((option) => (\r\n                        <option key={option.value} value={option.value}>\r\n                          {option.label}\r\n                        </option>\r\n                      ))} */}\r\n                    </TextField>\r\n                    <TextField\r\n                      variant=\"standard\"\r\n                      style={{ width: 100 }}\r\n                      inputProps={{ inputMode: 'numeric', pattern: '[0-9]*' }}\r\n                      {...getFieldProps('balance')}\r\n                      error={Boolean(touched.balance && errors.balance)}\r\n                      helperText={touched.balance && errors.balance}\r\n                    />\r\n                  </Stack>\r\n                )}\r\n\r\n                {isEdit && (\r\n                  <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                    <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                      Punishment: &nbsp;&nbsp;&nbsp; banned from talking,\r\n                    </Typography>\r\n                    <TextField\r\n                      variant=\"standard\"\r\n                      style={{ width: 50 }}\r\n                      inputProps={{ inputMode: 'numeric', pattern: '[0-9]*' }}\r\n                      {...getFieldProps('punishment')}\r\n                      error={Boolean(touched.punishment && errors.punishment)}\r\n                      helperText={touched.punishment && errors.punishment}\r\n                    />\r\n                    <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\r\n                      hours remaining\r\n                    </Typography>\r\n                  </Stack>\r\n                )}\r\n\r\n                <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\r\n                  <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                    {isEdit && (\r\n                      <LoadingButton type=\"button\" color=\"error\" variant=\"contained\" onClick={onDeleteUser}>\r\n                        Delete This User\r\n                      </LoadingButton>\r\n                    )}\r\n                    <LoadingButton type=\"submit\" variant=\"contained\" loading={isSubmitting}>\r\n                      {!isEdit ? 'Create User' : 'Save Changes'}\r\n                    </LoadingButton>\r\n                    <LoadingButton type=\"button\" color=\"warning\" variant=\"contained\" onClick={handleAbort}>\r\n                      Abort\r\n                    </LoadingButton>\r\n                  </Stack>\r\n                </Box>\r\n              </Stack>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Form>\r\n      {openDeleteConfirm && (\r\n        <ConfirmDialog\r\n          message=\"Are you sure you are going to delete this user?\"\r\n          onConfirm={handleDeleteUser}\r\n          onClose={handleCloseDeleteConfirm}\r\n        />\r\n      )}\r\n    </FormikProvider>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}