{"ast":null,"code":"import { map, filter } from 'lodash';\nimport { createSlice } from '@reduxjs/toolkit'; // utils\n\nimport axios from '../../utils/axios';\nconst initialState = {\n  isLoading: false,\n  error: false,\n  settings: [],\n  settingsList: []\n};\nconst slice = createSlice({\n  name: 'settings',\n  initialState,\n  reducers: {\n    // START LOADING\n    startLoading(state) {\n      state.isLoading = true;\n    },\n\n    // HAS ERROR\n    hasError(state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n    },\n\n    // GET Settings\n    getSettingsSuccess(state, action) {\n      state.isLoading = false;\n      state.settingsList = action.payload;\n    },\n\n    // DELETE Setting\n    deleteSetting(state, action) {\n      const deleteSetting = filter(state.settingsList, setting => setting._id !== action.payload);\n      state.settingsList = deleteSetting;\n    }\n\n  }\n}); // Reducer\n\nexport default slice.reducer; // Actions\n\nexport const {\n  deleteSetting\n} = slice.actions; // ----------------------------------------------------------------------\n\nexport function getSettingsList() {\n  return async dispatch => {\n    dispatch(slice.actions.startLoading());\n\n    try {\n      const response = await axios.get('/settings'); // console.log(response.data.settings);\n\n      dispatch(slice.actions.getSettingsSuccess(response.data.settings));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n} // ----------------------------------------------------------------------","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/src/redux/slices/settings.js"],"names":["map","filter","createSlice","axios","initialState","isLoading","error","settings","settingsList","slice","name","reducers","startLoading","state","hasError","action","payload","getSettingsSuccess","deleteSetting","setting","_id","reducer","actions","getSettingsList","dispatch","response","get","data"],"mappings":"AAAA,SAASA,GAAT,EAAcC,MAAd,QAA4B,QAA5B;AACA,SAASC,WAAT,QAA4B,kBAA5B,C,CACA;;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,SAAS,EAAE,KADQ;AAEnBC,EAAAA,KAAK,EAAE,KAFY;AAGnBC,EAAAA,QAAQ,EAAE,EAHS;AAInBC,EAAAA,YAAY,EAAE;AAJK,CAArB;AAOA,MAAMC,KAAK,GAAGP,WAAW,CAAC;AACxBQ,EAAAA,IAAI,EAAE,UADkB;AAExBN,EAAAA,YAFwB;AAGxBO,EAAAA,QAAQ,EAAE;AACR;AACAC,IAAAA,YAAY,CAACC,KAAD,EAAQ;AAClBA,MAAAA,KAAK,CAACR,SAAN,GAAkB,IAAlB;AACD,KAJO;;AAKR;AACAS,IAAAA,QAAQ,CAACD,KAAD,EAAQE,MAAR,EAAgB;AACtBF,MAAAA,KAAK,CAACR,SAAN,GAAkB,KAAlB;AACAQ,MAAAA,KAAK,CAACP,KAAN,GAAcS,MAAM,CAACC,OAArB;AACD,KATO;;AAUR;AACAC,IAAAA,kBAAkB,CAACJ,KAAD,EAAQE,MAAR,EAAgB;AAChCF,MAAAA,KAAK,CAACR,SAAN,GAAkB,KAAlB;AACAQ,MAAAA,KAAK,CAACL,YAAN,GAAqBO,MAAM,CAACC,OAA5B;AACD,KAdO;;AAeR;AACAE,IAAAA,aAAa,CAACL,KAAD,EAAQE,MAAR,EAAgB;AAC3B,YAAMG,aAAa,GAAGjB,MAAM,CAACY,KAAK,CAACL,YAAP,EAAsBW,OAAD,IAAaA,OAAO,CAACC,GAAR,KAAgBL,MAAM,CAACC,OAAzD,CAA5B;AACAH,MAAAA,KAAK,CAACL,YAAN,GAAqBU,aAArB;AACD;;AAnBO;AAHc,CAAD,CAAzB,C,CA0BA;;AACA,eAAeT,KAAK,CAACY,OAArB,C,CACA;;AACA,OAAO,MAAM;AAAEH,EAAAA;AAAF,IAAoBT,KAAK,CAACa,OAAhC,C,CAEP;;AAEA,OAAO,SAASC,eAAT,GAA2B;AAChC,SAAO,MAAOC,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAACf,KAAK,CAACa,OAAN,CAAcV,YAAd,EAAD,CAAR;;AACA,QAAI;AACF,YAAMa,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,GAAN,CAAU,WAAV,CAAvB,CADE,CAEF;;AACAF,MAAAA,QAAQ,CAACf,KAAK,CAACa,OAAN,CAAcL,kBAAd,CAAiCQ,QAAQ,CAACE,IAAT,CAAcpB,QAA/C,CAAD,CAAR;AACD,KAJD,CAIE,OAAOD,KAAP,EAAc;AACdkB,MAAAA,QAAQ,CAACf,KAAK,CAACa,OAAN,CAAcR,QAAd,CAAuBR,KAAvB,CAAD,CAAR;AACD;AACF,GATD;AAUD,C,CAED","sourcesContent":["import { map, filter } from 'lodash';\r\nimport { createSlice } from '@reduxjs/toolkit';\r\n// utils\r\nimport axios from '../../utils/axios';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  error: false,\r\n  settings: [],\r\n  settingsList: []\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: 'settings',\r\n  initialState,\r\n  reducers: {\r\n    // START LOADING\r\n    startLoading(state) {\r\n      state.isLoading = true;\r\n    },\r\n    // HAS ERROR\r\n    hasError(state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n    // GET Settings\r\n    getSettingsSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.settingsList = action.payload;\r\n    },\r\n    // DELETE Setting\r\n    deleteSetting(state, action) {\r\n      const deleteSetting = filter(state.settingsList, (setting) => setting._id !== action.payload);\r\n      state.settingsList = deleteSetting;\r\n    }\r\n  }\r\n});\r\n\r\n// Reducer\r\nexport default slice.reducer;\r\n// Actions\r\nexport const { deleteSetting } = slice.actions;\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function getSettingsList() {\r\n  return async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await axios.get('/settings');\r\n      // console.log(response.data.settings);\r\n      dispatch(slice.actions.getSettingsSuccess(response.data.settings));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error));\r\n    }\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n"]},"metadata":{},"sourceType":"module"}